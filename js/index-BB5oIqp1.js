const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/PagoFinalizado-kvzA-uqR.js","js/three-d1oHV3Mw.js","js/vendor-Bon8Abu2.js","js/utils-tczIjzQR.js","js/ui-BQ9lwhRX.js","js/payment-BMxBx81N.js","js/ConfiguratorWrapper-D31n2wfz.js","js/GLTFLoader-L0pBLRUW.js","js/OrbitControls-DFclDx1A.js"])))=>i.map(i=>d[i]);
import{j as e,u as t,_ as a,T as n,E as r,A as o,D as s,P as i,M as l,a as c,b as d,B as u,V as h,S as m,W as p,c as x,d as f,e as g,R as b,f as y,C as w,g as v,F as j,h as C,i as F}from"./three-d1oHV3Mw.js";import{r as k,R as E}from"./vendor-Bon8Abu2.js";import{A as S,m as N,S as O,g as _}from"./utils-tczIjzQR.js";import{h as I}from"./ui-BQ9lwhRX.js";import{P as R,a as L,M as z}from"./payment-BMxBx81N.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();
/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
var P="popstate";function M(e={}){return function(e,t,a,n={}){let{window:r=document.defaultView,v5Compat:o=!1}=n,s=r.history,i="POP",l=null,c=d();null==c&&(c=0,s.replaceState({...s.state,idx:c},""));function d(){return(s.state||{idx:null}).idx}function u(){i="POP";let e=d(),t=null==e?null:e-c;c=e,l&&l({action:i,location:x.location,delta:t})}function h(e,t){i="PUSH";let a=B(x.location,e,t);c=d()+1;let n=D(a,c),u=x.createHref(a);try{s.pushState(n,"",u)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;r.location.assign(u)}o&&l&&l({action:i,location:x.location,delta:1})}function m(e,t){i="REPLACE";let a=B(x.location,e,t);c=d();let n=D(a,c),r=x.createHref(a);s.replaceState(n,"",r),o&&l&&l({action:i,location:x.location,delta:0})}function p(e){return function(e,t=!1){let a="http://localhost";"undefined"!=typeof window&&(a="null"!==window.location.origin?window.location.origin:window.location.href);T(a,"No window.location.(origin|href) available to create URL");let n="string"==typeof e?e:$(e);n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=a+n);return new URL(n,a)}(e)}let x={get action(){return i},get location(){return e(r,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(P,u),l=e,()=>{r.removeEventListener(P,u),l=null}},createHref:e=>t(r,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:h,replace:m,go:e=>s.go(e)};return x}(function(e,t){let{pathname:a,search:n,hash:r}=e.location;return B("",{pathname:a,search:n,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:$(t)},0,e)}function T(e,t){if(!1===e||null==e)throw new Error(t)}function A(e,t){if(!e)try{throw new Error(t)}catch(a){}}function D(e,t){return{usr:e.state,key:e.key,idx:t}}function B(e,t,a=null,n){return{pathname:"string"==typeof e?e:e.pathname,search:"",hash:"",..."string"==typeof t?U(t):t,state:a,key:t&&t.key||n||Math.random().toString(36).substring(2,10)}}function $({pathname:e="/",search:t="",hash:a=""}){return t&&"?"!==t&&(e+="?"===t.charAt(0)?t:"?"+t),a&&"#"!==a&&(e+="#"===a.charAt(0)?a:"#"+a),e}function U(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substring(a),e=e.substring(0,a));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function H(e,t,a="/"){return function(e,t,a,n){let r="string"==typeof t?U(t):t,o=ne(r.pathname||"/",a);if(null==o)return null;let s=W(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let a=e.length===t.length&&e.slice(0,-1).every((e,a)=>e===t[a]);return a?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let l=0;null==i&&l<s.length;++l){let e=ae(o);i=ee(s[l],e,n)}return i}(e,t,a,!1)}function W(e,t=[],a=[],n=""){let r=(e,r,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};s.relativePath.startsWith("/")&&(T(s.relativePath.startsWith(n),`Absolute route path "${s.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),s.relativePath=s.relativePath.slice(n.length));let i=ie([n,s.relativePath]),l=a.concat(s);e.children&&e.children.length>0&&(T(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${i}".`),W(e.children,t,l,i)),(null!=e.path||e.index)&&t.push({path:i,score:Q(i,e.index),routesMeta:l})};return e.forEach((e,t)=>{var a;if(""!==e.path&&(null==(a=e.path)?void 0:a.includes("?")))for(let n of V(e.path))r(e,t,n);else r(e,t)}),t}function V(e){let t=e.split("/");if(0===t.length)return[];let[a,...n]=t,r=a.endsWith("?"),o=a.replace(/\?$/,"");if(0===n.length)return r?[o,""]:[o];let s=V(n.join("/")),i=[];return i.push(...s.map(e=>""===e?o:[o,e].join("/"))),r&&i.push(...s),i.map(t=>e.startsWith("/")&&""===t?"/":t)}var G=/^:[\w-]+$/,K=3,Y=2,X=1,q=10,J=-2,Z=e=>"*"===e;function Q(e,t){let a=e.split("/"),n=a.length;return a.some(Z)&&(n+=J),t&&(n+=Y),a.filter(e=>!Z(e)).reduce((e,t)=>e+(G.test(t)?K:""===t?X:q),n)}function ee(e,t,a=!1){let{routesMeta:n}=e,r={},o="/",s=[];for(let i=0;i<n.length;++i){let e=n[i],l=i===n.length-1,c="/"===o?t:t.slice(o.length)||"/",d=te({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&a&&!n[n.length-1].route.index&&(d=te({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(r,d.params),s.push({params:r,pathname:ie([o,d.pathname]),pathnameBase:le(ie([o,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(o=ie([o,d.pathnameBase]))}return s}function te(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[a,n]=function(e,t=!1,a=!0){A("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,a)=>(n.push({paramName:t,isOptional:null!=a}),a?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(n.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let o=new RegExp(r,t?void 0:"i");return[o,n]}(e.path,e.caseSensitive,e.end),r=t.match(a);if(!r)return null;let o=r[0],s=o.replace(/(.)\/+$/,"$1"),i=r.slice(1);return{params:n.reduce((e,{paramName:t,isOptional:a},n)=>{if("*"===t){let e=i[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const r=i[n];return e[t]=a&&!r?void 0:(r||"").replace(/%2F/g,"/"),e},{}),pathname:o,pathnameBase:s,pattern:e}}function ae(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return A(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ne(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,n=e.charAt(a);return n&&"/"!==n?null:e.slice(a)||"/"}function re(e,t,a,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oe(e){let t=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t.map((e,a)=>a===t.length-1?e.pathname:e.pathnameBase)}function se(e,t,a,n=!1){let r;"string"==typeof e?r=U(e):(r={...e},T(!r.pathname||!r.pathname.includes("?"),re("?","pathname","search",r)),T(!r.pathname||!r.pathname.includes("#"),re("#","pathname","hash",r)),T(!r.search||!r.search.includes("#"),re("#","search","hash",r)));let o,s=""===e||""===r.pathname,i=s?"/":r.pathname;if(null==i)o=a;else{let e=t.length-1;if(!n&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t="/"){let{pathname:a,search:n="",hash:r=""}="string"==typeof e?U(e):e,o=a?a.startsWith("/")?a:function(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?a.length>1&&a.pop():"."!==e&&a.push(e)}),a.length>1?a.join("/"):"/"}(a,t):t;return{pathname:o,search:ce(n),hash:de(r)}}(r,o),c=i&&"/"!==i&&i.endsWith("/"),d=(s||"."===i)&&a.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}var ie=e=>e.join("/").replace(/\/\/+/g,"/"),le=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ce=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",de=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var ue=["POST","PUT","PATCH","DELETE"];new Set(ue);var he=["GET",...ue];new Set(he);var me=k.createContext(null);me.displayName="DataRouter";var pe=k.createContext(null);pe.displayName="DataRouterState",k.createContext(!1);var xe=k.createContext({isTransitioning:!1});xe.displayName="ViewTransition",k.createContext(new Map).displayName="Fetchers",k.createContext(null).displayName="Await";var fe=k.createContext(null);fe.displayName="Navigation";var ge=k.createContext(null);ge.displayName="Location";var be=k.createContext({outlet:null,matches:[],isDataRoute:!1});be.displayName="Route";var ye=k.createContext(null);function we(){return null!=k.useContext(ge)}function ve(){return T(we(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(ge).location}ye.displayName="RouteError";var je="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ce(e){k.useContext(fe).static||k.useLayoutEffect(e)}function Fe(){let{isDataRoute:e}=k.useContext(be);return e?function(){let{router:e}=function(e){let t=k.useContext(me);return T(t,Ie(e)),t}("useNavigate"),t=Re("useNavigate"),a=k.useRef(!1);return Ce(()=>{a.current=!0}),k.useCallback(async(n,r={})=>{A(a.current,je),a.current&&("number"==typeof n?e.navigate(n):await e.navigate(n,{fromRouteId:t,...r}))},[e,t])}():function(){T(we(),"useNavigate() may be used only in the context of a <Router> component.");let e=k.useContext(me),{basename:t,navigator:a}=k.useContext(fe),{matches:n}=k.useContext(be),{pathname:r}=ve(),o=JSON.stringify(oe(n)),s=k.useRef(!1);return Ce(()=>{s.current=!0}),k.useCallback((n,i={})=>{if(A(s.current,je),!s.current)return;if("number"==typeof n)return void a.go(n);let l=se(n,JSON.parse(o),r,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:ie([t,l.pathname])),(i.replace?a.replace:a.push)(l,i.state,i)},[t,a,o,r,e])}()}function ke(e,{relative:t}={}){let{matches:a}=k.useContext(be),{pathname:n}=ve(),r=JSON.stringify(oe(a));return k.useMemo(()=>se(e,JSON.parse(r),n,"path"===t),[e,r,n,t])}function Ee(e,t,a,n){T(we(),"useRoutes() may be used only in the context of a <Router> component.");let r,{navigator:o}=k.useContext(fe),{matches:s}=k.useContext(be),i=s[s.length-1],l=i?i.params:{},c=i?i.pathname:"/",d=i?i.pathnameBase:"/",u=i&&i.route;{let e=u&&u.path||"";ze(c,!u||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}r=ve();let h=r.pathname||"/",m=h;if("/"!==d){let e=d.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(e.length).join("/")}let p=H(e,{pathname:m});A(u||null!=p,`No routes matched location "${r.pathname}${r.search}${r.hash}" `),A(null==p||void 0!==p[p.length-1].route.element||void 0!==p[p.length-1].route.Component||void 0!==p[p.length-1].route.lazy,`Matched leaf route at location "${r.pathname}${r.search}${r.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=function(e,t=[],a=null){if(null==e){if(!a)return null;if(a.errors)e=a.matches;else{if(0!==t.length||a.initialized||!(a.matches.length>0))return null;e=a.matches}}let n=e,r=null==a?void 0:a.errors;if(null!=r){let e=n.findIndex(e=>e.route.id&&void 0!==(null==r?void 0:r[e.route.id]));T(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),n=n.slice(0,Math.min(n.length,e+1))}let o=!1,s=-1;if(a)for(let i=0;i<n.length;i++){let e=n[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(s=i),e.route.id){let{loaderData:t,errors:r}=a,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){o=!0,n=s>=0?n.slice(0,s+1):[n[0]];break}}}return n.reduceRight((e,i,l)=>{let c,d=!1,u=null,h=null;a&&(c=r&&i.route.id?r[i.route.id]:void 0,u=i.route.errorElement||Ne,o&&(s<0&&0===l?(ze("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,h=null):s===l&&(d=!0,h=i.route.hydrateFallbackElement||null)));let m=t.concat(n.slice(0,l+1)),p=()=>{let t;return t=c?u:d?h:i.route.Component?k.createElement(i.route.Component,null):i.route.element?i.route.element:e,k.createElement(_e,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=a},children:t})};return a&&(i.route.ErrorBoundary||i.route.errorElement||0===l)?k.createElement(Oe,{location:a.location,revalidation:a.revalidation,component:u,error:c,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}(p&&p.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:ie([d,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:ie([d,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,a,n);return x}function Se(){let e=function(){var e;let t=k.useContext(ye),a=function(e){let t=k.useContext(pe);return T(t,Ie(e)),t}("useRouteError"),n=Re("useRouteError");if(void 0!==t)return t;return null==(e=a.errors)?void 0:e[n]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},s=null;return s=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:o},"ErrorBoundary")," or"," ",k.createElement("code",{style:o},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),a?k.createElement("pre",{style:r},a):null,s)}k.createContext(null);var Ne=k.createElement(Se,null),Oe=class extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){}render(){return void 0!==this.state.error?k.createElement(be.Provider,{value:this.props.routeContext},k.createElement(ye.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _e({routeContext:e,match:t,children:a}){let n=k.useContext(me);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(be.Provider,{value:e},a)}function Ie(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Re(e){let t=function(e){let t=k.useContext(be);return T(t,Ie(e)),t}(e),a=t.matches[t.matches.length-1];return T(a.route.id,`${e} can only be used on routes that contain a unique "id"`),a.route.id}var Le={};function ze(e,t,a){t||Le[e]||(Le[e]=!0,A(!1,a))}function Pe({basename:e="/",children:t=null,location:a,navigationType:n="POP",navigator:r,static:o=!1}){T(!we(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),i=k.useMemo(()=>({basename:s,navigator:r,static:o,future:{}}),[s,r,o]);"string"==typeof a&&(a=U(a));let{pathname:l="/",search:c="",hash:d="",state:u=null,key:h="default"}=a,m=k.useMemo(()=>{let e=ne(l,s);return null==e?null:{location:{pathname:e,search:c,hash:d,state:u,key:h},navigationType:n}},[s,l,c,d,u,h,n]);return A(null!=m,`<Router basename="${s}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),null==m?null:k.createElement(fe.Provider,{value:i},k.createElement(ge.Provider,{children:t,value:m}))}k.memo(function({routes:e,future:t,state:a}){return Ee(e,0,a,t)});var Me="get",Te="application/x-www-form-urlencoded";function Ae(e){return null!=e&&"string"==typeof e.tagName}function De(e=""){return new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,a)=>{let n=e[a];return t.concat(Array.isArray(n)?n.map(e=>[a,e]):[[a,n]])},[]))}var Be=null;var $e=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ue(e){return null==e||$e.has(e)?e:(A(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Te}"`),null)}function He(e,t){let a,n,r,o,s;if(Ae(i=e)&&"form"===i.tagName.toLowerCase()){let s=e.getAttribute("action");n=s?ne(s,t):null,a=e.getAttribute("method")||Me,r=Ue(e.getAttribute("enctype"))||Te,o=new FormData(e)}else if(function(e){return Ae(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ae(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let i=e.getAttribute("formaction")||s.getAttribute("action");if(n=i?ne(i,t):null,a=e.getAttribute("formmethod")||s.getAttribute("method")||Me,r=Ue(e.getAttribute("formenctype"))||Ue(s.getAttribute("enctype"))||Te,o=new FormData(s,e),!function(){if(null===Be)try{new FormData(document.createElement("form"),0),Be=!1}catch(e){Be=!0}return Be}()){let{name:t,type:a,value:n}=e;if("image"===a){let e=t?`${t}.`:"";o.append(`${e}x`,"0"),o.append(`${e}y`,"0")}else t&&o.append(t,n)}}else{if(Ae(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=Me,n=null,r=Te,s=e}var i;return o&&"text/plain"===r&&(s=o,o=void 0),{action:n,method:a.toLowerCase(),encType:r,formData:o,body:s}}function We(e,t){if(!1===e||null==e)throw new Error(t)}function Ve(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"==typeof e.imageSrcSet&&"string"==typeof e.imageSizes:"string"==typeof e.rel&&"string"==typeof e.href)}async function Ge(e,t,a){return function(e,t){let a=new Set;return new Set(t),e.reduce((e,t)=>{let n=JSON.stringify(function(e){let t={},a=Object.keys(e).sort();for(let n of a)t[n]=e[n];return t}(t));return a.has(n)||(a.add(n),e.push({key:n,link:t})),e},[])}((await Promise.all(e.map(async e=>{let n=t.routes[e.route.id];if(n){let e=await async function(e,t){if(e.id in t)return t[e.id];try{let a=await import(e.module);return t[e.id]=a,a}catch(a){return window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}(n,a);return e.links?e.links():[]}return[]}))).flat(1).filter(Ve).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}function Ke(e,t,a,n,r,o){let s=(e,t)=>!a[t]||e.route.id!==a[t].route.id,i=(e,t)=>{var n;return a[t].pathname!==e.pathname||(null==(n=a[t].route.path)?void 0:n.endsWith("*"))&&a[t].params["*"]!==e.params["*"]};return"assets"===o?t.filter((e,t)=>s(e,t)||i(e,t)):"data"===o?t.filter((t,o)=>{var l;let c=n.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(s(t,o)||i(t,o))return!0;if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:(null==(l=a[0])?void 0:l.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"==typeof n)return n}return!0}):[]}function Ye(e,t,{includeHydrateFallback:a}={}){return n=e.map(e=>{let n=t.routes[e.route.id];if(!n)return[];let r=[n.module];return n.clientActionModule&&(r=r.concat(n.clientActionModule)),n.clientLoaderModule&&(r=r.concat(n.clientLoaderModule)),a&&n.hydrateFallbackModule&&(r=r.concat(n.hydrateFallbackModule)),n.imports&&(r=r.concat(n.imports)),r}).flat(1),[...new Set(n)];var n}function Xe(){let e=k.useContext(me);return We(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var qe=k.createContext(void 0);function Je(){let e=k.useContext(qe);return We(e,"You must render this element inside a <HydratedRouter> element"),e}function Ze(e,t){return a=>{e&&e(a),a.defaultPrevented||t(a)}}function Qe({page:e,...t}){let{router:a}=Xe(),n=k.useMemo(()=>H(a.routes,e,a.basename),[a.routes,e,a.basename]);return n?k.createElement(et,{page:e,matches:n,...t}):null}function et({page:e,matches:t,...a}){let n=ve(),{manifest:r,routeModules:o}=Je(),{basename:s}=Xe(),{loaderData:i,matches:l}=function(){let e=k.useContext(pe);return We(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}(),c=k.useMemo(()=>Ke(e,t,l,r,n,"data"),[e,t,l,r,n]),d=k.useMemo(()=>Ke(e,t,l,r,n,"assets"),[e,t,l,r,n]),u=k.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let a=new Set,l=!1;if(t.forEach(e=>{var t;let n=r.routes[e.route.id];n&&n.hasLoader&&(!c.some(t=>t.route.id===e.route.id)&&e.route.id in i&&(null==(t=o[e.route.id])?void 0:t.shouldRevalidate)||n.hasClientLoader?l=!0:a.add(e.route.id))}),0===a.size)return[];let d=function(e,t,a){let n="string"==typeof e?new URL(e,"undefined"==typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname=`_root.${a}`:t&&"/"===ne(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${a}`,n}(e,s,"data");return l&&a.size>0&&d.searchParams.set("_routes",t.filter(e=>a.has(e.route.id)).map(e=>e.route.id).join(",")),[d.pathname+d.search]},[s,i,n,r,c,t,e,o]),h=k.useMemo(()=>Ye(d,r),[d,r]),m=function(e){let{manifest:t,routeModules:a}=Je(),[n,r]=k.useState([]);return k.useEffect(()=>{let n=!1;return Ge(e,t,a).then(e=>{n||r(e)}),()=>{n=!0}},[e,t,a]),n}(d);return k.createElement(k.Fragment,null,u.map(e=>k.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...a})),h.map(e=>k.createElement("link",{key:e,rel:"modulepreload",href:e,...a})),m.map(({key:e,link:t})=>k.createElement("link",{key:e,nonce:a.nonce,...t})))}function tt(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}qe.displayName="FrameworkContext";var at="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{at&&(window.__reactRouterVersion="7.8.0")}catch(aa){}function nt({basename:e,children:t,window:a}){let n=k.useRef();null==n.current&&(n.current=M({window:a,v5Compat:!0}));let r=n.current,[o,s]=k.useState({action:r.action,location:r.location}),i=k.useCallback(e=>{k.startTransition(()=>s(e))},[s]);return k.useLayoutEffect(()=>r.listen(i),[r,i]),k.createElement(Pe,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:r})}var rt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ot=k.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:n,reloadDocument:r,replace:o,state:s,target:i,to:l,preventScrollReset:c,viewTransition:d,...u},h){let m,{basename:p}=k.useContext(fe),x="string"==typeof l&&rt.test(l),f=!1;if("string"==typeof l&&x&&(m=l,at))try{let e=new URL(window.location.href),t=l.startsWith("//")?new URL(e.protocol+l):new URL(l),a=ne(t.pathname,p);t.origin===e.origin&&null!=a?l=a+t.search+t.hash:f=!0}catch(aa){A(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=function(e,{relative:t}={}){T(we(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:n}=k.useContext(fe),{hash:r,pathname:o,search:s}=ke(e,{relative:t}),i=o;return"/"!==a&&(i="/"===o?a:ie([a,o])),n.createHref({pathname:i,search:s,hash:r})}(l,{relative:n}),[b,y,w]=function(e,t){let a=k.useContext(qe),[n,r]=k.useState(!1),[o,s]=k.useState(!1),{onFocus:i,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:u}=t,h=k.useRef(null);k.useEffect(()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return h.current&&e.observe(h.current),()=>{e.disconnect()}}},[e]),k.useEffect(()=>{if(n){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[n]);let m=()=>{r(!0)},p=()=>{r(!1),s(!1)};return a?"intent"!==e?[o,h,{}]:[o,h,{onFocus:Ze(i,m),onBlur:Ze(l,p),onMouseEnter:Ze(c,m),onMouseLeave:Ze(d,p),onTouchStart:Ze(u,m)}]:[!1,h,{}]}(a,u),v=function(e,{target:t,replace:a,state:n,preventScrollReset:r,relative:o,viewTransition:s}={}){let i=Fe(),l=ve(),c=ke(e,{relative:o});return k.useCallback(d=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(d,t)){d.preventDefault();let t=void 0!==a?a:$(l)===$(c);i(e,{replace:t,state:n,preventScrollReset:r,relative:o,viewTransition:s})}},[l,i,c,a,n,t,e,r,o,s])}(l,{replace:o,state:s,target:i,preventScrollReset:c,relative:n,viewTransition:d});let j=k.createElement("a",{...u,...w,href:m||g,onClick:f||r?e:function(t){e&&e(t),t.defaultPrevented||v(t)},ref:tt(h,y),target:i,"data-discover":x||"render"!==t?void 0:"true"});return b&&!x?k.createElement(k.Fragment,null,j,k.createElement(Qe,{page:g})):j});function st(e){let t=k.useContext(me);return T(t,function(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}(e)),t}function it(e){A("undefined"!=typeof URLSearchParams,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=k.useRef(De(e)),a=k.useRef(!1),n=ve(),r=k.useMemo(()=>function(e,t){let a=De(e);return t&&t.forEach((e,n)=>{a.has(n)||t.getAll(n).forEach(e=>{a.append(n,e)})}),a}(n.search,a.current?null:t.current),[n.search]),o=Fe(),s=k.useCallback((e,t)=>{const n=De("function"==typeof e?e(new URLSearchParams(r)):e);a.current=!0,o("?"+n,t)},[o,r]);return[r,s]}ot.displayName="Link",k.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:n=!1,style:r,to:o,viewTransition:s,children:i,...l},c){let d=ke(o,{relative:l.relative}),u=ve(),h=k.useContext(pe),{navigator:m,basename:p}=k.useContext(fe),x=null!=h&&function(e,{relative:t}={}){let a=k.useContext(xe);T(null!=a,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=st("useViewTransitionState"),r=ke(e,{relative:t});if(!a.isTransitioning)return!1;let o=ne(a.currentLocation.pathname,n)||a.currentLocation.pathname,s=ne(a.nextLocation.pathname,n)||a.nextLocation.pathname;return null!=te(r.pathname,s)||null!=te(r.pathname,o)}(d)&&!0===s,f=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,g=u.pathname,b=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;t||(g=g.toLowerCase(),b=b?b.toLowerCase():null,f=f.toLowerCase()),b&&p&&(b=ne(b,p)||b);const y="/"!==f&&f.endsWith("/")?f.length-1:f.length;let w,v=g===f||!n&&g.startsWith(f)&&"/"===g.charAt(y),j=null!=b&&(b===f||!n&&b.startsWith(f)&&"/"===b.charAt(f.length)),C={isActive:v,isPending:j,isTransitioning:x},F=v?e:void 0;w="function"==typeof a?a(C):[a,v?"active":null,j?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let E="function"==typeof r?r(C):r;return k.createElement(ot,{...l,"aria-current":F,className:w,ref:c,style:E,to:o,viewTransition:s},"function"==typeof i?i(C):i)}).displayName="NavLink",k.forwardRef(({discover:e="render",fetcherKey:t,navigate:a,reloadDocument:n,replace:r,state:o,method:s=Me,action:i,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:u,...h},m)=>{let p=function(){let{router:e}=st("useSubmit"),{basename:t}=k.useContext(fe),a=Re("useRouteId");return k.useCallback(async(n,r={})=>{let{action:o,method:s,encType:i,formData:l,body:c}=He(n,t);if(!1===r.navigate){let t=r.fetcherKey||ct();await e.fetch(t,a,r.action||o,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||s,formEncType:r.encType||i,flushSync:r.flushSync})}else await e.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||s,formEncType:r.encType||i,replace:r.replace,state:r.state,fromRouteId:a,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,a])}(),x=function(e,{relative:t}={}){let{basename:a}=k.useContext(fe),n=k.useContext(be);T(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),o={...ke(e||".",{relative:t})},s=ve();if(null==e){o.search=s.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let a=e.toString();o.search=a?`?${a}`:""}}e&&"."!==e||!r.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==a&&(o.pathname="/"===o.pathname?a:ie([a,o.pathname]));return $(o)}(i,{relative:c}),f="get"===s.toLowerCase()?"get":"post",g="string"==typeof i&&rt.test(i);return k.createElement("form",{ref:m,method:f,action:x,onSubmit:n?l:e=>{if(l&&l(e),e.defaultPrevented)return;e.preventDefault();let n=e.nativeEvent.submitter,i=(null==n?void 0:n.getAttribute("formmethod"))||s;p(n||e.currentTarget,{fetcherKey:t,method:i,navigate:a,replace:r,state:o,relative:c,preventScrollReset:d,viewTransition:u})},...h,"data-discover":g||"render"!==e?void 0:"true"})}).displayName="Form";var lt=0,ct=()=>`__${String(++lt)}__`;const dt=({isVisible:t,onComplete:a})=>{const[n,r]=k.useState(0),[o]=k.useState(Date.now()),[s,i]=k.useState(!1),[l,c]=k.useState(!1),d=k.useRef(null);return k.useEffect(()=>{if(t){const e=setInterval(()=>{const t=Date.now()-o,n=Math.min(t/4100*100,100);r(e=>Math.abs(e-n)>=1||n>=100?n:e),n>=100&&(clearInterval(e),d.current&&(d.current.pause(),d.current.currentTime=0),null==a||a())},100);return()=>clearInterval(e)}r(0)},[t,o]),k.useEffect(()=>{if(d.current&&t){const e=d.current;e.playbackRate=1,e.volume=0;const t=()=>{c(!0),e.play().catch(e=>{i(!0)})},a=e=>{i(!0)},n=()=>{},r=()=>{},o=()=>{},s=()=>{};return e.addEventListener("canplay",t),e.addEventListener("error",a),e.addEventListener("loadstart",n),e.addEventListener("loadeddata",r),e.addEventListener("waiting",o),e.addEventListener("playing",s),e.load(),()=>{e.removeEventListener("canplay",t),e.removeEventListener("error",a),e.removeEventListener("loadstart",n),e.removeEventListener("loadeddata",r),e.removeEventListener("waiting",o),e.removeEventListener("playing",s)}}if(d.current&&!t){const e=d.current;e.pause(),e.currentTime=0,c(!1),i(!1)}},[t]),e.jsx(S,{children:t&&e.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:9999,color:"white",fontFamily:"Arial, sans-serif",overflow:"hidden"},children:[e.jsxs("video",{ref:d,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:-2},muted:!0,loop:!0,playsInline:!0,preload:"metadata",crossOrigin:"anonymous",autoPlay:!0,children:[e.jsx("source",{src:"/CONFIGURADOR/videos/video.mp4",type:"video/mp4"}),e.jsx("img",{src:"/textures/carga.jpg",alt:"Loading background",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}})]}),e.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.3)",zIndex:-1}}),e.jsx(N.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},style:{fontSize:"32px",fontWeight:"bold",marginBottom:"20px",color:"#00FFFF",textShadow:"0 0 20px #00FFFF, 0 0 40px #00FFFF, 0 0 60px #00FFFF",position:"relative",zIndex:1},children:"BEATO8"}),e.jsx(N.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8,ease:"easeOut"},style:{fontSize:"18px",fontWeight:"bold",marginBottom:"40px",color:"#FFFFFF",textShadow:"0 0 15px #FFFFFF, 0 0 30px #FFFFFF",position:"relative",zIndex:1},children:"Features: Metal body, 8 ARCADE buttons, and 4 assignable knobs."}),e.jsx(N.div,{animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"},style:{width:"100px",height:"100px",border:"6px solid rgba(0, 255, 255, 0.3)",borderTop:"6px solid #00FFFF",borderRadius:"50%",marginBottom:"40px",boxShadow:"0 0 30px rgba(0, 255, 255, 0.8), 0 0 60px rgba(0, 255, 255, 0.4)",position:"relative",zIndex:1}}),e.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},style:{fontSize:"20px",fontWeight:"bold",textAlign:"center",marginBottom:"20px",color:"#00FFFF",textShadow:"0 0 15px #00FFFF, 0 0 30px #00FFFF",position:"relative",zIndex:1},children:["Cargando BEATO8... ",Math.round(n),"%"]}),n>=100&&e.jsx(N.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.8},style:{fontSize:"18px",color:"#00FF80",fontWeight:"bold",marginBottom:"30px",textShadow:"0 0 15px #00FF80, 0 0 30px #00FF80",position:"relative",zIndex:1},children:"¡BEATO8 listo para configurar!"}),e.jsx(N.div,{style:{width:"400px",height:"8px",backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:"4px",overflow:"hidden",boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.3)",marginBottom:"40px",position:"relative",zIndex:1},children:e.jsx(N.div,{initial:{width:0},animate:{width:`${n}%`},transition:{duration:.1,ease:"linear"},style:{width:"100%",height:"100%",background:"linear-gradient(90deg, #00FFFF, #00CCFF, #00FFFF)",borderRadius:"4px",boxShadow:"0 0 20px rgba(0, 255, 255, 0.8), 0 0 40px rgba(0, 255, 255, 0.4)",backgroundSize:"200% 100%",animation:"shimmer 2s infinite"}})}),e.jsx(N.div,{style:{display:"flex",gap:"12px",marginTop:"20px",position:"relative",zIndex:1},children:[0,1,2].map(t=>e.jsx(N.div,{animate:{scale:[1,1.3,1],opacity:[.4,1,.4]},transition:{duration:2,repeat:1/0,delay:.3*t,ease:"easeInOut"},style:{width:"12px",height:"12px",backgroundColor:"#00FFFF",borderRadius:"50%",boxShadow:"0 0 15px rgba(0, 255, 255, 0.8), 0 0 30px rgba(0, 255, 255, 0.4)"}},t))}),e.jsx("style",{children:"\n            @keyframes shimmer {\n              0% { background-position: -200% 0; }\n              100% { background-position: 200% 0; }\n            }\n          "})]})})},ut=({type:t="default",className:a=""})=>{const n="animate-pulse bg-gray-700 rounded";switch(t){case"configurator":return e.jsxs("div",{className:`w-full h-screen ${a}`,children:[e.jsx("div",{className:`${n} w-full h-3/4 mb-4`}),e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsx("div",{className:`${n} w-24 h-10`}),e.jsx("div",{className:`${n} w-24 h-10`}),e.jsx("div",{className:`${n} w-24 h-10`})]}),e.jsx("div",{className:"flex gap-2",children:Array.from({length:8}).map((t,a)=>e.jsx("div",{className:`${n} w-12 h-12 rounded-full`},a))})]});case"payment":return e.jsxs("div",{className:`w-full max-w-md mx-auto p-6 ${a}`,children:[e.jsx("div",{className:`${n} w-full h-12 mb-4`}),e.jsx("div",{className:`${n} w-full h-12 mb-4`}),e.jsx("div",{className:`${n} w-full h-12 mb-4`}),e.jsx("div",{className:`${n} w-32 h-12 mx-auto`})]});case"product":return e.jsxs("div",{className:`w-full ${a}`,children:[e.jsx("div",{className:`${n} w-full h-64 mb-4`}),e.jsx("div",{className:`${n} w-3/4 h-6 mb-2`}),e.jsx("div",{className:`${n} w-1/2 h-4 mb-4`}),e.jsx("div",{className:`${n} w-24 h-10`})]});default:return e.jsx("div",{className:`w-full h-32 ${a}`,children:e.jsx("div",{className:`${n} w-full h-full`})})}};class ht extends k.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){}render(){return this.state.hasError?this.props.fallback||e.jsxs("div",{className:"error-boundary-fallback",children:[e.jsx("h2",{children:"Algo salió mal"}),e.jsx("p",{children:"No se pudo cargar el componente. Por favor, recarga la página."}),e.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"10px 20px",backgroundColor:"#00FFFF",color:"#000",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Recargar página"})]}):this.props.children}}E.lazy(()=>a(()=>Promise.resolve().then(()=>St),[]).then(e=>({default:e.default}))),E.lazy(()=>a(()=>Promise.resolve().then(()=>Rt),void 0).then(e=>({default:e.default}))),E.lazy(()=>a(()=>Promise.resolve().then(()=>Tt),void 0).then(e=>({default:e.default}))),E.lazy(()=>a(()=>Promise.resolve().then(()=>Ut),void 0).then(e=>({default:e.default}))),E.lazy(()=>a(()=>Promise.resolve().then(()=>Kt),void 0).then(e=>({default:e.default}))),E.lazy(()=>a(()=>Promise.resolve().then(()=>Zt),void 0).then(e=>({default:e.default})));const mt=E.lazy(()=>a(()=>import("./PagoFinalizado-kvzA-uqR.js"),__vite__mapDeps([0,1,2,3,4,5])).then(e=>({default:e.default}))),pt=E.lazy(()=>a(()=>import("./ConfiguratorWrapper-D31n2wfz.js"),__vite__mapDeps([6,1,2])).then(e=>({default:e.default}))),xt={API_KEY:"4Vj8eK4rloUd272L48hsrarnUA",MERCHANT_ID:"508029",CURRENCIES:{USD:{amount:"185.00",accountId:"512321",symbol:"$",url:"https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/",country:"CO",language:"en"},COP:{amount:"735000.00",accountId:"512321",symbol:"$",url:"https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/",country:"CO",language:"en"}},BEATO16_CURRENCIES:{USD:{amount:"250.00",accountId:"512321",symbol:"$",url:"https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/",country:"CO",language:"en"},COP:{amount:"1000000.00",accountId:"512321",symbol:"$",url:"https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/",country:"CO",language:"en"}},KNOBO_CURRENCIES:{USD:{amount:"100.00",accountId:"512321",symbol:"$",url:"https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/",country:"CO",language:"en"},COP:{amount:"400000.00",accountId:"512321",symbol:"$",url:"https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/",country:"CO",language:"en"}},MIXO_CURRENCIES:{USD:{amount:"200.00",accountId:"512321",symbol:"$",url:"https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/",country:"CO",language:"en"},COP:{amount:"800000.00",accountId:"512321",symbol:"$",url:"https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/",country:"CO",language:"en"}},LOOPO_CURRENCIES:{USD:{amount:"110.00",accountId:"512321",symbol:"$",url:"https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/",country:"CO",language:"en"},COP:{amount:"440000.00",accountId:"512321",symbol:"$",url:"https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/",country:"CO",language:"en"}},FADO_CURRENCIES:{USD:{amount:"150.00",accountId:"512321",symbol:"$",url:"https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/",country:"CO",language:"en"},COP:{amount:"600000.00",accountId:"512321",symbol:"$",url:"https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/",country:"CO",language:"en"}},DEFAULT_CURRENCY:"USD",CONFIRMATION_URL:"https://1992e3fe606e.ngrok-free.app/api/payu/confirmation",RESPONSE_URL:"https://1992e3fe606e.ngrok-free.app/pago-finalizado"},ft=e=>xt.CURRENCIES[e]||xt.CURRENCIES[xt.DEFAULT_CURRENCY],gt=e=>xt.BEATO16_CURRENCIES[e]||xt.BEATO16_CURRENCIES[xt.DEFAULT_CURRENCY],bt=e=>xt.KNOBO_CURRENCIES[e]||xt.KNOBO_CURRENCIES[xt.DEFAULT_CURRENCY],yt=e=>xt.MIXO_CURRENCIES[e]||xt.MIXO_CURRENCIES[xt.DEFAULT_CURRENCY],wt=e=>xt.LOOPO_CURRENCIES[e]||xt.LOOPO_CURRENCIES[xt.DEFAULT_CURRENCY],vt=e=>xt.FADO_CURRENCIES[e]||xt.FADO_CURRENCIES[xt.DEFAULT_CURRENCY];const jt=new class{constructor(){this.baseURL="http://localhost:3001/api",this.timeout=3e4}async makeRequest(e,t={}){const a=`${this.baseURL}${e}`,n={method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},timeout:this.timeout,...t};try{const e=await fetch(a,n);if(!e.ok){const t=await e.json().catch(()=>({}));throw new Error(t.message||`HTTP error! status: ${e.status}`)}return await e.json()}catch(r){throw r}}async createPayUOrder(e,t,a){return this.makeRequest("/payment/payu/create-order",{method:"POST",body:JSON.stringify({productType:e,currency:t,productConfig:a})})}async createPayPalOrder(e,t,a){return this.makeRequest("/payment/paypal/create-order",{method:"POST",body:JSON.stringify({productType:e,currency:t,productConfig:a})})}async capturePayPalPayment(e){return this.makeRequest("/payment/paypal/capture-payment",{method:"POST",body:JSON.stringify({paypalOrderId:e})})}async getOrderStatus(e){return this.makeRequest(`/payment/order/${e}/status`)}async getProductsConfig(){return this.makeRequest("/payment/products/config")}async checkHealth(){return this.makeRequest("/payment/health")}},Ct=()=>{const[e,t]=k.useState(!1),[a,n]=k.useState(null),r=k.useCallback(async(e,a,r)=>{t(!0),n(null);try{const t=await jt.createPayUOrder(e,a,r);if(t.success&&t.data)return window.location.href=t.data.paymentUrl,t.data;throw new Error("Error al crear orden PayU")}catch(o){throw n(o.message),O.fire({title:"Error",text:`Error al procesar pago con PayU: ${o.message}`,icon:"error",confirmButtonColor:"#a259ff"}),o}finally{t(!1)}},[]),o=k.useCallback(async(e,a,r)=>{t(!0),n(null);try{const t=await jt.createPayPalOrder(e,a,r);if(t.success&&t.data)return t.data;throw new Error("Error al crear orden PayPal")}catch(o){throw n(o.message),O.fire({title:"Error",text:`Error al procesar pago con PayPal: ${o.message}`,icon:"error",confirmButtonColor:"#a259ff"}),o}finally{t(!1)}},[]),s=k.useCallback(async e=>{t(!0),n(null);try{const t=await jt.capturePayPalPayment(e);if(t.success&&t.data)return O.fire({title:"¡Pago Exitoso!",text:"Tu pago ha sido procesado correctamente",icon:"success",confirmButtonColor:"#a259ff"}),t.data;throw new Error("Error al capturar pago PayPal")}catch(a){throw n(a.message),O.fire({title:"Error",text:`Error al capturar pago: ${a.message}`,icon:"error",confirmButtonColor:"#a259ff"}),a}finally{t(!1)}},[]),i=k.useCallback(async e=>{try{const t=await jt.getOrderStatus(e);if(t.success&&t.data)return t.data;throw new Error("Error al verificar estado de orden")}catch(t){throw n(t.message),t}},[]),l=k.useCallback(async()=>{try{const e=await jt.getProductsConfig();if(e.success&&e.data)return e.data;throw new Error("Error al obtener configuración de productos")}catch(e){throw n(e.message),e}},[]),c=k.useCallback(async()=>{try{return(await jt.checkHealth()).success}catch(e){return!1}},[]),d=k.useCallback(async(e,t,a)=>{try{O.fire({title:"Procesando pago...",text:"Redirigiendo a PayU",allowOutsideClick:!1,didOpen:()=>{O.showLoading()}});return await r(e,t,a)}catch(n){throw n}},[r]),u=k.useCallback(async(e,t,a)=>{try{O.fire({title:"Procesando pago...",text:"Creando orden en PayPal",allowOutsideClick:!1,didOpen:()=>{O.showLoading()}});const n=await o(e,t,a);return O.close(),n}catch(n){throw n}},[o]),h=k.useCallback(async e=>{try{O.fire({title:"Confirmando pago...",text:"Procesando transacción",allowOutsideClick:!1,didOpen:()=>{O.showLoading()}});return await s(e)}catch(t){throw t}},[s]),m=k.useCallback(()=>{O.fire({title:"Pago Cancelado",text:"Has cancelado el proceso de pago",icon:"info",confirmButtonColor:"#a259ff"})},[]),p=k.useCallback(e=>{O.fire({title:"Error en PayPal",text:"Ocurrió un error durante el proceso de pago",icon:"error",confirmButtonColor:"#a259ff"})},[]);return{loading:e,error:a,createPayUOrder:r,createPayPalOrder:o,capturePayPalPayment:s,checkOrderStatus:i,getProductsConfig:l,checkServerHealth:c,processPayUPayment:d,processPayPalPayment:u,handlePayPalSuccess:h,handlePayPalCancel:m,handlePayPalError:p}},Ft="sb",kt=({isOpen:t,onClose:a,productType:n,productConfig:r,selectedCurrency:o="USD"})=>{const[s,i]=k.useState("paypal"),[l,c]=k.useState(null),{loading:d,error:u,processPayUPayment:h,processPayPalPayment:m,handlePayPalSuccess:p,handlePayPalCancel:x,handlePayPalError:f,getProductsConfig:g,checkServerHealth:b}=Ct();k.useEffect(()=>{t&&(y(),w())},[t]);const y=async()=>{try{const e=await g();c(e)}catch(e){}},w=async()=>{await b()||O.fire({title:"Error de Conexión",text:"No se puede conectar con el servidor de pagos. Inténtalo de nuevo más tarde.",icon:"error",confirmButtonColor:"#a259ff"})},v=(()=>{if(!l||!l[n])return{name:"Producto",amount:"0.00",symbol:"$"};return l[n][o]||{name:"Producto",amount:"0.00",symbol:"$"}})();return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Procesar Pago"}),e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:v.name}),e.jsx("p",{className:"text-gray-300 mb-2",children:"Configuración personalizada"}),e.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[v.symbol,v.amount," ",o]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Método de Pago"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"paypal",checked:"paypal"===s,onChange:e=>i(e.target.value),className:"text-blue-600"}),e.jsx("span",{className:"text-white",children:"PayPal"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"payu",checked:"payu"===s,onChange:e=>i(e.target.value),className:"text-blue-600"}),e.jsx("span",{className:"text-white",children:"PayU"})]})]})]}),e.jsx("div",{className:"space-y-4",children:"paypal"===s?e.jsx(R,{options:{clientId:Ft,currency:"USD",intent:"capture"},children:e.jsx(L,{createOrder:async()=>{try{return await m(n,o,r)}catch(e){throw e}},onApprove:async(e,t)=>{try{await p(e.orderID),a()}catch(n){}},onCancel:x,onError:f,style:{layout:"vertical",color:"blue",shape:"rect",label:"pay"}})}):e.jsx("button",{onClick:async()=>{try{await h(n,o,r)}catch(e){}},disabled:d,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white font-bold py-3 px-4 rounded-lg transition-colors",children:d?"Procesando...":"Pagar con PayU"})}),e.jsx("div",{className:"mt-6 p-4 bg-blue-900 bg-opacity-20 border border-blue-700 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2 text-blue-300 text-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),e.jsx("span",{children:"Pago procesado de forma segura"})]})}),u&&e.jsx("div",{className:"mt-4 p-3 bg-red-900 bg-opacity-20 border border-red-700 rounded-lg",children:e.jsx("p",{className:"text-red-300 text-sm",children:u})})]})}):null},Et=({onProductChange:t})=>{const w=k.useRef(null),v=k.useRef(null),j=k.useRef(null),C=k.useRef(null),F=k.useRef(null),E=k.useRef(null),S=k.useRef(null),{processPayUPayment:N,processPayPalPayment:P}=Ct(),[M,T]=k.useState("normal"),[A,D]=k.useState(null),[B,$]=k.useState(()=>{const e=localStorage.getItem("beato_chosenColors");if(e)try{return JSON.parse(e)}catch(aa){}return{type:"configUpdate",chasis:"Gris",buttons:{},knobs:{}}}),[U,H]=k.useState({chasis:[],buttons:[],knobs:[]}),[W,V]=k.useState(!1),[G,K]=k.useState(null),[Y,X]=k.useState("USD"),[q,J]=k.useState(!1),[Z,Q]=k.useState(!1),ee="beato",te={chasis:B.chasis,buttons:B.buttons,knobs:B.knobs},ae=k.useRef(M),[ne,re]=k.useState([]),[oe,se]=k.useState([]),ie={chasis:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},buttons:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},knobs:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}}},le={normal:{pos:new h(2,1,-.1),target:new h(0,-.5,-.1)},top:{pos:new h(1,1.95,-.3),target:new h(-.35,-1.2,-.3)}},ce=k.useRef(null),de=k.useRef(null);k.useEffect(()=>{const e=()=>{Q(window.innerWidth>window.innerHeight)};return e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},[]),k.useCallback(async()=>{if(w.current)try{const e=w.current.querySelector("canvas");if(e){const t=e.toDataURL("image/png");K(t)}}catch(e){}V(!0)},[B]),k.useCallback(()=>{},[]);const[ue,he]=k.useState(null);k.useEffect(()=>{(new n).load("public/textures/blackhole.jpg.avif",e=>{e.mapping=r,he(e)})},[]);const me=k.useCallback((e,t)=>{const a=new o(16777215,.9);e.add(a);const n=new s(16777215,1.2);n.position.set(5,4,-1),n.castShadow=!0,n.shadow.mapSize.width=4096,n.shadow.mapSize.height=4096,n.shadow.camera.near=.5,n.shadow.camera.far=50,n.shadow.normalBias=.02,e.add(n);const r=new s(10079487,1);r.position.set(-8,3,-9),e.add(r);const l=new s(10079487,1);l.position.set(-8,3,15),e.add(l);const c=new i(16777215,.7,.5);c.position.set(0,5,5),e.add(c);const d=new s(16777215,1.2);d.position.set(-5,30,0),d.castShadow=!0,d.shadow.mapSize.width=2048,d.shadow.mapSize.height=2048,d.shadow.camera.near=.5,d.shadow.camera.far=50,d.shadow.normalBias=.02,e.add(d)},[]),pe=k.useCallback(e=>{const t={chasis:[],buttons:[],knobs:[]},a={type:"configUpdate",chasis:"Gris",buttons:{},knobs:{}};e.traverse(e=>{var n;if(!(e instanceof l))return;e.castShadow=!0,e.receiveShadow=!0;const r="string"==typeof e.name?e.name.toLowerCase():"";if((r.includes("logo")||r.includes("beato")||r.includes("crearttech")||r.includes("custom midi"))&&e.material&&"map"in e.material&&e.material.map&&(e.material.transparent=!0,e.material.alphaTest=.9),r.includes("cubechasis"))e.material=new c({color:ie.chasis.Gris.hex,metalness:.8,roughness:.35,clearcoat:.85,clearcoatRoughness:.1}),t.chasis.push(e),a.chasis="Gris";else if(r.includes("boton")){const n="Negro";e.material=new c({color:ie.buttons[n].hex,metalness:.4,roughness:.68,clearcoat:.85,clearcoatRoughness:.08,reflectivity:.3,sheen:.5,sheenColor:1842204}),t.buttons.push(e),a.buttons[e.name]=n}else if(r.includes("knob")){if(null==(n=e.material)?void 0:n.color){const n=e.material;if((n.color.r+n.color.g+n.color.b)/3<.5){const n="Negro";e.material=new d({color:ie.knobs[n].hex,metalness:0,roughness:1}),t.knobs.push(e),a.knobs[e.name]=n}else e.material=new d({color:16777215})}}else r.includes("aro")&&(e.material=new c({color:0,metalness:0,roughness:.2,clearcoat:.8,clearcoatRoughness:.1,reflectivity:.5,transmission:.3,thickness:.5,ior:1.4,attenuationDistance:1,attenuationColor:16777215,transparent:!0,opacity:.7}),t.buttons.push(e),a.buttons[e.name]="Negro")}),H(t),$(a)},[ue]),xe=k.useCallback(e=>{const t=(new u).setFromObject(e),a=t.getSize(new h),n=t.getCenter(new h),r=1.8/Math.max(a.x,a.y,a.z);e.scale.set(r,r,r),e.position.copy(n).multiplyScalar(-r),e.position.y-=a.y/2*r},[]),fe=k.useCallback(async()=>{try{const{GLTFLoader:e}=await a(async()=>{const{GLTFLoader:e}=await import("./GLTFLoader-L0pBLRUW.js");return{GLTFLoader:e}},__vite__mapDeps([7,1,2]));(new e).load("./models/BEATO3.glb",e=>{var t;const a=e.scene;E.current=a,pe(a),xe(a),null==(t=v.current)||t.add(a),S.current||(S.current=a.position.clone());a.traverse(e=>{e.isMesh&&("string"==typeof e.name&&e.name.toLowerCase().includes("boton")||"string"==typeof e.name&&e.name.toLowerCase().includes("aro"))&&e.material&&"color"in e.material&&e.material.color.setHex(1842204),e.isMesh&&"string"==typeof e.name&&e.name.toLowerCase().includes("aro")&&(e.material=e.material.clone())}),E.current.traverse(e=>{})},void 0,e=>{})}catch(e){}},[pe,xe]);k.useEffect(()=>{if(!w.current)return;const e=new m;e.background=null,v.current=e;const t=new p({antialias:!0,alpha:!0,preserveDrawingBuffer:!0});t.setSize(w.current.clientWidth,w.current.clientHeight),t.setPixelRatio(Math.min(window.devicePixelRatio,2)),t.outputColorSpace=x,t.shadowMap.enabled=!0,t.shadowMap.type=f,j.current=t,w.current.appendChild(t.domElement);const n=new g(45,w.current.clientWidth/w.current.clientHeight,.1,200);let r;n.position.copy(le.normal.pos),C.current=n,a(async()=>{const{OrbitControls:e}=await import("./OrbitControls-DFclDx1A.js");return{OrbitControls:e}},__vite__mapDeps([8,1,2])).then(({OrbitControls:e})=>{const a=new e(n,t.domElement);a.target.copy(le.normal.target),a.enableDamping=!0,a.minDistance=2,a.maxDistance=5,F.current=a}),me(e,t),fe();const o=()=>{r=requestAnimationFrame(o),F.current&&F.current.update(),t.render(e,n)};return o(),()=>{r&&cancelAnimationFrame(r),w.current&&t.domElement&&w.current.removeChild(t.domElement),t.dispose()}},[me,fe]),k.useEffect(()=>{const e=()=>{if(w.current&&C.current&&j.current){const e=w.current.clientWidth,t=w.current.clientHeight;C.current.aspect=e/t,C.current.updateProjectionMatrix(),j.current.setSize(e,t)}};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),k.useEffect(()=>{localStorage.setItem("beato_currentView",M)},[M]),k.useEffect(()=>{localStorage.setItem("beato_chosenColors",JSON.stringify(B))},[B]),k.useEffect(()=>{if(U.chasis.length>0||U.buttons.length>0||U.knobs.length>0){if(B.chasis&&ie.chasis[B.chasis]){const e=ie.chasis[B.chasis].hex;U.chasis.forEach(t=>{t.material&&"color"in t.material&&t.material.color.setHex(parseInt(e.replace("#",""),16))})}Object.entries(B.buttons).forEach(([e,t])=>{if(ie.buttons[t]){const a=ie.buttons[t].hex,n=U.buttons.find(t=>t.name===e);n&&n.material&&"color"in n.material&&n.material.color.setHex(parseInt(a.replace("#",""),16))}}),Object.entries(B.knobs).forEach(([e,t])=>{if(ie.knobs[t]){const a=ie.knobs[t].hex,n=U.knobs.find(t=>t.name===e);n&&n.material&&"color"in n.material&&n.material.color.setHex(parseInt(a.replace("#",""),16))}})}},[U,B]);const ge=k.useCallback((e,t=0)=>{var a;e&&(null==(a=e.material)?void 0:a.emissive)&&e.material.emissive.setHex(t)},[]),be=k.useCallback(e=>{var t;if(!C.current||!j.current)return;if("chasis"===M)return D(null),void re([]);const a=new b,n=new y,r=j.current.domElement.getBoundingClientRect();n.x=(e.clientX-r.left)/r.width*2-1,n.y=-(e.clientY-r.top)/r.height*2+1,a.setFromCamera(n,C.current);let o=[];if("buttons"===M?o=U.buttons:"knobs"===M?o=U.knobs:"normal"===M&&(o=U.buttons),0===o.length)return;const s=a.intersectObjects(o,!1);if("buttons"===M&&U.buttons.forEach(e=>ge(e,0)),A&&"normal"!==M&&ge(A,0),s.length>0){const a=s[0].object;if("normal"===M)return;if("buttons"===M&&e.shiftKey)0===ne.length&&A&&A!==a?(re([A,a]),D(null),ge(A,4473924),ge(a,4473924)):(D(null),re(e=>{if(0===e.length)return ge(a,4473924),[a];let t;return e.includes(a)?(t=e.filter(e=>e!==a),ge(a,0)):(t=[...e,a],ge(a,4473924)),t.forEach(e=>ge(e,4473924)),t}));else if(re([]),"buttons"===M&&a.name.toLowerCase().includes("aro")){const e=parseInt((null==(t=a.name.match(/\d+/))?void 0:t[0])||"1",10),n=U.buttons.find(t=>t.name.toLowerCase().includes("boton")&&t.name.includes(e.toString()));if(!n)return void D(null);D(n),ge(n,4473924)}else D(a),ge(a,4473924)}else D(null),re([])},[M,U,A,ge,ne]),ye=k.useCallback(e=>{var t;if(!E.current)return null;let a=null;const n=null==(t=e.match(/\d+/))?void 0:t[0];return n?(E.current.traverse(e=>{var t;if(e instanceof l&&e.name.toLowerCase().includes("aro")){(null==(t=e.name.match(/\d+/))?void 0:t[0])===n&&(a=e)}}),a):null},[]),we=k.useCallback(e=>{if(T(e),"chasis"===e&&U.chasis.length>0?D(U.chasis[0]):D(null),!C.current||!F.current)return;let t,a;"normal"===e?(t=le.normal,a=!0):(t=le.top,a=!1),F.current.enabled=a,_.to(C.current.position,{duration:1.2,ease:"power3.inOut",...t.pos}),_.to(F.current.target,{duration:1.2,ease:"power3.inOut",...t.target,onUpdate:()=>F.current.update()})},[U]),ve=k.useCallback((e,t)=>{if("chasis"===M)return U.chasis.forEach(e=>{e.material.color.set(t.hex)}),void $(t=>({...t,chasis:e}));if("buttons"===M&&ne.length>0){const a={...B,buttons:{...B.buttons}};return ne.forEach(n=>{n.material.color.set(t.hex),a.buttons[n.name]=e;const r=ye(n.name);r&&r.material&&r.material.color.set(t.hex)}),$(a),ne.forEach(e=>ge(e,0)),void re([])}if("knobs"===M&&oe.length>0){const a={...B,knobs:{...B.knobs}};return oe.forEach(n=>{n.material.color.set(t.hex),a.knobs[n.name]=e}),$(a),oe.forEach(e=>ge(e,0)),void se([])}if(!A)return void O.fire({title:"Selecciona una parte",text:"Haz clic en una pieza del controlador para aplicar el color.",imageUrl:"models/logo.png",imageWidth:120,imageHeight:120,background:"#232846",color:"#FFFFFF",confirmButtonColor:"#a259ff",confirmButtonText:"Entendido"});A.material.color.set(t.hex);const a={...B},n=A.name;if(U.buttons.includes(A)){if(a.buttons[n]=e,n.toLowerCase().includes("boton")){const e=ye(n);e&&e.material&&e.material.color.set(t.hex)}ge(A,0)}else U.knobs.includes(A)&&(a.knobs[n]=e);$(a)},[A,ne,B,U,M,ye,oe]),je=k.useCallback(()=>{if(!j.current||!v.current||!C.current)return;const e=C.current.position.clone(),t=F.current?F.current.target.clone():null,a=C.current.fov,n=le.normal.pos.clone(),r=le.normal.target.clone();C.current.position.copy(n),C.current.fov=35,C.current.updateProjectionMatrix(),F.current&&(F.current.target.copy(r),F.current.update()),setTimeout(()=>{j.current.render(v.current,C.current);const n=j.current.domElement.toDataURL("image/png");K(n),C.current.position.copy(e),C.current.fov=a,C.current.updateProjectionMatrix(),F.current&&t&&(F.current.target.copy(t),F.current.update()),V(!0)},50)},[j,v,C,F,le,K,V]);k.useEffect(()=>{ae.current=M},[M]),k.useEffect(()=>{setTimeout(()=>{C.current&&F.current&&(ce.current=C.current.position.clone(),de.current=F.current.target.clone())},100)},[]);const[Ce,Fe]=k.useState({referenceCode:"controlador123",amount:"185.00",currency:"USD",signature:"",description:"Beato 8 Configurator",buyerEmail:"customer@email.com"});k.useEffect(()=>{const e=ft(Y);Fe(t=>({...t,amount:e.amount,currency:Y,description:`Beato 8 Configurator - ${Y} ${e.symbol}${e.amount}`}))},[Y]),k.useEffect(()=>{!async function(){const e=await async function({referenceCode:e,amount:t,currency:a}){return""}({referenceCode:Ce.referenceCode,amount:Ce.amount,currency:Ce.currency});Fe(t=>({...t,signature:e}))}()},[Ce.referenceCode,Ce.amount,Ce.currency]),k.useEffect(()=>{if(q){const e=`controlador${Date.now()}`;Fe(t=>({...t,referenceCode:e}))}},[q]),k.useEffect(()=>{if(W){const e=`BEATO8-${Date.now()}`;Fe(t=>({...t,referenceCode:e}))}},[W]);const[ke,Ee]=k.useState([]);k.useCallback(async()=>{try{const t=`payu_checkout_${Date.now()}`;let a=null;try{a=window.open("",t)}catch(e){a=null}const n="http://localhost:4000".replace(/\/$/,""),r={modelo:"BEATO8",color:B.chasis,extras:null,buyerEmail:"",amount:"185.00",currency:"USD",botones:Object.values(B.buttons),perillas:Object.values(B.knobs),screenshot:G||null,description:"Controlador MIDI personalizado"},o=await fetch(`${n}/api/payu/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!o.ok){await o.text();if(a&&!a.closed)try{a.close()}catch(e){}return void O.fire({icon:"error",title:"Error con PayU",text:"No se pudo crear la orden (backend)."})}const{action:s,fields:i}=await o.json();if(!s||!i){if(a&&!a.closed)try{a.close()}catch(e){}return void O.fire({icon:"error",title:"Error con PayU",text:"Respuesta inválida del backend."})}const l=document.createElement("form");l.action=s,l.method="post",l.target=a?t:"_self";const c=(e,t)=>{const a=document.createElement("input");a.type="hidden",a.name=e,a.value=t,l.appendChild(a)};Object.entries(i||{}).forEach(([e,t])=>c(e,String(t))),c("lng","es"),document.body.appendChild(l),l.submit(),document.body.removeChild(l)}catch(t){try{window.openWindows}catch(e){}O.fire({icon:"error",title:"Error",text:"No se pudo iniciar el pago con PayU."})}},[B,G]);return k.useCallback(async()=>{try{await N(ee,Y,te)}catch(e){}},[N,ee,Y,te]),k.useCallback(async()=>{try{return await P(ee,Y,te)}catch(e){throw e}},[P,ee,Y,te]),e.jsx(R,{options:{clientId:"sb",currency:"USD"},children:e.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"stretch",zIndex:1,color:"white",fontFamily:"Arial, sans-serif",overflow:"hidden"},children:[e.jsx("div",{className:"fixed inset-0 bg-cover bg-center bg-no-repeat bg-fixed -z-10",style:{backgroundImage:"url(/textures/fondo.jpg)"}}),e.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"stretch",zIndex:1,color:"white",fontFamily:"Arial, sans-serif",overflow:"hidden"},children:[e.jsx("div",{className:"fixed top-2 md:top-4 left-2 md:left-1.5 z-50 flex items-center gap-2 md:gap-3",children:e.jsx("button",{onClick:()=>window.location.href="https://www.crearttech.com/",className:"relative px-3 md:px-5 py-1 md:py-2 rounded-full font-bold text-xs md:text-sm uppercase tracking-wider text-white transition-all duration-300 hover:-translate-y-0.5 bg-gradient-to-r from-cyan-500/20 via-purple-500/20 to-pink-500/20 border border-cyan-500/55",children:e.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:[e.jsx("path",{d:"M3 10.5L12 3l9 7.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M5 9.5V21h14V9.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("span",{children:"Home"})]})})}),e.jsx("div",{className:"absolute top-4 md:top-10 left-0 right-0 z-30 flex justify-center items-center",children:e.jsx("h1",{className:"text-xl md:text-3xl lg:text-4xl font-bold leading-none m-0 font-gotham text-white tracking-wide drop-shadow-[0_0_12px_#a259ff] drop-shadow-[0_0_24px_#0ff] drop-shadow-[0_0_2px_#FFFFFF]",children:"BEATO8"})}),e.jsx("main",{style:{position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"stretch",zIndex:10,overflow:"hidden"},children:e.jsx("div",{style:{position:"relative",width:"100%",height:"100%",display:"flex",justifyContent:"flex-start",alignItems:"stretch",zIndex:10,overflow:"hidden"},children:e.jsx("div",{ref:w,style:{position:"relative",width:"100%",height:"100%",zIndex:10,cursor:"pointer"},onClick:be})})}),e.jsxs("div",{style:{position:"fixed",top:0,right:0,width:"normal"===M?"112px":"320px",height:"100vh",borderLeft:"2px solid rgba(0, 255, 255, 0.8)",boxShadow:"0 0 16px 2px rgba(0, 255, 255, 0.4), -6px 0 16px 0 rgba(0, 255, 255, 0.3), inset 0 0 10px rgba(0,0,0,0.8)",display:"flex",zIndex:10,backdropFilter:"blur(8px)",transition:"all 0.4s ease"},className:"mobile-panel",children:[e.jsx("div",{className:"w-28 p-4 flex-shrink-0",style:{paddingTop:"45px"},children:e.jsxs("div",{className:"flex flex-col gap-1.5",children:[[{id:"normal",icon:"M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5M12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17M12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z",title:"Full View - See complete MIDI controller"},{id:"chasis",icon:"./textures/beato.png",isImage:!0,title:"Customize Chassis - Change main body color"},{id:"buttons",icon:"M12 1.999c5.524 0 10.002 4.478 10.002 10.002c0 5.523-4.478 10.001-10.002 10.001S1.998 17.524 1.998 12.001C1.998 6.477 6.476 1.999 12 1.999m0 1.5a8.502 8.502 0 1 0 0 17.003A8.502 8.502 0 0 0 12 3.5M11.996 6a5.998 5.998 0 1 1 0 11.996a5.998 5.998 0 0 1 0-11.996",title:"Customize Buttons - Change trigger pad colors"},{id:"knobs",icon:"M9.42 4.074a.56.56 0 0 0-.56.56v.93c0 .308.252.56.56.56s.56-.252.56-.56v-.93a.56.56 0 0 0-.56-.56M11.554 8.8a.5.5 0 0 1 0 .707l-1.78 1.78a.5.5 0 1 1-.708-.707l1.78-1.78a.5.5 0 0 1 .708 0 M9.42 15.444c-1.16 0-2.32-.44-3.2-1.32a4.527 4.527 0 0 1 0-6.39a4.527 4.527 0 0 1 6.39 0a4.527 4.527 0 0 1 0 6.39c-.88.88-2.03 1.32-3.19 1.32m0-1.1a3.41 3.41 0 1 0 0-6.82a3.41 3.41 0 0 0 0 6.82M6.757 5.2a.56.56 0 1 0-.965.567l.465.809l.005.006a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.075a.566.566 0 0 0 .205-.753zm5.315.012a.55.55 0 0 1 .761-.206c.277.152.36.5.203.764l-.458.797a.56.56 0 0 1-.478.277a.564.564 0 0 1-.487-.834zm7.598 5.722a.5.5 0 0 1 .5-.5h2.52a.5.5 0 1 1 0 1h-2.52a.5.5 0 0 1-.5-.5 M22.69 15.454c2.49 0 4.52-2.03 4.52-4.52s-2.03-4.52-4.52-4.52s-4.52 2.03-4.52 4.52s2.03 4.52 4.52 4.52m0-1.11a3.41 3.41 0 1 1 0-6.82a3.41 3.41 0 0 1 0 6.82m-.56-9.7c0-.308.252-.56.56-.56s.56.252.56.56v.945a.566.566 0 0 1-.56.535a.56.56 0 0 1-.56-.56zm-2.103.566a.557.557 0 0 0-.763-.202a.566.566 0 0 0-.204.753l.468.815l.004.006a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.075a.566.566 0 0 0 .205-.753zm6.086-.204a.55.55 0 0 0-.761.206l-.458.795a.55.55 0 0 0 .194.759c.1.067.217.078.282.078a.6.6 0 0 0 .478-.262l.005-.006l.463-.806a.55.55 0 0 0-.203-.764M11.93 22.636H9.42a.5.5 0 0 0 0 1h2.51a.5.5 0 1 0 0-1 M4.9 23.136c0 2.49 2.03 4.52 4.52 4.52s4.52-2.03 4.52-4.52s-2.03-4.52-4.52-4.52s-4.52 2.03-4.52 4.52m7.93 0a3.41 3.41 0 1 1-6.82 0a3.41 3.41 0 0 1 6.82 0m-3.41-6.86a.56.56 0 0 0-.56.56v.93c0 .308.252.56.56.56s.56-.252.56-.56v-.93a.56.56 0 0 0-.56-.56m-3.418.93a.566.566 0 0 1 .755.206l.464.807c.137.258.06.6-.205.753a.53.53 0 0 1-.276.074a.58.58 0 0 1-.478-.261l-.005-.007l-.468-.814a.566.566 0 0 1 .207-.755zm6.08.209a.55.55 0 0 1 .761-.206c.277.151.36.499.203.764l-.462.802a.567.567 0 0 1-.766.194a.55.55 0 0 1-.194-.76zm8.475 3.588a.5.5 0 0 1 .707 0l1.78 1.78a.5.5 0 0 1-.707.707l-1.78-1.78a.5.5 0 0 1 0-.707 M22.69 27.656c-1.16 0-2.32-.44-3.2-1.32a4.527 4.527 0 0 1 0-6.39a4.527 4.527 0 0 1 6.39 0a4.527 4.527 0 0 1 0 6.39c-.88.88-2.04 1.32-3.19 1.32m0-1.11a3.41 3.41 0 1 0 0-6.82a3.41 3.41 0 0 0 0 6.82 M22.13 16.836c0-.308.252-.56.56-.56s.56.252.56.56v.945a.57.57 0 0 1-.56.545a.56.56 0 0 1-.56-.56zm-2.103.576a.566.566 0 0 0-.755-.206l-.006.003a.565.565 0 0 0-.206.755l.468.814l.004.007a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.074a.566.566 0 0 0 .205-.753zm6.086-.203a.55.55 0 0 0-.761.206l-.458.795a.55.55 0 0 0 .194.759a.5.5 0 0 0 .282.077a.6.6 0 0 0 .478-.261l.005-.007l.463-.805a.55.55 0 0 0-.203-.764 M1 5.75A4.75 4.75 0 0 1 5.75 1h20.52a4.75 4.75 0 0 1 4.75 4.75v20.48a4.75 4.75 0 0 1-4.75 4.75H5.75A4.75 4.75 0 0 1 1 26.23zM5.75 3A2.75 2.75 0 0 0 3 5.75v20.48a2.75 2.75 0 0 0 2.75 2.75h20.52a2.75 2.75 0 0 0 2.75-2.75V5.75A2.75 2.75 0 0 0 26.27 3z",title:"Customize Knobs - Change rotary control colors"}].map(t=>e.jsx("div",{className:"relative group",children:e.jsx("button",{onClick:"faders"===t.id?void 0:()=>we(t.id),className:`w-full aspect-square border-2 rounded-lg flex items-center justify-center p-1 md:p-2 transition-all duration-300 text-white relative ${M===t.id?"bg-gradient-to-br from-cyan-400 to-blue-500 border-cyan-400 shadow-lg":"border-cyan-400 bg-gradient-to-br from-black to-gray-800 hover:from-cyan-400 hover:to-blue-500 hover:border-cyan-400 hover:shadow-lg"} ${"faders"===t.id?"cursor-not-allowed":"cursor-pointer"}`,disabled:"faders"===t.id,onMouseEnter:e=>{const a=document.createElement("div");a.className="custom-tooltip",a.textContent=t.title,a.style.cssText=`\n                        position: fixed;\n                        left: ${e.clientX-20}px;\n                        top: ${e.clientY-20}px;\n                        transform: translateX(-100%);\n                        background: #dc2626;\n                        color: white;\n                        padding: 12px 16px;\n                        border-radius: 8px;\n                        font-size: 14px;\n                        font-weight: bold;\n                        white-space: nowrap;\n                        z-index: 999999;\n                        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n                        border: 2px solid #f87171;\n                        pointer-events: none;\n                      `,a.id="temp-tooltip",document.body.appendChild(a)},onMouseLeave:()=>{const e=document.getElementById("temp-tooltip");e&&e.remove()},children:t.isImage?e.jsx("img",{src:t.icon,alt:"Menu icon",className:"w-full h-full mx-auto my-auto object-contain"}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"chasis"===t.id||"knobs"===t.id?"0 0 32 32":"faders"===t.id?"0 0 256 256":"0 0 24 24",className:"w-4/5 h-4/5 mx-auto my-auto fill-white text-white",fill:"#FFFFFF",children:e.jsx("path",{d:t.icon})})})},t.id)),e.jsx("input",{id:"sidebar-upload",type:"file",accept:"image/*,application/pdf",multiple:!0,className:"hidden",onChange:e=>{e.target.files&&Ee(Array.from(e.target.files))}}),e.jsx("div",{className:"relative group",children:e.jsx("button",{type:"button",onClick:()=>{var e;return null==(e=document.getElementById("sidebar-upload"))?void 0:e.click()},className:"w-full aspect-square border-2 rounded-lg flex items-center justify-center p-2 transition-all duration-300 text-white bg-gradient-to-br from-black to-gray-800 border-cyan-400 hover:from-cyan-400 hover:to-blue-500 hover:border-cyan-400 hover:shadow-lg",onMouseEnter:e=>{const t=document.createElement("div");t.className="custom-tooltip",t.textContent="Upload Custom Files",t.style.cssText=`\n                      position: fixed;\n                      left: ${e.clientX-20}px;\n                      top: ${e.clientY-20}px;\n                      transform: translateX(-100%);\n                      background: #dc2626;\n                      color: white;\n                      padding: 12px 16px;\n                      border-radius: 8px;\n                      font-size: 14px;\n                      font-weight: bold;\n                      white-space: nowrap;\n                      z-index: 999999;\n                      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n                      border: 2px solid #f87171;\n                      pointer-events: none;\n                    `,t.id="temp-tooltip",document.body.appendChild(t)},onMouseLeave:()=>{const e=document.getElementById("temp-tooltip");e&&e.remove()},children:e.jsx("svg",{width:"28",height:"28",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 16V4m0 0l-4 4m4-4l4 4M4 20h16",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),ke.length>0&&e.jsxs("span",{className:"text-xs text-white mt-2",children:["Archivos: ",ke.map(e=>e.name).join(", ")]})]})}),e.jsxs("div",{className:"flex-1 p-1 md:p-4 flex flex-col",children:[e.jsx("div",{className:"flex items-center pb-5 border-b border-gray-600 pl-0 "+("normal"===M?"justify-center items-center gap-0 min-h-12":"justify-center gap-2"),children:"normal"===M?e.jsx("img",{src:"models/logo.png",alt:"Logo",className:"h-6 w-auto drop-shadow-[0_0_8px_#a259ff] drop-shadow-[0_0_16px_#0ff]"}):e.jsx("img",{src:"models/logo.png",alt:"Logo",className:"h-8 w-auto drop-shadow-[0_0_8px_#a259ff] drop-shadow-[0_0_16px_#0ff]"})}),e.jsxs("div",{className:"mt-6 animate-fadeIn",children:[e.jsx("p",{className:"font-black text-sm tracking-wide uppercase m-0 mb-3 text-gray-200 text-left animate-fadeIn",children:(()=>{switch(M){case"chasis":return"CHOOSE THE CHASSIS COLOR";case"buttons":return"CUSTOMIZE THE BUTTONS";case"knobs":return"CHOOSE FOR THE KNOBS";default:return"CHOOSE A COLOR"}})()}),e.jsx("div",{className:"grid grid-cols-2 gap-x-0 gap-y-0 p-0 justify-items-end ml-auto animate-scaleIn",children:Object.entries((()=>{switch(M){case"chasis":return ie.chasis;case"buttons":return ie.buttons;case"knobs":return ie.knobs;default:return{}}})()).map(([t,a],n)=>e.jsx("div",{className:"w-10 h-10 rounded-full cursor-pointer border border-purple-400 shadow-[0_0_6px_1px_#a259ff55] transition-all duration-200 hover:scale-110 animate-fadeInUp",style:{backgroundColor:a.hex,animationDelay:50*n+"ms"},title:t,onClick:()=>ve(t,a)},t))})]})]})]}),"normal"===M&&e.jsx("button",{onClick:je,className:"fixed bottom-4 md:bottom-10 left-1/2 transform -translate-x-1/2 z-50 px-3 md:px-6 py-2 md:py-3 text-sm md:text-lg font-bold uppercase tracking-wide text-black bg-purple-400 border-none rounded cursor-pointer transition-all duration-200 shadow-lg hover:bg-yellow-200 hover:scale-105 hover:shadow-xl shadow-[0_0_8px_2px_#a259ff80,0_0_16px_4px_#0ff5]",children:"ADD TO CART"}),W&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"relative bg-[#3a4060] rounded-2xl shadow-2xl border-2 border-purple-400 p-4 md:py-6 md:px-8 w-full max-w-4xl animate-fade-in",children:[e.jsx("button",{onClick:()=>V(!1),className:"absolute top-3 right-3 text-gray-400 hover:text-pink-400 text-2xl font-bold",children:"×"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-purple-400 mb-4 text-center tracking-widest",children:"PAGO SEGURO"}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center mb-4",children:[e.jsx("div",{className:"w-full max-w-[280px] sm:max-w-[320px] lg:max-w-[380px] aspect-[4/3] flex items-center justify-center",children:G&&e.jsx("img",{src:G,alt:"Controlador personalizado",className:"w-full h-full object-contain bg-none shadow-none border-none"})}),e.jsxs("div",{className:"flex-1 mt-4 lg:mt-0",children:[e.jsx("h3",{className:"text-lg md:text-xl font-semibold mb-2 text-cyan-400",children:"Your Configuration:"}),e.jsxs("ul",{className:"text-sm md:text-base space-y-1",children:[e.jsxs("li",{children:[e.jsx("b",{children:"Chassis:"})," ",B.chasis]}),e.jsxs("li",{children:[e.jsx("b",{children:"Buttons:"})," ",Object.values(B.buttons).join(", ")||"Default"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Knobs:"})," ",Object.values(B.knobs).join(", ")||"Default"]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-base md:text-lg font-semibold mb-3 text-cyan-400",children:"Select your currency:"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center",children:[e.jsx("button",{onClick:()=>X("USD"),className:"px-4 md:px-6 py-2 md:py-3 rounded-lg font-bold text-sm md:text-lg transition-all "+("USD"===Y?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-[0_0_12px_2px_#3b82f6]":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:"USD $185.00"}),e.jsx("button",{onClick:()=>X("COP"),className:"px-4 md:px-6 py-2 md:py-3 rounded-lg font-bold text-sm md:text-lg transition-all "+("COP"===Y?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-[0_0_12px_2px_#3b82f6]":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:"COP $735,000"})]}),e.jsxs("p",{className:"text-center text-xs md:text-sm text-gray-400 mt-2",children:["Selected price: ",Y," ",ft(Y).symbol,ft(Y).amount]})]}),e.jsxs("div",{className:"flex flex-col gap-4 mt-4",children:[e.jsx(L,{style:{layout:"horizontal",color:"blue",shape:"rect",label:"paypal",height:48},createOrder:async()=>{try{const e=await fetch("http://localhost:4000/api/create-paypal-order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customization:B})});if(!e.ok)throw new Error("Error en el servidor al crear la orden.");return(await e.json()).id}catch(e){return alert("No se pudo iniciar el pago. Inténtalo de nuevo."),Promise.reject(e)}},onApprove:async e=>{await(async e=>{try{if(!(await fetch("http://localhost:4000/api/verify-paypal-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderID:e,customization:B,screenshot:G})})).ok)throw new Error("La verificación del pago falló en el servidor.");return!0}catch(t){return alert("Hubo un problema al verificar tu pago. Por favor, contacta a soporte."),!1}})(e.orderID)?(alert("¡Pago verificado y completado! Recibirás un correo de confirmación."),V(!1)):alert("Error en la verificación del pago. Por favor, contacta a soporte.")},onError:e=>{alert("Error en el pago con PayPal: "+e)}}),e.jsxs("button",{onClick:async()=>{if(!Ce.buyerEmail||!Ce.buyerEmail.includes("@"))return void alert("Por favor ingresa un email válido");let e="";try{const t=document.querySelector("canvas");if(t){e=(await I(t,{useCORS:!0,allowTaint:!0})).toDataURL("image/jpeg",.6),localStorage.setItem("payu_screenshot",e)}}catch(d){}const t="payu-popup";if(!window.open("",t,"width=800,height=600,scrollbars=yes,resizable=yes"))return void alert("Por favor permite popups para continuar con el pago");const a=ft(Y),n=`${xt.API_KEY}~${xt.MERCHANT_ID}~${Ce.referenceCode}~${a.amount}~${Y}`,r=z(n).toString(),o=document.createElement("form");o.method="POST",o.action=a.url,o.target=t;const s=Object.values(B.buttons||{}).join(", ")||"Sin configurar",i=Object.values(B.knobs||{}).join(", ")||"Sin configurar",l=`${`Beato8 - Chasis: ${B.chasis||"Personalizado"}, Botones: ${Object.keys(B.buttons||{}).length}, Knobs: ${Object.keys(B.knobs||{}).length}`} | Botones: ${s} | Perillas: ${i} | Email: ${Ce.buyerEmail}`,c={merchantId:xt.MERCHANT_ID,accountId:a.accountId,description:`Beato 8 Configurator - ${Y} ${a.symbol}${a.amount}`,referenceCode:Ce.referenceCode,amount:a.amount,currency:Y,buyerEmail:Ce.buyerEmail,signature:r,test:"1",confirmationUrl:xt.CONFIRMATION_URL,responseUrl:xt.RESPONSE_URL,lng:a.language,extra1:"Beato8",extra2:B.chasis||"Custom",extra3:l,extra4:`Beato 8 Configurator - ${Y} ${a.symbol}${a.amount}`,extra5:e.substring(0,100)+"...",payerCountry:"CO",payerCity:"Bogota",payerPhone:"+57-300-1234567",country:"CO"};Object.entries(c).forEach(([e,t])=>{const a=document.createElement("input");a.type="hidden",a.name=e,a.value=t,o.appendChild(a)}),document.body.appendChild(o),o.submit(),document.body.removeChild(o)},className:"w-full py-2 md:py-3 rounded-lg bg-gradient-to-r from-green-400 to-cyan-400 text-white font-bold text-sm md:text-lg shadow-[0_0_12px_2px_#0ff580] hover:scale-105 transition-all mt-2",children:["Pay with PayU (",Y," ",ft(Y).symbol,ft(Y).amount,")"]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-6 text-center",children:"Your purchase is 100% safe and protected."})]})}),q&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"relative bg-[#232846] rounded-2xl shadow-2xl border-2 border-purple-400 p-4 md:p-6 w-full max-w-2xl animate-fade-in flex flex-col items-center",children:[e.jsx("button",{onClick:()=>J(!1),className:"absolute top-3 right-3 text-gray-400 hover:text-pink-400 text-2xl font-bold",children:"×"}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-purple-400 mb-4 text-center tracking-widest",children:"Product Added!"}),e.jsx("p",{className:"text-white text-center mb-4",children:"Your custom product has been added to the Wix cart. You can continue shopping or complete your purchase on the main site."}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center w-full",children:[e.jsx("div",{className:"w-full max-w-[200px] sm:max-w-[220px] aspect-[4/3] flex items-center justify-center",children:G&&e.jsx("img",{src:G,alt:"Custom controller",className:"w-full h-full object-contain bg-none shadow-none border-none"})}),e.jsxs("div",{className:"flex-1 mt-4 lg:mt-0 w-full",children:[e.jsx("h3",{className:"text-base md:text-lg font-semibold mb-2 text-cyan-400",children:"Your Product:"}),e.jsxs("ul",{className:"text-sm md:text-base space-y-1 mb-2",children:[e.jsxs("li",{children:[e.jsx("b",{children:"Chassis:"})," ",B.chasis]}),e.jsxs("li",{children:[e.jsx("b",{children:"Buttons:"})," ",Object.values(B.buttons).join(", ")||"Default"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Knobs:"})," ",Object.values(B.knobs).join(", ")||"Default"]})]})]})]}),e.jsx("div",{className:"flex flex-col gap-4 mt-6 w-full",children:e.jsx("button",{onClick:()=>J(!1),className:"w-full py-2 md:py-3 rounded-lg bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold text-sm md:text-lg shadow-[0_0_12px_2px_#ff00ff80] hover:scale-105 transition-all mt-2",children:"Continue Customizing"})})]})}),e.jsx(kt,{isOpen:W,onClose:()=>V(!1),productType:ee,productConfig:te,selectedCurrency:Y})]})]})})},St=Object.freeze(Object.defineProperty({__proto__:null,default:Et},Symbol.toStringTag,{value:"Module"})),Nt=({className:t="",style:a={}})=>{const[n,r]=k.useState(!1),[o]=k.useState(Date.now());return k.useEffect(()=>{const e=setTimeout(()=>{r(!0)},1e3);return()=>clearTimeout(e)},[]),e.jsxs("div",{className:t,style:a,children:[e.jsx(dt,{isVisible:!n}),e.jsx("div",{style:{width:"100%",height:"100%",opacity:n?1:0},children:e.jsx(Et,{})})]})},Ot=Object.freeze(Object.defineProperty({__proto__:null,default:Nt},Symbol.toStringTag,{value:"Module"})),_t=({isVisible:t,onComplete:a})=>{const[n,r]=k.useState(0),[o]=k.useState(Date.now()),[s,i]=k.useState(!1),[l,c]=k.useState(!1),d=k.useRef(null);return k.useEffect(()=>{if(t){const e=setInterval(()=>{const t=Date.now()-o,n=Math.min(t/4100*100,100);r(e=>Math.abs(e-n)>=1||n>=100?n:e),n>=100&&(clearInterval(e),d.current&&(d.current.pause(),d.current.currentTime=0),null==a||a())},100);return()=>clearInterval(e)}r(0)},[t,o]),k.useEffect(()=>{if(d.current&&t){const e=d.current;e.playbackRate=1,e.volume=0;const t=()=>{c(!0),e.play().catch(e=>{i(!0)})},a=e=>{i(!0)},n=()=>{},r=()=>{},o=()=>{},s=()=>{};return e.addEventListener("canplay",t),e.addEventListener("error",a),e.addEventListener("loadstart",n),e.addEventListener("loadeddata",r),e.addEventListener("waiting",o),e.addEventListener("playing",s),e.load(),()=>{e.removeEventListener("canplay",t),e.removeEventListener("error",a),e.removeEventListener("loadstart",n),e.removeEventListener("loadeddata",r),e.removeEventListener("waiting",o),e.removeEventListener("playing",s)}}if(d.current&&!t){const e=d.current;e.pause(),e.currentTime=0,c(!1),i(!1)}},[t]),e.jsx(S,{children:t&&e.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:9999,color:"white",fontFamily:"Arial, sans-serif",overflow:"hidden"},children:[e.jsxs("video",{ref:d,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:-2},muted:!0,loop:!0,playsInline:!0,preload:"metadata",crossOrigin:"anonymous",autoPlay:!0,children:[e.jsx("source",{src:"/CONFIGURADOR/videos/video.mp4",type:"video/mp4"}),e.jsx("img",{src:"/textures/carga.jpg",alt:"Loading background",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}})]}),e.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.3)",zIndex:-1}}),e.jsx(N.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},style:{fontSize:"32px",fontWeight:"bold",marginBottom:"20px",color:"#00FFFF",textShadow:"0 0 20px #00FFFF, 0 0 40px #00FFFF, 0 0 60px #00FFFF",position:"relative",zIndex:1},children:"BEATO16"}),e.jsx(N.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8,ease:"easeOut"},style:{fontSize:"18px",fontWeight:"bold",marginBottom:"40px",color:"#FFFFFF",textShadow:"0 0 15px #FFFFFF, 0 0 30px #FFFFFF",position:"relative",zIndex:1},children:"Features: Metal body, 16 ARCADE buttons, and 4 assignable knobs."}),e.jsx(N.div,{animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"},style:{width:"100px",height:"100px",border:"6px solid rgba(0, 255, 255, 0.3)",borderTop:"6px solid #00FFFF",borderRadius:"50%",marginBottom:"40px",boxShadow:"0 0 30px rgba(0, 255, 255, 0.8), 0 0 60px rgba(0, 255, 255, 0.4)",position:"relative",zIndex:1}}),e.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},style:{fontSize:"20px",fontWeight:"bold",textAlign:"center",marginBottom:"20px",color:"#00FFFF",textShadow:"0 0 15px #00FFFF, 0 0 30px #00FFFF",position:"relative",zIndex:1},children:["Cargando BEATO16... ",Math.round(n),"%"]}),n>=100&&e.jsx(N.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.8},style:{fontSize:"18px",color:"#00FF80",fontWeight:"bold",marginBottom:"30px",textShadow:"0 0 15px #00FF80, 0 0 30px #00FF80",position:"relative",zIndex:1},children:"¡BEATO16 listo para configurar!"}),e.jsx(N.div,{style:{width:"400px",height:"8px",backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:"4px",overflow:"hidden",boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.3)",marginBottom:"40px",position:"relative",zIndex:1},children:e.jsx(N.div,{initial:{width:0},animate:{width:`${n}%`},transition:{duration:.1,ease:"linear"},style:{width:"100%",height:"100%",background:"linear-gradient(90deg, #00FFFF, #00CCFF, #00FFFF)",borderRadius:"4px",boxShadow:"0 0 20px rgba(0, 255, 255, 0.8), 0 0 40px rgba(0, 255, 255, 0.4)",backgroundSize:"200% 100%",animation:"shimmer 2s infinite"}})}),e.jsx(N.div,{style:{display:"flex",gap:"12px",marginTop:"20px",position:"relative",zIndex:1},children:[0,1,2].map(t=>e.jsx(N.div,{animate:{scale:[1,1.3,1],opacity:[.4,1,.4]},transition:{duration:2,repeat:1/0,delay:.3*t,ease:"easeInOut"},style:{width:"12px",height:"12px",backgroundColor:"#00FFFF",borderRadius:"50%",boxShadow:"0 0 15px rgba(0, 255, 255, 0.8), 0 0 30px rgba(0, 255, 255, 0.4)"}},t))}),e.jsx("style",{children:"\n            @keyframes shimmer {\n              0% { background-position: -200% 0; }\n              100% { background-position: 200% 0; }\n            }\n          "})]})})},It=({onProductChange:t})=>{const[w,v]=k.useState(""),[j,C]=k.useState(""),F=k.useRef(null),E=k.useRef(null),S=k.useRef(null),N=k.useRef(null),L=k.useRef(null),P=k.useRef(null),M=k.useRef(null),[T,A]=k.useState("normal"),[D,B]=k.useState(null),[$,U]=k.useState(()=>{const e=localStorage.getItem("beato16_chosenColors");if(e)try{return JSON.parse(e)}catch(aa){}return{type:"configUpdate",chasis:"Gris",buttons:{},knobs:{},teclas:{},faders:{}}}),[H,W]=k.useState({chasis:[],buttons:[],knobs:[],teclas:[],faders:[]}),[V,G]=k.useState(!1),[K,Y]=k.useState(null),[X,q]=k.useState(!1),J=k.useRef(T),[Z,Q]=k.useState([]),[ee,te]=k.useState([]),[ae,ne]=k.useState([]),[re,oe]=k.useState([]),se={chasis:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},buttons:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},knobs:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},teclas:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},faders:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}}},ie={normal:{pos:new h(2,1,-.1),target:new h(0,-.5,-.1)},top:{pos:new h(1,1.95,-.3),target:new h(-.35,-1.2,-.3)}},le=k.useRef(null),ce=k.useRef(null),de=k.useCallback(async()=>{if(F.current)try{const e=F.current.querySelector("canvas");if(e){const t=e.toDataURL("image/png");Y(t)}}catch(e){}G(!0)},[$]),[ue,he]=k.useState(null);k.useEffect(()=>{(new n).load("public/textures/blackhole.jpg.avif",e=>{e.mapping=r,he(e)})},[]);const me=k.useCallback((e,t)=>{const a=new o(16777215,.9);e.add(a);const n=new s(16777215,1.2);n.position.set(5,4,-1),n.castShadow=!0,e.add(n);const r=new s(10079487,1);r.position.set(-8,3,-9),e.add(r);const l=new s(10079487,1);l.position.set(-8,3,15),e.add(l);const c=new i(16777215,.7,.5);c.position.set(0,5,5),e.add(c);const d=new s(16777215,1.2);d.position.set(-5,30,0),d.castShadow=!0,e.add(d)},[]),pe=k.useCallback(e=>{const t={chasis:[],buttons:[],knobs:[],teclas:[],faders:[]},a={type:"configUpdate",chasis:"Gris",buttons:{},knobs:{},teclas:{},faders:{}};e.traverse(e=>{var n;if(!(e instanceof l))return;e.castShadow=!0,e.receiveShadow=!0;const r="string"==typeof e.name?e.name.toLowerCase():"";if((r.includes("logo")||r.includes("beato")||r.includes("crearttech")||r.includes("custom midi"))&&e.material&&"map"in e.material&&e.material.map&&(e.material.transparent=!0,e.material.alphaTest=.9),r.includes("cubechasis"))e.material=new c({color:se.chasis.Gris.hex,metalness:.8,roughness:.35,clearcoat:.85,clearcoatRoughness:.1}),t.chasis.push(e),a.chasis="Gris";else if(r.includes("boton")){const n="Negro";e.material=new c({color:se.buttons[n].hex,metalness:.4,roughness:.68,clearcoat:.85,clearcoatRoughness:.08,reflectivity:.3,sheen:.5,sheenColor:1842204}),t.buttons.push(e),a.buttons[e.name]=n}else if(r.includes("aro")||r.includes("fader")&&(r.includes("ring")||r.includes("circle")))e.material=new c({color:0,metalness:0,roughness:.2,clearcoat:.8,clearcoatRoughness:.1,reflectivity:.5,transmission:.3,thickness:.5,ior:1.4,attenuationDistance:1,attenuationColor:16777215,transparent:!0,opacity:.7}),t.buttons.push(e),a.buttons[e.name]="Negro";else if(r.includes("knob")){if(null==(n=e.material)?void 0:n.color){const n=e.material;if((n.color.r+n.color.g+n.color.b)/3<.5){const n="Negro";e.material=new d({color:se.knobs[n].hex,metalness:0,roughness:1}),t.knobs.push(e),a.knobs[e.name]=n}else e.material=new d({color:16777215})}}else if(r.includes("tecla")){const n="Negro";e.material=new c({color:se.teclas[n].hex,metalness:.4,roughness:.68,clearcoat:.85,clearcoatRoughness:.08,reflectivity:.3,sheen:.5,sheenColor:1842204}),t.teclas.push(e),a.teclas[e.name]=n}else if(r.includes("fader"))if("fader1_1"===r||"fader2_1"===r||"fader3_1"===r||"fader4_1"===r){const n="Negro";e.material=new d({color:se.knobs[n].hex,metalness:0,roughness:1}),t.faders.push(e),a.faders[e.name]=n}else if(e.material){const n=e.material;if(n.color){if((n.color.r+n.color.g+n.color.b)/3<.8){const r="Negro";n.color.setHex(parseInt(se.knobs[r].hex.replace("#",""),16)),t.faders.push(e),a.faders[e.name]=r}}}}),W(t),U(a)},[ue]),xe=k.useCallback(e=>{const t=(new u).setFromObject(e),a=t.getSize(new h),n=t.getCenter(new h),r=1.8/Math.max(a.x,a.y,a.z);e.scale.set(r,r,r),e.position.copy(n).multiplyScalar(-r),e.position.y-=a.y/2*r},[]),fe=k.useCallback(async()=>{try{const{GLTFLoader:e}=await a(async()=>{const{GLTFLoader:e}=await import("./GLTFLoader-L0pBLRUW.js");return{GLTFLoader:e}},__vite__mapDeps([7,1,2]));(new e).load("./models/beato16.glb",e=>{var t;const a=e.scene;P.current=a,pe(a),xe(a),null==(t=E.current)||t.add(a),M.current||(M.current=a.position.clone());a.traverse(e=>{var t;const a=(null==(t=e.name)?void 0:t.toLowerCase())||"",n=a.includes("aro"),r=a.includes("fader")&&(a.includes("ring")||a.includes("circle"));e.isMesh&&"string"==typeof e.name&&(n||r)&&(e.material&&"color"in e.material&&e.material.color.setHex(1842204),e.material=e.material.clone()),e.isMesh&&"string"==typeof e.name&&a.includes("fader")})},void 0,e=>{})}catch(e){}},[pe,xe]);k.useEffect(()=>{if(!F.current)return;const e=new m;e.background=null,E.current=e;const t=new p({antialias:!0,alpha:!0,preserveDrawingBuffer:!0});t.setSize(F.current.clientWidth,F.current.clientHeight),t.setPixelRatio(Math.min(window.devicePixelRatio,2)),t.outputColorSpace=x,t.shadowMap.enabled=!0,t.shadowMap.type=f,S.current=t,F.current.appendChild(t.domElement);const n=new g(45,F.current.clientWidth/F.current.clientHeight,.1,200);let r;n.position.copy(ie.normal.pos),N.current=n,a(async()=>{const{OrbitControls:e}=await import("./OrbitControls-DFclDx1A.js");return{OrbitControls:e}},__vite__mapDeps([8,1,2])).then(({OrbitControls:e})=>{const a=new e(n,t.domElement);a.target.copy(ie.normal.target),a.enableDamping=!0,a.minDistance=2,a.maxDistance=5,L.current=a}),me(e,t),fe();const o=()=>{r=requestAnimationFrame(o),L.current&&L.current.update(),t.render(e,n)};return o(),()=>{r&&cancelAnimationFrame(r),F.current&&t.domElement&&F.current.removeChild(t.domElement),t.dispose()}},[me,fe]),k.useEffect(()=>{const e=()=>{if(F.current&&N.current&&S.current){const e=F.current.clientWidth,t=F.current.clientHeight;N.current.aspect=e/t,N.current.updateProjectionMatrix(),S.current.setSize(e,t)}};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),k.useEffect(()=>{localStorage.setItem("beato16_currentView",T)},[T]),k.useEffect(()=>{localStorage.setItem("beato16_chosenColors",JSON.stringify($))},[$]),k.useEffect(()=>{if(H.chasis.length>0){if($.chasis&&se.chasis[$.chasis]){const e=se.chasis[$.chasis].hex;H.chasis.forEach(t=>{t.material&&"color"in t.material&&t.material.color.setHex(parseInt(e.replace("#",""),16))})}Object.entries($.buttons).forEach(([e,t])=>{if(se.buttons[t]){const a=se.buttons[t].hex,n=H.buttons.find(t=>t.name===e);n&&n.material&&"color"in n.material&&n.material.color.setHex(parseInt(a.replace("#",""),16))}}),Object.entries($.knobs).forEach(([e,t])=>{if(se.knobs[t]){const a=se.knobs[t].hex,n=H.knobs.find(t=>t.name===e);n&&n.material&&"color"in n.material&&n.material.color.setHex(parseInt(a.replace("#",""),16))}})}},[H,$]);const ge=k.useCallback((e,t=0)=>{var a;e&&(null==(a=e.material)?void 0:a.emissive)&&e.material.emissive.setHex(t)},[]),be=k.useCallback(e=>{if(!N.current||!S.current)return;if("chasis"===T)return B(null),void Q([]);const t=new b,a=new y,n=S.current.domElement.getBoundingClientRect();a.x=(e.clientX-n.left)/n.width*2-1,a.y=-(e.clientY-n.top)/n.height*2+1,t.setFromCamera(a,N.current);let r=[];if("buttons"===T?r=H.buttons:"knobs"===T?r=H.knobs:"teclas"===T?r=H.teclas:"faders"===T?r=H.faders:"normal"===T&&(r=H.buttons),0===r.length)return;const o=t.intersectObjects(r,!1);if("normal"!==T&&[...H.buttons,...H.knobs,...H.teclas,...H.faders].forEach(e=>ge(e,0)),o.length>0){const t=o[0].object;if("normal"===T)return;const a=(a,n)=>{B(null);const r=n.find(e=>e.uuid===t.uuid);let o;o=e.shiftKey?r?n.filter(e=>e.uuid!==t.uuid):[...n,t]:[t],a(o),o.forEach(e=>ge(e,4473924))};"buttons"===T?a(Q,Z):"knobs"===T?a(te,ee):"teclas"===T?a(ne,ae):"faders"===T?a(oe,re):(B(t),ge(t,4473924))}else B(null),Q([]),te([]),ne([]),oe([])},[T,H,ge,Z,ee,ae,re]),ye=k.useCallback(e=>{var t;if(!P.current)return null;let a=null;const n=null==(t=e.match(/\d+/))?void 0:t[0];return n?(P.current.traverse(e=>{var t;if(e instanceof l&&e.name.toLowerCase().includes("aro")){(null==(t=e.name.match(/\d+/))?void 0:t[0])===n&&(a=e)}}),a):null},[]),we=k.useCallback(e=>{if(A(e),"chasis"===e&&H.chasis.length>0?B(H.chasis[0]):B(null),!N.current||!L.current)return;let t,a;"normal"===e?(t=ie.normal,a=!0):(t=ie.top,a=!1),L.current.enabled=a,_.to(N.current.position,{duration:1.2,ease:"power3.inOut",...t.pos}),_.to(L.current.target,{duration:1.2,ease:"power3.inOut",...t.target,onUpdate:()=>L.current.update()})},[H]),ve=k.useCallback((e,t)=>{const a=(a,n,r)=>{const o={...$,[n]:{...$[n]}};a.forEach(a=>{a.material.color.set(t.hex),o[n][a.name]=e}),U(o),a.forEach(e=>ge(e,0)),r([])};if("chasis"===T)return H.chasis.forEach(e=>e.material.color.set(t.hex)),void U(t=>({...t,chasis:e}));if("buttons"===T&&Z.length>0)return a(Z,"buttons",Q);if("knobs"===T&&ee.length>0)return a(ee,"knobs",te);if("teclas"===T&&ae.length>0)return a(ae,"teclas",ne);if("faders"===T&&re.length>0)return a(re,"faders",oe);if(D){D.material.color.set(t.hex);const a=D.name;let n;H.buttons.includes(D)?n="buttons":H.knobs.includes(D)?n="knobs":H.teclas.includes(D)?n="teclas":H.faders.includes(D)&&(n="faders"),n&&U(t=>({...t,[n]:{...t[n],[a]:e}})),ge(D,0)}else O.fire({title:"Selecciona una parte",text:"Haz clic en una pieza del controlador para aplicar el color.",imageUrl:"models/logo.png",imageWidth:120,imageHeight:120,background:"#232846",color:"#fff",confirmButtonColor:"#a259ff",confirmButtonText:"Entendido"})},[D,Z,ee,ae,re,$,H,T,ye]);k.useCallback(()=>{if(!S.current||!E.current||!N.current)return;const e=N.current.position.clone(),t=L.current?L.current.target.clone():null,a=N.current.fov,n=ie.normal.pos.clone(),r=ie.normal.target.clone();N.current.position.copy(n),N.current.fov=35,N.current.updateProjectionMatrix(),L.current&&(L.current.target.copy(r),L.current.update()),setTimeout(()=>{S.current.render(E.current,N.current);const n=S.current.domElement.toDataURL("image/png");Y(n),N.current.position.copy(e),N.current.fov=a,N.current.updateProjectionMatrix(),L.current&&t&&(L.current.target.copy(t),L.current.update()),G(!0)},50)},[S,E,N,L,ie,Y,G]);k.useEffect(()=>{J.current=T},[T]),k.useEffect(()=>{setTimeout(()=>{N.current&&L.current&&(le.current=N.current.position.clone(),ce.current=L.current.target.clone())},100)},[]);const[je,Ce]=k.useState("USD"),[Fe,ke]=k.useState({referenceCode:`controlador_${Date.now()}`,amount:"250.00",currency:"USD",signature:"",description:"Beato 16 Configurator",buyerEmail:"customer@email.com"});k.useEffect(()=>{const e=gt(je);ke(t=>({...t,amount:e.amount,currency:je,description:`Beato 16 Configurator - ${je} ${e.symbol}${e.amount}`}))},[je]),k.useEffect(()=>{if(X||V){const e=`beato16-${Date.now()}`;ke(t=>({...t,referenceCode:e}))}},[X,V]);const[Ee,Se]=k.useState([]);return e.jsxs(R,{options:{clientId:"sb",currency:"USD"},children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:-1,backgroundImage:"url(/textures/fondo.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"}}),e.jsxs("div",{className:"w-full h-screen text-gray-200 overflow-hidden relative",style:{background:"transparent"},children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:0,pointerEvents:"none",background:"transparent"}}),e.jsx("div",{style:{position:"fixed",top:16,left:6,zIndex:51,display:"flex",alignItems:"center",gap:"12px"},children:e.jsx("button",{onClick:()=>window.location.href="https://www.crearttech.com/",className:"relative px-5 py-2 rounded-full font-bold text-sm uppercase tracking-wider text-white transition-all duration-300 hover:-translate-y-0.5",style:{background:"linear-gradient(90deg, rgba(0,255,255,0.18) 0%, rgba(122,0,255,0.18) 50%, rgba(255,0,255,0.18) 100%)",border:"1px solid rgba(0, 255, 255, 0.55)"},children:e.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:[e.jsx("path",{d:"M3 10.5L12 3l9 7.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M5 9.5V21h14V9.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("span",{children:"Home"})]})})}),e.jsx("div",{className:"absolute top-6 left-1/2 transform -translate-x-1/2 z-10 flex items-center gap-3",children:e.jsx("h1",{className:"text-2xl font-bold leading-none m-0",style:{fontFamily:"Gotham Black, Arial, sans-serif",color:"#fff",textShadow:"0 0 12px #a259ff, 0 0 24px #0ff, 0 0 2px #fff",letterSpacing:"0.04em"},children:"BEATO16"})}),e.jsx("main",{className:"flex w-full h-full",style:{minHeight:"100vh",height:"100vh",position:"relative",zIndex:1,overflow:"hidden",background:"transparent"},children:e.jsx("div",{className:"flex-grow h-full",style:{position:"relative",zIndex:1,background:"transparent"},children:e.jsx("div",{ref:F,className:"w-full h-full transition-all duration-300",onClick:be,style:{position:"relative",zIndex:1}})})}),e.jsxs("div",{className:"fixed top-0 right-0 h-screen border-l border-gray-700 shadow-2xl transition-all duration-400 flex overflow-hidden z-10 "+("normal"===T?"w-28":"w-[320px]"),style:{backgroundColor:"rgba(255, 255, 0, 0.8)",background:"transparent",boxShadow:"0 0 16px 2px rgba(0, 255, 255, 0.4), -6px 0 16px 0 rgba(0, 255, 255, 0.3), inset 0 0 10px rgba(0,0,0,0.8)",borderLeft:"2px solid rgba(0, 255, 255, 0.8)",backdropFilter:"blur(10px)",zIndex:10},children:[e.jsx("div",{className:"w-28 p-4 flex-shrink-0",style:{paddingTop:"45px"},children:e.jsxs("div",{className:"flex flex-col gap-1.5",children:[[{id:"normal",icon:"M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5M12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17M12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z"},{id:"chasis",icon:"./textures/beato16.png",isImage:!0},,{id:"buttons",icon:"M12 1.999c5.524 0 10.002 4.478 10.002 10.002c0 5.523-4.478 10.001-10.002 10.001S1.998 17.524 1.998 12.001C1.998 6.477 6.476 1.999 12 1.999m0 1.5a8.502 8.502 0 1 0 0 17.003A8.502 8.502 0 0 0 12 3.5M11.996 6a5.998 5.998 0 1 1 0 11.996a5.998 5.998 0 0 1 0-11.996"},{id:"knobs",icon:"M9.42 4.074a.56.56 0 0 0-.56.56v.93c0 .308.252.56.56.56s.56-.252.56-.56v-.93a.56.56 0 0 0-.56-.56M11.554 8.8a.5.5 0 0 1 0 .707l-1.78 1.78a.5.5 0 1 1-.708-.707l1.78-1.78a.5.5 0 0 1 .708 0 M9.42 15.444c-1.16 0-2.32-.44-3.2-1.32a4.527 4.527 0 0 1 0-6.39a4.527 4.527 0 0 1 6.39 0a4.527 4.527 0 0 1 0 6.39c-.88.88-2.03 1.32-3.19 1.32m0-1.1a3.41 3.41 0 1 0 0-6.82a3.41 3.41 0 0 0 0 6.82M6.757 5.2a.56.56 0 1 0-.965.567l.465.809l.005.006a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.075a.566.566 0 0 0 .205-.753zm5.315.012a.55.55 0 0 1 .761-.206c.277.152.36.5.203.764l-.458.797a.56.56 0 0 1-.478.277a.564.564 0 0 1-.487-.834zm7.598 5.722a.5.5 0 0 1 .5-.5h2.52a.5.5 0 1 1 0 1h-2.52a.5.5 0 0 1-.5-.5 M22.69 15.454c2.49 0 4.52-2.03 4.52-4.52s-2.03-4.52-4.52-4.52s-4.52 2.03-4.52 4.52s2.03 4.52 4.52 4.52m0-1.11a3.41 3.41 0 1 1 0-6.82a3.41 3.41 0 0 1 0 6.82m-.56-9.7c0-.308.252-.56.56-.56s.56.252.56.56v.945a.566.566 0 0 1-.56.535a.56.56 0 0 1-.56-.56zm-2.103.566a.557.557 0 0 0-.763-.202a.566.566 0 0 0-.204.753l.468.815l.004.006a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.075a.566.566 0 0 0 .205-.753zm6.086-.204a.55.55 0 0 0-.761.206l-.458.795a.55.55 0 0 0 .194.759c.1.067.217.078.282.078a.6.6 0 0 0 .478-.262l.005-.006l.463-.806a.55.55 0 0 0-.203-.764M11.93 22.636H9.42a.5.5 0 0 0 0 1h2.51a.5.5 0 1 0 0-1 M4.9 23.136c0 2.49 2.03 4.52 4.52 4.52s4.52-2.03 4.52-4.52s-2.03-4.52-4.52-4.52s-4.52 2.03-4.52 4.52m7.93 0a3.41 3.41 0 1 1-6.82 0a3.41 3.41 0 0 1 6.82 0m-3.41-6.86a.56.56 0 0 0-.56.56v.93c0 .308.252.56.56.56s.56-.252.56-.56v-.93a.56.56 0 0 0-.56-.56m-3.418.93a.566.566 0 0 1 .755.206l.464.807c.137.258.06.6-.205.753a.53.53 0 0 1-.276.074a.58.58 0 0 1-.478-.261l-.005-.007l-.468-.814a.566.566 0 0 1 .207-.755zm6.08.209a.55.55 0 0 1 .761-.206c.277.151.36.499.203.764l-.462.802a.567.567 0 0 1-.766.194a.55.55 0 0 1-.194-.76zm8.475 3.588a.5.5 0 0 1 .707 0l1.78 1.78a.5.5 0 0 1-.707.707l-1.78-1.78a.5.5 0 0 1 0-.707 M22.69 27.656c-1.16 0-2.32-.44-3.2-1.32a4.527 4.527 0 0 1 0-6.39a4.527 4.527 0 0 1 6.39 0a4.527 4.527 0 0 1 0 6.39c-.88.88-2.04 1.32-3.19 1.32m0-1.11a3.41 3.41 0 1 0 0-6.82a3.41 3.41 0 0 0 0 6.82 M22.13 16.836c0-.308.252-.56.56-.56s.56.252.56.56v.945a.57.57 0 0 1-.56.545a.56.56 0 0 1-.56-.56zm-2.103.576a.566.566 0 0 0-.755-.206l-.006.003a.565.565 0 0 0-.206.755l.468.814l.004.007a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.074a.566.566 0 0 0 .205-.753zm6.086-.203a.55.55 0 0 0-.761.206l-.458.795a.55.55 0 0 0 .194.759a.5.5 0 0 0 .282.077a.6.6 0 0 0 .478-.261l.005-.007l.463-.805a.55.55 0 0 0-.203-.764 M1 5.75A4.75 4.75 0 0 1 5.75 1h20.52a4.75 4.75 0 0 1 4.75 4.75v20.48a4.75 4.75 0 0 1-4.75 4.75H5.75A4.75 4.75 0 0 1 1 26.23zM5.75 3A2.75 2.75 0 0 0 3 5.75v20.48a2.75 2.75 0 0 0 2.75 2.75h20.52a2.75 2.75 0 0 0 2.75-2.75V5.75A2.75 2.75 0 0 0 26.27 3z"},{id:"teclas",icon:"M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V6zm3-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H6zm2 2h8v4H8V8z"},{id:"faders",icon:"./textures/fader.png",isImage:!0}].map(t=>e.jsx("button",{onClick:()=>we(t.id),className:"w-full aspect-square border-2 rounded-lg flex items-center justify-center p-2 transition-all duration-300 text-white relative "+(T===t.id?"bg-gradient-to-br from-[#00FFFF] to-[#0080FF] border-[#00FFFF] shadow-lg":"border-[#00FFFF] bg-gradient-to-br from-[#000000] to-[#1a1a1a] hover:from-[#00FFFF] hover:to-[#0080FF] hover:border-[#00FFFF] hover:shadow-lg"),children:t.isImage?e.jsx("img",{src:t.icon,alt:"Menu icon",className:"w-full h-full mx-auto my-auto object-contain",style:{filter:"faders"===t.id?"brightness(1.5) contrast(1.3) saturate(1.2) drop-shadow(0 0 6px rgba(0, 255, 255, 0.5))":"none",backgroundColor:"faders"===t.id?"rgba(0, 0, 0, 0.1)":"transparent"},onError:e=>{}}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"chasis"===t.id||"knobs"===t.id?"0 0 32 32":(t.id,"0 0 24 24"),className:"w-4/5 h-4/5 mx-auto my-auto fill-white text-white",fill:"#fff",children:e.jsx("path",{d:t.icon})})},t.id)),e.jsx("input",{id:"sidebar-upload",type:"file",accept:"image/*,application/pdf",multiple:!0,style:{display:"none"},onChange:e=>{e.target.files&&Se(Array.from(e.target.files))}}),e.jsx("button",{type:"button",onClick:()=>{var e;return null==(e=document.getElementById("sidebar-upload"))?void 0:e.click()},className:"w-full aspect-square border-2 rounded-lg flex items-center justify-center p-2 transition-all duration-300 text-white bg-gradient-to-br from-[#000000] to-[#1a1a1a] border-[#00FFFF] hover:from-[#00FFFF] hover:to-[#0080FF] hover:border-[#00FFFF] hover:shadow-lg",title:"Subir archivos de personalización",children:e.jsx("svg",{width:"28",height:"28",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 16V4m0 0l-4 4m4-4l4 4M4 20h16",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),Ee.length>0&&e.jsxs("span",{className:"text-xs text-white mt-2",children:["Archivos: ",Ee.map(e=>e.name).join(", ")]})]})}),e.jsxs("div",{className:"flex-1 p-2 flex flex-col",children:[e.jsx("div",{className:"flex items-center pb-5 border-b border-gray-600 pl-0 "+("normal"===T?"justify-center items-center gap-0":"justify-center gap-2"),style:"normal"===T?{minHeight:"48px"}:{},children:"normal"===T?e.jsx("img",{src:"models/logo.png",alt:"Logo",className:"h-6 w-auto",style:{filter:"drop-shadow(0 0 8px #a259ff) drop-shadow(0 0 16px #0ff)"}}):e.jsx("img",{src:"models/logo.png",alt:"Logo",className:"h-8 w-auto",style:{filter:"drop-shadow(0 0 8px #a259ff) drop-shadow(0 0 16px #0ff)"}})}),e.jsxs("div",{className:"mt-6 animate-fadeIn",children:[e.jsx("p",{className:"font-black text-sm tracking-wide uppercase m-0 mb-3 text-gray-200 text-left animate-fadeIn",children:(()=>{switch(T){case"chasis":return"CHOOSE THE CHASSIS COLOR";case"buttons":return"CUSTOMIZE THE BUTTONS";case"knobs":return"CHOOSE FOR THE KNOBS";case"teclas":return"CUSTOMIZE THE KEYS";case"faders":return"CUSTOMIZE THE FADERS";default:return"CHOOSE A COLOR"}})()}),e.jsx("div",{className:"grid grid-cols-2 gap-x-0 gap-y-0 p-0 justify-items-end ml-auto animate-scaleIn",children:Object.entries(se[T]||{}).map(([t,a],n)=>e.jsx("div",{className:"w-10 h-10 rounded-full cursor-pointer border border-[#a259ff] shadow-[0_0_6px_1px_#a259ff55] transition-all duration-200 hover:scale-110 animate-fadeInUp",style:{backgroundColor:a.hex,animationDelay:50*n+"ms"},title:t,onClick:()=>ve(t,a)},t))})]})]})]}),"normal"===T&&e.jsx("button",{onClick:de,className:"fixed bottom-10 left-1/2 transform -translate-x-1/2 z-50 px-6 py-3 text-lg font-bold uppercase tracking-wide text-black bg-purple-400 border-none rounded cursor-pointer transition-all duration-200 shadow-lg hover:bg-yellow-200 hover:scale-105 hover:shadow-xl shadow-[0_0_8px_2px_#a259ff80,0_0_16px_4px_#0ff5]",children:"ADD TO CART"}),V&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:e.jsxs("div",{className:"relative bg-[#3a4060] rounded-2xl shadow-2xl border-2 border-[#a259ff] p-4 md:py-4 md:px-8 w-full max-w-4xl mx-4 animate-fade-in",children:[e.jsx("button",{onClick:()=>G(!1),className:"absolute top-3 right-3 text-gray-400 hover:text-pink-400 text-2xl font-bold",children:"×"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-purple-400 mb-4 text-center tracking-widest",children:"PAGO SEGURO"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center mb-4",children:[e.jsx("div",{className:"w-full max-w-[320px] md:max-w-[380px] aspect-[4/3] flex items-center justify-center ml-16 md:ml-24",children:K&&e.jsx("img",{src:K,alt:"Custom controller",className:"w-full h-full object-contain",style:{background:"none",boxShadow:"none",border:"none"}})}),e.jsxs("div",{className:"flex-1 mt-8 md:mt-0",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2 text-cyan-400",children:"Your Configuration:"}),e.jsxs("ul",{className:"text-base space-y-1",children:[e.jsxs("li",{children:[e.jsx("b",{children:"Chassis:"})," ",$.chasis]}),e.jsxs("li",{children:[e.jsx("b",{children:"Buttons:"})," ",Object.values($.buttons).join(", ")||"Default"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Knobs:"})," ",Object.values($.knobs).join(", ")||"Default"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Keys:"})," ",Object.values($.teclas).join(", ")||"Default"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Faders:"})," ",Object.values($.faders).join(", ")||"Default"]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-cyan-400",children:"Select your currency:"}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx("button",{onClick:()=>Ce("USD"),className:"px-6 py-3 rounded-lg font-bold text-lg transition-all "+("USD"===je?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-[0_0_12px_2px_#3b82f6]":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:"USD $250.00"}),e.jsx("button",{onClick:()=>Ce("COP"),className:"px-6 py-3 rounded-lg font-bold text-lg transition-all "+("COP"===je?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-[0_0_12px_2px_#3b82f6]":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:"COP $1,000,000"})]}),e.jsxs("p",{className:"text-center text-sm text-gray-400 mt-2",children:["Selected price: ",je," ",gt(je).symbol,gt(je).amount]})]}),e.jsxs("div",{className:"flex flex-col gap-4 mt-4",children:[e.jsx("div",{className:"w-full py-3 rounded-lg bg-gray-600 text-gray-400 font-bold text-lg text-center",children:"PayPal temporarily unavailable"}),e.jsxs("button",{onClick:async()=>{if(!Fe.buyerEmail||!Fe.buyerEmail.includes("@"))return void alert("Please enter a valid email");let e="";try{const t=document.querySelector("canvas");if(t){e=(await I(t,{useCORS:!0,allowTaint:!0})).toDataURL("image/jpeg",.6),localStorage.setItem("payu_screenshot",e)}}catch(d){}const t="payu-popup";if(!window.open("",t,"width=800,height=600,scrollbars=yes,resizable=yes"))return void alert("Por favor permite popups para continuar con el pago");const a=gt(je),n=`${xt.API_KEY}~${xt.MERCHANT_ID}~${Fe.referenceCode}~${a.amount}~${je}`,r=z(n).toString(),o=document.createElement("form");o.method="POST",o.action=a.url,o.target=t,Object.values($.buttons||{}).join(", "),Object.values($.knobs||{}).join(", ");const s=Object.values($.faders||{}).join(", ")||"Sin configurar",i=Object.values($.teclas||{}).join(", ")||"Sin configurar",l=`Beato16-${$.chasis||"Custom"}-${Object.keys($.buttons||{}).length}b-${Object.keys($.knobs||{}).length}k-${Object.keys($.faders||{}).length}f-${Object.keys($.teclas||{}).length}t`,c={merchantId:xt.MERCHANT_ID,accountId:a.accountId,description:`Beato 16 Configurator - ${je} ${a.symbol}${a.amount}`,referenceCode:Fe.referenceCode,amount:a.amount,currency:je,buyerEmail:Fe.buyerEmail,signature:r,test:"1",confirmationUrl:xt.CONFIRMATION_URL,responseUrl:xt.RESPONSE_URL,lng:a.language,extra1:"Beato16",extra2:$.chasis||"Custom",extra3:l,extra4:`Beato 16 Configurator - ${je} ${a.symbol}${a.amount}`,extra5:"screenshot_available",extra8:s,extra9:i,payerCountry:"CO",payerCity:"Bogota",payerPhone:"+57-300-1234567",country:"CO"};Object.entries(c).forEach(([e,t])=>{const a=document.createElement("input");a.type="hidden",a.name=e,a.value=t,o.appendChild(a)}),document.body.appendChild(o),o.submit(),document.body.removeChild(o)},className:"w-full py-3 rounded-lg bg-gradient-to-r from-green-400 to-cyan-400 text-white font-bold text-lg shadow-[0_0_12px_2px_#0ff580] hover:scale-105 transition-all mt-2",children:["Pay with PayU (",je," ",gt(je).symbol,gt(je).amount,")"]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-6 text-center",children:"Your purchase is 100% safe and protected."})]})}),X&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:e.jsxs("div",{className:"relative bg-[#232846] rounded-2xl shadow-2xl border-2 border-[#a259ff] p-6 w-full max-w-2xl mx-4 animate-fade-in flex flex-col items-center",children:[e.jsx("button",{onClick:()=>q(!1),className:"absolute top-3 right-3 text-gray-400 hover:text-pink-400 text-2xl font-bold",children:"×"}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-purple-400 mb-4 text-center tracking-widest",children:"Product Added!"}),e.jsx("p",{className:"text-white text-center mb-4",children:"Your configuration has been added to the Wix cart. You can complete your purchase from there."}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center w-full",children:[e.jsx("div",{className:"w-full max-w-[220px] aspect-[4/3] flex items-center justify-center",children:K&&e.jsx("img",{src:K,alt:"Custom controller",className:"w-full h-full object-contain",style:{background:"none",boxShadow:"none",border:"none"}})}),e.jsxs("div",{className:"flex-1 mt-4 md:mt-0 w-full",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-cyan-400",children:"Your Product:"}),e.jsxs("ul",{className:"text-base space-y-1 mb-2",children:[e.jsxs("li",{children:[e.jsx("b",{children:"Chassis:"})," ",$.chasis]}),e.jsxs("li",{children:[e.jsx("b",{children:"Buttons:"})," ",Object.values($.buttons).join(", ")||"Default"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Knobs:"})," ",Object.values($.knobs).join(", ")||"Default"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Keys:"})," ",Object.values($.teclas).join(", ")||"Default"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Faders:"})," ",Object.values($.faders).join(", ")||"Default"]})]})]})]}),e.jsx("div",{className:"flex flex-col gap-4 mt-6 w-full",children:e.jsx("button",{onClick:()=>q(!1),className:"w-full py-3 rounded-lg bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold text-lg shadow-[0_0_12px_2px_#ff00ff80] hover:scale-105 transition-all mt-2",children:"Continue Customizing"})})]})})]})]})},Rt=Object.freeze(Object.defineProperty({__proto__:null,default:It},Symbol.toStringTag,{value:"Module"})),Lt=({className:t="",style:a={}})=>{const[n,r]=k.useState(!1),[o]=k.useState(Date.now());return k.useEffect(()=>{const e=setTimeout(()=>{r(!0)},4100);return()=>clearTimeout(e)},[]),e.jsxs("div",{className:t,style:a,children:[e.jsx(_t,{isVisible:!n}),e.jsx("div",{style:{width:"100%",height:"100%",opacity:n?1:0},children:e.jsx(It,{})})]})},zt=Object.freeze(Object.defineProperty({__proto__:null,default:Lt},Symbol.toStringTag,{value:"Module"})),Pt=({isVisible:t,onComplete:a})=>{const[n,r]=k.useState(0),[o]=k.useState(Date.now()),[s,i]=k.useState(!1),[l,c]=k.useState(!1),d=k.useRef(null);return k.useEffect(()=>{if(t){const e=setInterval(()=>{const t=Date.now()-o,n=Math.min(t/4100*100,100);r(e=>Math.abs(e-n)>=1||n>=100?n:e),n>=100&&(clearInterval(e),d.current&&(d.current.pause(),d.current.currentTime=0),null==a||a())},100);return()=>clearInterval(e)}r(0)},[t,o]),k.useEffect(()=>{if(d.current&&t){const e=d.current;e.playbackRate=1,e.volume=0;const t=()=>{c(!0),e.play().catch(e=>{i(!0)})},a=e=>{i(!0)},n=()=>{},r=()=>{},o=()=>{},s=()=>{};return e.addEventListener("canplay",t),e.addEventListener("error",a),e.addEventListener("loadstart",n),e.addEventListener("loadeddata",r),e.addEventListener("waiting",o),e.addEventListener("playing",s),e.load(),()=>{e.removeEventListener("canplay",t),e.removeEventListener("error",a),e.removeEventListener("loadstart",n),e.removeEventListener("loadeddata",r),e.removeEventListener("waiting",o),e.removeEventListener("playing",s)}}if(d.current&&!t){const e=d.current;e.pause(),e.currentTime=0,c(!1),i(!1)}},[t]),e.jsx(S,{children:t&&e.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:9999,color:"white",fontFamily:"Arial, sans-serif",overflow:"hidden"},children:[e.jsxs("video",{ref:d,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:-2},muted:!0,loop:!0,playsInline:!0,preload:"metadata",crossOrigin:"anonymous",autoPlay:!0,children:[e.jsx("source",{src:"/CONFIGURADOR/videos/video.mp4",type:"video/mp4"}),e.jsx("img",{src:"/textures/carga.jpg",alt:"Loading background",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}})]}),e.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.3)",zIndex:-1}}),e.jsx(N.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},style:{fontSize:"32px",fontWeight:"bold",marginBottom:"20px",color:"#00FFFF",textShadow:"0 0 20px #00FFFF, 0 0 40px #00FFFF, 0 0 60px #00FFFF",position:"relative",zIndex:1},children:"KNOBO"}),e.jsx(N.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8,ease:"easeOut"},style:{fontSize:"18px",fontWeight:"bold",marginBottom:"40px",color:"#FFFFFF",textShadow:"0 0 15px #FFFFFF, 0 0 30px #FFFFFF",position:"relative",zIndex:1},children:"Features: Professional knob controller with 4 assignable knobs and LED feedback."}),e.jsx(N.div,{animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"},style:{width:"100px",height:"100px",border:"6px solid rgba(0, 255, 255, 0.3)",borderTop:"6px solid #00FFFF",borderRadius:"50%",marginBottom:"40px",boxShadow:"0 0 30px rgba(0, 255, 255, 0.8), 0 0 60px rgba(0, 255, 255, 0.4)",position:"relative",zIndex:1}}),e.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},style:{fontSize:"20px",fontWeight:"bold",textAlign:"center",marginBottom:"20px",color:"#00FFFF",textShadow:"0 0 15px #00FFFF, 0 0 30px #00FFFF",position:"relative",zIndex:1},children:["Cargando KNOBO... ",Math.round(n),"%"]}),n>=100&&e.jsx(N.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.8},style:{fontSize:"18px",color:"#00FF80",fontWeight:"bold",marginBottom:"30px",textShadow:"0 0 15px #00FF80, 0 0 30px #00FF80",position:"relative",zIndex:1},children:"¡KNOBO listo para configurar!"}),e.jsx(N.div,{style:{width:"400px",height:"8px",backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:"4px",overflow:"hidden",boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.3)",marginBottom:"40px",position:"relative",zIndex:1},children:e.jsx(N.div,{initial:{width:0},animate:{width:`${n}%`},transition:{duration:.1,ease:"linear"},style:{width:"100%",height:"100%",background:"linear-gradient(90deg, #00FFFF, #00CCFF, #00FFFF)",borderRadius:"4px",boxShadow:"0 0 20px rgba(0, 255, 255, 0.8), 0 0 40px rgba(0, 255, 255, 0.4)",backgroundSize:"200% 100%",animation:"shimmer 2s infinite"}})}),e.jsx(N.div,{style:{display:"flex",gap:"12px",marginTop:"20px",position:"relative",zIndex:1},children:[0,1,2].map(t=>e.jsx(N.div,{animate:{scale:[1,1.3,1],opacity:[.4,1,.4]},transition:{duration:2,repeat:1/0,delay:.3*t,ease:"easeInOut"},style:{width:"12px",height:"12px",backgroundColor:"#00FFFF",borderRadius:"50%",boxShadow:"0 0 15px rgba(0, 255, 255, 0.8), 0 0 30px rgba(0, 255, 255, 0.4)"}},t))}),e.jsx("style",{children:"\n            @keyframes shimmer {\n              0% { background-position: -200% 0; }\n              100% { background-position: 200% 0; }\n            }\n          "})]})})},Mt=({onProductChange:t})=>{const[w,v]=k.useState(""),[j,C]=k.useState(""),F=k.useRef(null),E=k.useRef(null),S=k.useRef(null),N=k.useRef(null),I=k.useRef(null),P=k.useRef(null),M=k.useRef(null),[T,A]=k.useState("normal"),[D,B]=k.useState(null),[$,U]=k.useState(()=>{const e=localStorage.getItem("knobo_chosenColors");if(e)try{return JSON.parse(e)}catch(aa){}return{type:"configUpdate",chasis:"Gris",buttons:{},knobs:{}}}),[H,W]=k.useState({chasis:[],buttons:[],knobs:[]}),[V,G]=k.useState(!1),[K,Y]=k.useState(null),[X,q]=k.useState(!1),J=k.useRef(T),[Z,Q]=k.useState([]),[ee,te]=k.useState([]),ae={chasis:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},buttons:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},knobs:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}}},ne={normal:{pos:new h(2,1,-.1),target:new h(0,-.5,-.1)},top:{pos:new h(1,1.65,-.4),target:new h(-.35,-.9,-.4)}},re=k.useRef(null),oe=k.useRef(null);k.useCallback(()=>{const e={productId:"3d58a487-8b74-2a0b-7e04-43fca04e5333",quantity:1,options:{choices:{"Tipo de Configuración":"Paquete Pro"},customTextFields:[{title:"Especificaciones",value:`Chasis: ${$.chasis}, Botones: ${Object.values($.buttons).join(", ")}, Knobs: ${Object.values($.knobs).join(", ")}`}]}};window.parent&&window.parent.postMessage(e,"*"),G(!1),q(!0)},[$]);const se=k.useCallback(()=>{window.parent&&window.parent.postMessage($,"*")},[$]),[ie,le]=k.useState(null);k.useEffect(()=>{(new n).load("public/textures/blackhole.jpg.avif",e=>{e.mapping=r,le(e)})},[]);const ce=k.useCallback((e,t)=>{const a=new o(16777215,.9);e.add(a);const n=new s(16777215,1.2);n.position.set(5,4,-1),n.castShadow=!0,n.shadow.mapSize.width=4096,n.shadow.mapSize.height=4096,n.shadow.camera.near=.5,n.shadow.camera.far=50,n.shadow.normalBias=.02,e.add(n);const r=new s(10079487,1);r.position.set(-8,3,-9),e.add(r);const l=new s(10079487,1);l.position.set(-8,3,15),e.add(l);const c=new i(16777215,.7,.5);c.position.set(0,5,5),e.add(c);const d=new s(16777215,1.2);d.position.set(-5,30,0),d.castShadow=!0,d.shadow.mapSize.width=2048,d.shadow.mapSize.height=2048,d.shadow.camera.near=.5,d.shadow.camera.far=50,d.shadow.normalBias=.02,e.add(d)},[]),de=k.useCallback(e=>{const t={chasis:[],buttons:[],knobs:[]},a={type:"configUpdate",chasis:"Azul",buttons:{},knobs:{}};e.traverse(e=>{var n;if(!(e instanceof l))return;e.castShadow=!0,e.receiveShadow=!0;const r="string"==typeof e.name?e.name.toLowerCase():"";if((r.includes("logo")||r.includes("beato")||r.includes("knobo02")||r.includes("knobo-02")||r.includes("crearttech")||r.includes("custom midi"))&&e.material&&"map"in e.material&&e.material.map&&(e.material.transparent=!0,e.material.alphaTest=.9),r.includes("cubechasis"))e.material=new c({color:ae.chasis.Gris.hex,metalness:.8,roughness:.35,clearcoat:.85,clearcoatRoughness:.1}),t.chasis.push(e),a.chasis="Gris";else if(r.includes("boton")){const n="Negro";e.material=new c({color:ae.buttons[n].hex,metalness:.4,roughness:.68,clearcoat:.85,clearcoatRoughness:.08,reflectivity:.3,sheen:.5,sheenColor:1842204}),t.buttons.push(e),a.buttons[e.name]=n}else if(r.includes("aro"))e.material=new c({color:0,metalness:0,roughness:.2,clearcoat:.8,clearcoatRoughness:.1,reflectivity:.5,transmission:.3,thickness:.5,ior:1.4,attenuationDistance:1,attenuationColor:16777215,transparent:!0,opacity:.7}),t.buttons.push(e),a.buttons[e.name]="Negro";else if(r.includes("knob")&&!r.includes("knobo-02")&&(null==(n=e.material)?void 0:n.color)){const n=e.material;if((n.color.r+n.color.g+n.color.b)/3<.5){const n="Negro";e.material=new d({color:ae.knobs[n].hex,metalness:0,roughness:1}),t.knobs.push(e),a.knobs[e.name]=n}else e.material=new d({color:16777215})}}),W(t),U(a)},[ie]),ue=k.useCallback(e=>{const t=(new u).setFromObject(e),a=t.getSize(new h),n=t.getCenter(new h),r=1.8/Math.max(a.x,a.y,a.z);e.scale.set(r,r,r),e.position.copy(n).multiplyScalar(-r),e.position.y-=a.y/2*r},[]),he=k.useCallback(async()=>{try{const{GLTFLoader:e}=await a(async()=>{const{GLTFLoader:e}=await import("./GLTFLoader-L0pBLRUW.js");return{GLTFLoader:e}},__vite__mapDeps([7,1,2]));(new e).load("./models/knobo2.glb",e=>{var t;const a=e.scene;P.current=a,de(a),ue(a),null==(t=E.current)||t.add(a),M.current||(M.current=a.position.clone());a.traverse(e=>{e.isMesh&&"string"==typeof e.name&&e.name.toLowerCase().includes("aro")&&e.material&&"color"in e.material&&e.material.color.setHex(1842204),e.isMesh&&"string"==typeof e.name&&e.name.toLowerCase().includes("aro")&&(e.material=e.material.clone())})},void 0,e=>{})}catch(e){}},[de,ue]);k.useEffect(()=>{if(!F.current)return;const e=new m;e.background=null,E.current=e;const t=new p({antialias:!0,alpha:!0,preserveDrawingBuffer:!0});t.setSize(F.current.clientWidth,F.current.clientHeight),t.setPixelRatio(Math.min(window.devicePixelRatio,2)),t.outputColorSpace=x,t.shadowMap.enabled=!0,t.shadowMap.type=f,S.current=t,F.current.appendChild(t.domElement);const n=new g(45,F.current.clientWidth/F.current.clientHeight,.1,200);let r;n.position.copy(ne.normal.pos),N.current=n,a(async()=>{const{OrbitControls:e}=await import("./OrbitControls-DFclDx1A.js");return{OrbitControls:e}},__vite__mapDeps([8,1,2])).then(({OrbitControls:e})=>{const a=new e(n,t.domElement);a.target.copy(ne.normal.target),a.enableDamping=!0,a.minDistance=2,a.maxDistance=5,I.current=a}),ce(e,t),he();const o=()=>{r=requestAnimationFrame(o),I.current&&I.current.update(),t.render(e,n)};return o(),()=>{r&&cancelAnimationFrame(r),F.current&&t.domElement&&F.current.removeChild(t.domElement),t.dispose()}},[ce,he]),k.useEffect(()=>{const e=()=>{if(F.current&&N.current&&S.current){const e=F.current.clientWidth,t=F.current.clientHeight;N.current.aspect=e/t,N.current.updateProjectionMatrix(),S.current.setSize(e,t)}};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),k.useEffect(()=>{localStorage.setItem("knobo_currentView",T)},[T]),k.useEffect(()=>{localStorage.setItem("knobo_chosenColors",JSON.stringify($))},[$]),k.useEffect(()=>{if(H.chasis.length>0||H.buttons.length>0||H.knobs.length>0){if($.chasis&&ae.chasis[$.chasis]){const e=ae.chasis[$.chasis].hex;H.chasis.forEach(t=>{t.material&&"color"in t.material&&t.material.color.setHex(parseInt(e.replace("#",""),16))})}Object.entries($.buttons).forEach(([e,t])=>{if(ae.buttons[t]){const a=ae.buttons[t].hex,n=H.buttons.find(t=>t.name===e);n&&n.material&&"color"in n.material&&n.material.color.setHex(parseInt(a.replace("#",""),16))}}),Object.entries($.knobs).forEach(([e,t])=>{if(ae.knobs[t]){const a=ae.knobs[t].hex,n=H.knobs.find(t=>t.name===e);n&&n.material&&"color"in n.material&&n.material.color.setHex(parseInt(a.replace("#",""),16))}})}},[H,$]),k.useCallback(()=>{localStorage.removeItem("knobo_currentView"),localStorage.removeItem("knobo_chosenColors"),A("normal"),U({type:"configUpdate",chasis:"Gris",buttons:{},knobs:{}}),Q([]),te([]),B(null),O.fire({title:"Configuración reseteada",text:"Todas las configuraciones han sido restauradas a los valores por defecto",icon:"success",confirmButtonText:"OK"})},[]);const me=k.useCallback((e,t=0)=>{var a;e&&(null==(a=e.material)?void 0:a.emissive)&&e.material.emissive.setHex(t)},[]),pe=k.useCallback(e=>{var t;if(!N.current||!S.current)return;if("chasis"===T)return B(null),void Q([]);const a=new b,n=new y,r=S.current.domElement.getBoundingClientRect();n.x=(e.clientX-r.left)/r.width*2-1,n.y=-(e.clientY-r.top)/r.height*2+1,a.setFromCamera(n,N.current);let o=[];if("buttons"===T?o=H.buttons:"knobs"===T?o=H.knobs:"normal"===T&&(o=H.buttons),0===o.length)return;const s=a.intersectObjects(o,!1);if("buttons"===T&&H.buttons.forEach(e=>me(e,0)),D&&"normal"!==T&&me(D,0),s.length>0){const a=s[0].object;if("normal"===T)return;if("buttons"===T&&e.shiftKey)0===Z.length&&D&&D!==a?(Q([D,a]),B(null),me(D,4473924),me(a,4473924)):(B(null),Q(e=>{if(0===e.length)return me(a,4473924),[a];let t;return e.includes(a)?(t=e.filter(e=>e!==a),me(a,0)):(t=[...e,a],me(a,4473924)),t.forEach(e=>me(e,4473924)),t}));else if(Q([]),"buttons"===T&&a.name.toLowerCase().includes("aro")){const e=parseInt((null==(t=a.name.match(/\d+/))?void 0:t[0])||"1",10),n=H.buttons.find(t=>t.name.toLowerCase().includes("boton")&&t.name.includes(e.toString()));if(!n)return void B(null);B(n),me(n,4473924)}else B(a),me(a,4473924)}else B(null),Q([])},[T,H,D,me,Z]),xe=k.useCallback(e=>{var t;if(!P.current)return null;let a=null;const n=null==(t=e.match(/\d+/))?void 0:t[0];return n?(P.current.traverse(e=>{var t;if(e instanceof l&&e.name.toLowerCase().includes("aro")){(null==(t=e.name.match(/\d+/))?void 0:t[0])===n&&(a=e)}}),a):null},[]),fe=k.useCallback(e=>{if(A(e),"chasis"===e&&H.chasis.length>0?B(H.chasis[0]):B(null),!N.current||!I.current)return;let t,a;"normal"===e?(t=ne.normal,a=!0):(t=ne.top,a=!1),I.current.enabled=a,_.to(N.current.position,{duration:1.2,ease:"power3.inOut",...t.pos}),_.to(I.current.target,{duration:1.2,ease:"power3.inOut",...t.target,onUpdate:()=>I.current.update()})},[H]),ge=k.useCallback((e,t)=>{if("chasis"===T)return H.chasis.forEach(e=>{e.material.color.set(t.hex)}),void U(t=>({...t,chasis:e}));if("buttons"===T&&Z.length>0){const a={...$,buttons:{...$.buttons}};return Z.forEach(n=>{n.material.color.set(t.hex),a.buttons[n.name]=e;const r=xe(n.name);r&&r.material&&r.material.color.set(t.hex)}),U(a),Z.forEach(e=>me(e,0)),void Q([])}if("knobs"===T&&ee.length>0){const a={...$,knobs:{...$.knobs}};return ee.forEach(n=>{n.material.color.set(t.hex),a.knobs[n.name]=e}),U(a),ee.forEach(e=>me(e,0)),void te([])}if(!D)return void O.fire({title:"Selecciona una parte",text:"Haz clic en una pieza del controlador para aplicar el color.",imageUrl:"models/logo.png",imageWidth:120,imageHeight:120,background:"#232846",color:"#fff",confirmButtonColor:"#a259ff",confirmButtonText:"Entendido"});D.material.color.set(t.hex);const a={...$},n=D.name;if(H.buttons.includes(D)){if(a.buttons[n]=e,n.toLowerCase().includes("boton")){const e=xe(n);e&&e.material&&e.material.color.set(t.hex)}me(D,0)}else H.knobs.includes(D)&&(a.knobs[n]=e);U(a)},[D,Z,$,H,T,xe,ee]),be=k.useCallback(()=>{if(!S.current||!E.current||!N.current)return;const e=N.current.position.clone(),t=I.current?I.current.target.clone():null,a=N.current.fov,n=ne.normal.pos.clone(),r=ne.normal.target.clone();N.current.position.copy(n),N.current.fov=35,N.current.updateProjectionMatrix(),I.current&&(I.current.target.copy(r),I.current.update()),setTimeout(()=>{S.current.render(E.current,N.current);const n=S.current.domElement.toDataURL("image/png");Y(n),N.current.position.copy(e),N.current.fov=a,N.current.updateProjectionMatrix(),I.current&&t&&(I.current.target.copy(t),I.current.update()),G(!0)},50)},[S,E,N,I,ne,Y,G]);k.useEffect(()=>{se()},[se]),k.useEffect(()=>{J.current=T},[T]),k.useEffect(()=>{setTimeout(()=>{N.current&&I.current&&(re.current=N.current.position.clone(),oe.current=I.current.target.clone())},100)},[]);const[ye,we]=k.useState("USD"),[ve,je]=k.useState({referenceCode:`knobo_${Date.now()}`,amount:"100.00",currency:"USD",signature:"",description:"Knobo Configurator",buyerEmail:"customer@email.com"});k.useEffect(()=>{const e=bt(ye);je(t=>({...t,amount:e.amount,currency:ye,description:`Knobo Configurator - ${ye} ${e.symbol}${e.amount}`}))},[ye]),k.useEffect(()=>{if(X||V){const e=`knobo-${Date.now()}`;je(t=>({...t,referenceCode:e}))}},[X,V]);const[Ce,Fe]=k.useState([]);return e.jsxs(R,{options:{clientId:"sb",currency:"USD"},children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:-1,backgroundImage:"url(/textures/fondo.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"}}),e.jsxs("div",{className:"w-full h-screen text-gray-200 overflow-hidden relative",style:{background:"transparent"},children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:0,pointerEvents:"none",background:"transparent"}}),e.jsx("div",{style:{position:"fixed",top:16,left:6,zIndex:51,display:"flex",alignItems:"center",gap:"12px"},children:e.jsx("button",{onClick:()=>window.location.href="https://www.crearttech.com/",className:"relative px-5 py-2 rounded-full font-bold text-sm uppercase tracking-wider text-white transition-all duration-300 hover:-translate-y-0.5",style:{background:"linear-gradient(90deg, rgba(0,255,255,0.18) 0%, rgba(122,0,255,0.18) 50%, rgba(255,0,255,0.18) 100%)",border:"1px solid rgba(0, 255, 255, 0.55)"},children:e.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:[e.jsx("path",{d:"M3 10.5L12 3l9 7.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M5 9.5V21h14V9.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("span",{children:"Home"})]})})}),e.jsx("div",{className:"absolute top-6 left-1/2 transform -translate-x-1/2 z-10 flex items-center gap-3",children:e.jsx("h1",{className:"text-2xl font-bold leading-none m-0",style:{fontFamily:"Gotham Black, Arial, sans-serif",color:"#fff",textShadow:"0 0 12px #a259ff, 0 0 24px #0ff, 0 0 2px #fff",letterSpacing:"0.04em"},children:"KNOBO"})}),e.jsx("main",{className:"flex w-full h-full",style:{minHeight:"100vh",height:"100vh",position:"relative",zIndex:1,overflow:"hidden",background:"transparent"},children:e.jsx("div",{className:"flex-grow h-full",style:{position:"relative",zIndex:1,background:"transparent"},children:e.jsx("div",{ref:F,className:"w-full h-full transition-all duration-300",onClick:pe,style:{position:"relative",zIndex:1}})})}),e.jsxs("div",{className:"fixed top-0 right-0 h-screen border-l border-gray-700 shadow-2xl transition-all duration-400 flex overflow-hidden z-10 "+("normal"===T?"w-28":"w-[320px]"),style:{backgroundColor:"rgba(255, 255, 0, 0.8)",background:"linear-gradient(135deg, rgba(0, 0, 0, 0.2) 0%, rgba(26, 26, 26, 0.2) 25%, rgba(10, 10, 10, 0.2) 50%, rgba(26, 26, 26, 0.2) 75%, rgba(0, 0, 0, 0.2) 100%)",boxShadow:"0 0 16px 2px rgba(0, 255, 255, 0.4), -6px 0 16px 0 rgba(0, 255, 255, 0.3), inset 0 0 10px rgba(0,0,0,0.8)",borderLeft:"2px solid rgba(0, 255, 255, 0.8)",backdropFilter:"blur(10px)",zIndex:10},children:[e.jsx("div",{className:"w-28 p-4 flex-shrink-0",style:{paddingTop:"140px"},children:e.jsxs("div",{className:"flex flex-col gap-1.5",children:[[{id:"normal",icon:"M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5M12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17M12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z",title:"Full View - See complete MIDI controller"},{id:"chasis",icon:"knobo.png",title:"Customize Chassis - Change main body color",isImage:!0},{id:"knobs",icon:"M9.42 4.074a.56.56 0 0 0-.56.56v.93c0 .308.252.56.56.56s.56-.252.56-.56v-.93a.56.56 0 0 0-.56-.56M11.554 8.8a.5.5 0 0 1 0 .707l-1.78 1.78a.5.5 0 1 1-.708-.707l1.78-1.78a.5.5 0 0 1 .708 0 M9.42 15.444c-1.16 0-2.32-.44-3.2-1.32a4.527 4.527 0 0 1 0-6.39a4.527 4.527 0 0 1 6.39 0a4.527 4.527 0 0 1 0 6.39c-.88.88-2.03 1.32-3.19 1.32m0-1.1a3.41 3.41 0 1 0 0-6.82a3.41 3.41 0 0 0 0 6.82M6.757 5.2a.56.56 0 1 0-.965.567l.465.809l.005.006a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.075a.566.566 0 0 0 .205-.753zm5.315.012a.55.55 0 0 1 .761-.206c.277.152.36.5.203.764l-.458.797a.56.56 0 0 1-.478.277a.564.564 0 0 1-.487-.834zm7.598 5.722a.5.5 0 0 1 .5-.5h2.52a.5.5 0 1 1 0 1h-2.52a.5.5 0 0 1-.5-.5 M22.69 15.454c2.49 0 4.52-2.03 4.52-4.52s-2.03-4.52-4.52-4.52s-4.52 2.03-4.52 4.52s2.03 4.52 4.52 4.52m0-1.11a3.41 3.41 0 1 1 0-6.82a3.41 3.41 0 0 1 0 6.82m-.56-9.7c0-.308.252-.56.56-.56s.56.252.56.56v.945a.566.566 0 0 1-.56.535a.56.56 0 0 1-.56-.56zm-2.103.566a.557.557 0 0 0-.763-.202a.566.566 0 0 0-.204.753l.468.815l.004.006a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.075a.566.566 0 0 0 .205-.753zm6.086-.204a.55.55 0 0 0-.761.206l-.458.795a.55.55 0 0 0 .194.759a.5.5 0 0 0 .282.077a.6.6 0 0 0 .478-.261l.005-.007l.463-.805a.55.55 0 0 0-.203-.764 M11.93 22.636H9.42a.5.5 0 0 0 0 1h2.51a.5.5 0 1 0 0-1 M4.9 23.136c0 2.49 2.03 4.52 4.52 4.52s4.52-2.03 4.52-4.52s-2.03-4.52-4.52-4.52s-4.52 2.03-4.52 4.52m7.93 0a3.41 3.41 0 1 1-6.82 0a3.41 3.41 0 0 1 6.82 0m-3.41-6.86a.56.56 0 0 0-.56.56v.93c0 .308.252.56.56.56s.56-.252.56-.56v-.93a.56.56 0 0 0-.56-.56m-3.418.93a.566.566 0 0 1 .755.206l.464.807c.137.258.06.6-.205.753a.53.53 0 0 1-.276.074a.58.58 0 0 1-.478-.261l-.005-.007l-.468-.814a.566.566 0 0 1 .207-.755zm6.08.209a.55.55 0 0 1 .761-.206c.277.151.36.499.203.764l-.462.802a.567.567 0 0 1-.766.194a.55.55 0 0 1-.194-.76zm8.475 3.588a.5.5 0 0 1 .707 0l1.78 1.78a.5.5 0 0 1-.707.707l-1.78-1.78a.5.5 0 0 1 0-.707 M22.69 27.656c-1.16 0-2.32-.44-3.2-1.32a4.527 4.527 0 0 1 0-6.39a4.527 4.527 0 0 1 6.39 0a4.527 4.527 0 0 1 0 6.39c-.88.88-2.04 1.32-3.19 1.32m0-1.11a3.41 3.41 0 1 0 0-6.82a3.41 3.41 0 0 0 0 6.82 M22.13 16.836c0-.308.252-.56.56-.56s.56.252.56.56v.945a.57.57 0 0 1-.56.545a.56.56 0 0 1-.56-.56zm-2.103.576a.566.566 0 0 0-.755-.206l-.006.003a.565.565 0 0 0-.206.755l.468.814l.004.007a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.074a.566.566 0 0 0 .205-.753zm6.086-.203a.55.55 0 0 0-.761.206l-.458.795a.55.55 0 0 0 .194.759a.5.5 0 0 0 .282.077a.6.6 0 0 0 .478-.261l.005-.007l.463-.805a.55.55 0 0 0-.203-.764 M1 5.75A4.75 4.75 0 0 1 5.75 1h20.52a4.75 4.75 0 0 1 4.75 4.75v20.48a4.75 4.75 0 0 1-4.75 4.75H5.75A4.75 4.75 0 0 1 1 26.23zM5.75 3A2.75 2.75 0 0 0 3 5.75v20.48a2.75 2.75 0 0 0 2.75 2.75h20.52a2.75 2.75 0 0 0 2.75-2.75V5.75A2.75 2.75 0 0 0 26.27 3z",title:"Knobs"}].map(({id:t,icon:a,title:n,isImage:r})=>e.jsx("button",{onClick:"faders"===t?void 0:()=>fe(t),className:"w-full aspect-square border-2 rounded-lg flex items-center justify-center p-2 transition-all duration-300 text-white relative "+(T===t?"bg-gradient-to-br from-[#00FFFF] to-[#0080FF] border-[#00FFFF] shadow-lg":"border-[#00FFFF] bg-gradient-to-br from-[#000000] to-[#1a1a1a] hover:from-[#00FFFF] hover:to-[#0080FF] hover:border-[#00FFFF] hover:shadow-lg"),disabled:"faders"===t,style:"faders"===t?{cursor:"not-allowed"}:{},onMouseEnter:e=>{const t=document.createElement("div");t.className="custom-tooltip",t.textContent=n,t.style.cssText=`\n            position: fixed;\n            left: ${e.clientX-20}px;\n            top: ${e.clientY-20}px;\n            transform: translateX(-100%);\n            background: #dc2626;\n            color: white;\n            padding: 12px 16px;\n            border-radius: 8px;\n            font-size: 14px;\n            font-weight: bold;\n            white-space: nowrap;\n            z-index: 999999;\n            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n            border: 2px solid #f87171;\n            pointer-events: none;\n          `,t.id="temp-tooltip",document.body.appendChild(t)},onMouseLeave:()=>{const e=document.getElementById("temp-tooltip");e&&e.remove()},children:r?e.jsx("img",{src:`textures/${a}`,alt:n,className:"w-full h-full mx-auto my-auto object-contain",style:{},onError:e=>{}}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"knobs"===t?"0 0 32 32":"faders"===t?"0 0 256 256":"0 0 24 24",className:"w-4/5 h-4/5 mx-auto my-auto fill-white text-white",fill:"#fff",children:e.jsx("path",{d:a})})},t)),e.jsx("input",{id:"sidebar-upload",type:"file",accept:"image/*,application/pdf",multiple:!0,style:{display:"none"},onChange:e=>{e.target.files&&Fe(Array.from(e.target.files))}}),e.jsx("button",{type:"button",onClick:()=>{var e;return null==(e=document.getElementById("sidebar-upload"))?void 0:e.click()},className:"w-full aspect-square border-2 rounded-lg flex items-center justify-center p-2 transition-all duration-300 text-white bg-gradient-to-br from-[#000000] to-[#1a1a1a] border-[#00FFFF] hover:from-[#00FFFF] hover:to-[#0080FF] hover:border-[#00FFFF] hover:shadow-lg",onMouseEnter:e=>{const t=document.createElement("div");t.className="custom-tooltip",t.textContent="Upload Custom Files",t.style.cssText=`\n          position: fixed;\n          left: ${e.clientX-20}px;\n          top: ${e.clientY-20}px;\n          transform: translateX(-100%);\n          background: #dc2626;\n          color: white;\n          padding: 12px 16px;\n          border-radius: 8px;\n          font-size: 14px;\n          font-weight: bold;\n          white-space: nowrap;\n          z-index: 999999;\n          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n          border: 2px solid #f87171;\n          pointer-events: none;\n        `,t.id="temp-tooltip",document.body.appendChild(t)},onMouseLeave:()=>{const e=document.getElementById("temp-tooltip");e&&e.remove()},children:e.jsx("svg",{width:"28",height:"28",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 16V4m0 0l-4 4m4-4l4 4M4 20h16",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),Ce.length>0&&e.jsxs("span",{className:"text-xs text-white mt-2",children:["Archivos: ",Ce.map(e=>e.name).join(", ")]})]})}),e.jsxs("div",{className:"flex-1 p-4 flex flex-col",children:[e.jsx("div",{className:"flex items-center pb-5 border-b border-gray-600 pl-0 "+("normal"===T?"justify-center items-center gap-0":"justify-center gap-2"),style:"normal"===T?{minHeight:"48px"}:{},children:"normal"===T?e.jsx("img",{src:"models/logo.png",alt:"Logo",className:"h-6 w-auto",style:{filter:"drop-shadow(0 0 8px #a259ff) drop-shadow(0 0 16px #0ff)"}}):e.jsx(e.Fragment,{children:e.jsx("img",{src:"models/logo.png",alt:"Logo",className:"h-8 w-auto",style:{filter:"drop-shadow(0 0 8px #a259ff) drop-shadow(0 0 16px #0ff)"}})})}),e.jsxs("div",{className:"mt-6 animate-fadeIn",children:[e.jsx("p",{className:"font-black text-sm tracking-wide uppercase m-0 mb-3 text-gray-200 text-left animate-fadeIn",children:(()=>{switch(T){case"chasis":return"CHOOSE THE CHASSIS COLOR";case"buttons":return"CUSTOMIZE THE BUTTONS";case"knobs":return"CUSTOMIZE THE KNOBS";default:return"CHOOSE A COLOR"}})()}),e.jsx("div",{className:"grid grid-cols-2 gap-x-0 gap-y-0 p-0 justify-items-end ml-auto animate-scaleIn",children:Object.entries((()=>{switch(T){case"chasis":return ae.chasis;case"buttons":return ae.buttons;case"knobs":return ae.knobs;default:return{}}})()).map(([t,a],n)=>e.jsx("div",{className:"w-10 h-10 rounded-full cursor-pointer border border-[#a259ff] shadow-[0_0_6px_1px_#a259ff55] transition-all duration-200 hover:scale-110 animate-fadeInUp",style:{backgroundColor:a.hex,animationDelay:50*n+"ms"},title:t,onClick:()=>ge(t,a)},t))})]})]})]}),"normal"===T&&e.jsx("button",{onClick:be,className:"fixed bottom-10 left-1/2 transform -translate-x-1/2 z-50 px-6 py-3 text-lg font-bold uppercase tracking-wide text-black bg-purple-400 border-none rounded cursor-pointer transition-all duration-200 shadow-lg hover:bg-yellow-200 hover:scale-105 hover:shadow-xl shadow-[0_0_8px_2px_#a259ff80,0_0_16px_4px_#0ff5]",children:"ADD TO CART"}),V&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:e.jsxs("div",{className:"relative bg-[#3a4060] rounded-2xl shadow-2xl border-2 border-[#a259ff] p-4 md:py-4 md:px-8 w-full max-w-4xl mx-4 animate-fade-in",children:[e.jsx("button",{onClick:()=>G(!1),className:"absolute top-3 right-3 text-gray-400 hover:text-pink-400 text-2xl font-bold",children:"×"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-purple-400 mb-4 text-center tracking-widest",children:"PAGO SEGURO - KNOBO"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center mb-4",children:[e.jsx("div",{className:"w-full max-w-[320px] md:max-w-[380px] aspect-[4/3] flex items-center justify-center ml-16 md:ml-24",children:K&&e.jsx("img",{src:K,alt:"Custom controller",className:"w-full h-full object-contain",style:{background:"none",boxShadow:"none",border:"none"}})}),e.jsxs("div",{className:"flex-1 mt-8 md:mt-0",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2 text-cyan-400",children:"Tu configuración:"}),e.jsxs("ul",{className:"text-base space-y-1",children:[e.jsxs("li",{children:[e.jsx("b",{children:"Chassis:"})," ",$.chasis]}),e.jsxs("li",{children:[e.jsx("b",{children:"Buttons:"})," ",Object.values($.buttons).join(", ")||"Default"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Knobs:"})," ",Object.values($.knobs).join(", ")||"Default"]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-cyan-400",children:"Select your currency:"}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx("button",{onClick:()=>we("USD"),className:"px-6 py-3 rounded-lg font-bold text-lg transition-all "+("USD"===ye?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-[0_0_12px_2px_#3b82f6]":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:"USD $100.00"}),e.jsx("button",{onClick:()=>we("COP"),className:"px-6 py-3 rounded-lg font-bold text-lg transition-all "+("COP"===ye?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-[0_0_12px_2px_#3b82f6]":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:"COP $400,000"})]}),e.jsxs("p",{className:"text-center text-sm text-gray-400 mt-2",children:["Selected price: ",ye," ",bt(ye).symbol,bt(ye).amount]})]}),e.jsxs("div",{className:"flex flex-col gap-4 mt-4",children:[e.jsx("div",{className:"w-full py-3 rounded-lg bg-gray-600 text-gray-400 font-bold text-lg text-center",children:"PayPal temporarily unavailable"}),e.jsxs("button",{onClick:()=>{const e="payu_checkout";if(!window.open("",e))return void alert("Please allow popups to continue with payment");const t=bt(ye),a=`${xt.API_KEY}~${xt.MERCHANT_ID}~${ve.referenceCode}~${t.amount}~${ye}`,n=z(a).toString(),r=document.createElement("form");r.method="POST",r.action=t.url,r.target=e;const o={merchantId:xt.MERCHANT_ID,accountId:t.accountId,description:`Knobo Configurator - ${ye} ${t.symbol}${t.amount}`,referenceCode:ve.referenceCode,amount:t.amount,currency:ye,buyerEmail:ve.buyerEmail,signature:n,test:"1",confirmationUrl:xt.CONFIRMATION_URL,responseUrl:xt.RESPONSE_URL,lng:t.language,extra1:"Knobo",extra2:$.chasis||"Custom",extra3:`Applied colors - Buttons: ${Object.keys($.buttons||{}).length}, Knobs: ${Object.keys($.knobs||{}).length}`,extra4:`Knobo Configurator - ${ye} ${t.symbol}${t.amount}`,payerCountry:"CO",payerCity:"Bogota",payerPhone:"+57-300-1234567",country:"CO",ipAddress:"8.8.4.4"};Object.entries(o).forEach(([e,t])=>{const a=document.createElement("input");a.type="hidden",a.name=e,a.value=t,r.appendChild(a)}),document.body.appendChild(r),r.submit(),document.body.removeChild(r)},className:"w-full py-3 rounded-lg bg-gradient-to-r from-green-400 to-cyan-400 text-white font-bold text-lg shadow-[0_0_12px_2px_#0ff580] hover:scale-105 transition-all mt-2",children:["Pay with PayU (",ye," ",bt(ye).symbol,bt(ye).amount,")"]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-6 text-center",children:"Your purchase is 100% safe and protected."})]})}),X&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:e.jsxs("div",{className:"relative bg-[#232846] rounded-2xl shadow-2xl border-2 border-[#a259ff] p-6 w-full max-w-2xl mx-4 animate-fade-in flex flex-col items-center",children:[e.jsx("button",{onClick:()=>q(!1),className:"absolute top-3 right-3 text-gray-400 hover:text-pink-400 text-2xl font-bold",children:"×"}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-purple-400 mb-4 text-center tracking-widest",children:"Cart"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center w-full",children:[e.jsx("div",{className:"w-full max-w-[220px] aspect-[4/3] flex items-center justify-center",children:K&&e.jsx("img",{src:K,alt:"Custom controller",className:"w-full h-full object-contain",style:{background:"none",boxShadow:"none",border:"none"}})}),e.jsxs("div",{className:"flex-1 mt-4 md:mt-0 w-full",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-cyan-400",children:"Your Product:"}),e.jsxs("ul",{className:"text-base space-y-1 mb-2",children:[e.jsxs("li",{children:[e.jsx("b",{children:"Chassis:"})," ",$.chasis]}),e.jsxs("li",{children:[e.jsx("b",{children:"Buttons:"})," ",Object.values($.buttons).join(", ")||"Default"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Knobs:"})," ",Object.values($.knobs).join(", ")||"Default"]})]}),e.jsxs("div",{className:"text-xl font-bold text-green-300 mb-2",children:["$",ve.amount," USD"]})]})]}),e.jsxs("div",{className:"flex flex-col gap-4 mt-6 w-full",children:[e.jsx(L,{style:{layout:"horizontal",color:"blue",shape:"rect",label:"paypal",height:48},createOrder:(e,t)=>t.order?t.order.create({intent:"CAPTURE",purchase_units:[{amount:{value:ve.amount||"185.00",currency_code:"USD"},description:"Custom MIDI controller"}]}):Promise.reject("PayPal actions.order no disponible"),onApprove:async(e,t)=>{var a;if(t&&t.order){const r=await t.order.capture(),o=(null==(a=null==r?void 0:r.payer)?void 0:a.email_address)||"";try{await fetch("http://localhost:4000/api/paypal-config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({colors:$,screenshot:K,paypalOrderId:e.orderID,buyerEmail:o})})}catch(n){alert("Error guardando configuración personalizada en backend: "+n)}alert("¡Pago realizado con PayPal!"),G(!1),q(!0)}},onError:e=>{alert("Error en el pago con PayPal: "+e)}}),e.jsxs("form",{action:"https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/",method:"post",target:"_blank",className:"w-full flex flex-col items-center",children:[e.jsx("input",{type:"hidden",name:"merchantId",value:"508029"}),e.jsx("input",{type:"hidden",name:"accountId",value:"512321"}),e.jsx("input",{type:"hidden",name:"description",value:"Custom MIDI controller"}),e.jsx("input",{type:"hidden",name:"referenceCode",value:ve.referenceCode}),e.jsx("input",{type:"hidden",name:"amount",value:ve.amount}),e.jsx("input",{type:"hidden",name:"currency",value:ve.currency}),e.jsx("input",{type:"hidden",name:"signature",value:ve.signature}),e.jsx("input",{type:"hidden",name:"test",value:"1"}),e.jsx("button",{type:"submit",className:"w-full py-3 rounded-lg bg-gradient-to-r from-green-400 to-cyan-400 text-white font-bold text-lg shadow-[0_0_12px_2px_#0ff580] hover:scale-105 transition-all mt-2",children:"Pagar con PayU"})]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-6 text-center",children:"Tu compra es 100% segura y protegida."})]})})]})]})},Tt=Object.freeze(Object.defineProperty({__proto__:null,default:Mt},Symbol.toStringTag,{value:"Module"})),At=({className:t="",style:a={}})=>{const[n,r]=k.useState(!1),[o]=k.useState(Date.now());return k.useEffect(()=>{const e=setTimeout(()=>{r(!0)},4100);return()=>clearTimeout(e)},[]),e.jsxs("div",{className:t,style:a,children:[e.jsx(Pt,{isVisible:!n}),e.jsx("div",{style:{width:"100%",height:"100%",opacity:n?1:0},children:e.jsx(Mt,{})})]})},Dt=Object.freeze(Object.defineProperty({__proto__:null,default:At},Symbol.toStringTag,{value:"Module"})),Bt=({isVisible:t,onComplete:a})=>{const[n,r]=k.useState(0),[o]=k.useState(Date.now()),[s,i]=k.useState(!1),[l,c]=k.useState(!1),d=k.useRef(null);return k.useEffect(()=>{if(t){const e=setInterval(()=>{const t=Date.now()-o,n=Math.min(t/4100*100,100);r(e=>Math.abs(e-n)>=1||n>=100?n:e),n>=100&&(clearInterval(e),d.current&&(d.current.pause(),d.current.currentTime=0),null==a||a())},100);return()=>clearInterval(e)}r(0)},[t,o]),k.useEffect(()=>{if(d.current&&t){const e=d.current;e.playbackRate=1,e.volume=0;const t=()=>{c(!0),e.play().catch(e=>{i(!0)})},a=e=>{i(!0)},n=()=>{},r=()=>{},o=()=>{},s=()=>{};return e.addEventListener("canplay",t),e.addEventListener("error",a),e.addEventListener("loadstart",n),e.addEventListener("loadeddata",r),e.addEventListener("waiting",o),e.addEventListener("playing",s),e.load(),()=>{e.removeEventListener("canplay",t),e.removeEventListener("error",a),e.removeEventListener("loadstart",n),e.removeEventListener("loadeddata",r),e.removeEventListener("waiting",o),e.removeEventListener("playing",s)}}if(d.current&&!t){const e=d.current;e.pause(),e.currentTime=0,c(!1),i(!1)}},[t]),e.jsx(S,{children:t&&e.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:9999,color:"white",fontFamily:"Arial, sans-serif",overflow:"hidden"},children:[e.jsxs("video",{ref:d,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:-2},muted:!0,loop:!0,playsInline:!0,preload:"metadata",crossOrigin:"anonymous",autoPlay:!0,children:[e.jsx("source",{src:"/CONFIGURADOR/videos/video.mp4",type:"video/mp4"}),e.jsx("img",{src:"/textures/carga.jpg",alt:"Loading background",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}})]}),e.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.3)",zIndex:-1}}),e.jsx(N.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},style:{fontSize:"32px",fontWeight:"bold",marginBottom:"20px",color:"#00FFFF",textShadow:"0 0 20px #00FFFF, 0 0 40px #00FFFF, 0 0 60px #00FFFF",position:"relative",zIndex:1},children:"MIXO"}),e.jsx(N.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8,ease:"easeOut"},style:{fontSize:"18px",fontWeight:"bold",marginBottom:"40px",color:"#FFFFFF",textShadow:"0 0 15px #FFFFFF, 0 0 30px #FFFFFF",position:"relative",zIndex:1},children:"Features: Mix controller with 8 assignable faders and LED indicators."}),e.jsx(N.div,{animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"},style:{width:"100px",height:"100px",border:"6px solid rgba(0, 255, 255, 0.3)",borderTop:"6px solid #00FFFF",borderRadius:"50%",marginBottom:"40px",boxShadow:"0 0 30px rgba(0, 255, 255, 0.8), 0 0 60px rgba(0, 255, 255, 0.4)",position:"relative",zIndex:1}}),e.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},style:{fontSize:"20px",fontWeight:"bold",textAlign:"center",marginBottom:"20px",color:"#00FFFF",textShadow:"0 0 15px #00FFFF, 0 0 30px #00FFFF",position:"relative",zIndex:1},children:["Cargando MIXO... ",Math.round(n),"%"]}),n>=100&&e.jsx(N.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.8},style:{fontSize:"18px",color:"#00FF80",fontWeight:"bold",marginBottom:"30px",textShadow:"0 0 15px #00FF80, 0 0 30px #00FF80",position:"relative",zIndex:1},children:"¡MIXO listo para configurar!"}),e.jsx(N.div,{style:{width:"400px",height:"8px",backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:"4px",overflow:"hidden",boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.3)",marginBottom:"40px",position:"relative",zIndex:1},children:e.jsx(N.div,{initial:{width:0},animate:{width:`${n}%`},transition:{duration:.1,ease:"linear"},style:{width:"100%",height:"100%",background:"linear-gradient(90deg, #00FFFF, #00CCFF, #00FFFF)",borderRadius:"4px",boxShadow:"0 0 20px rgba(0, 255, 255, 0.8), 0 0 40px rgba(0, 255, 255, 0.4)",backgroundSize:"200% 100%",animation:"shimmer 2s infinite"}})}),e.jsx(N.div,{style:{display:"flex",gap:"12px",marginTop:"20px",position:"relative",zIndex:1},children:[0,1,2].map(t=>e.jsx(N.div,{animate:{scale:[1,1.3,1],opacity:[.4,1,.4]},transition:{duration:2,repeat:1/0,delay:.3*t,ease:"easeInOut"},style:{width:"12px",height:"12px",backgroundColor:"#00FFFF",borderRadius:"50%",boxShadow:"0 0 15px rgba(0, 255, 255, 0.8), 0 0 30px rgba(0, 255, 255, 0.4)"}},t))}),e.jsx("style",{children:"\n            @keyframes shimmer {\n              0% { background-position: -200% 0; }\n              100% { background-position: 200% 0; }\n            }\n          "})]})})},$t=({onProductChange:t})=>{const[f,v]=k.useState(""),[j,C]=k.useState(""),F=k.useRef(null),E=k.useRef(null),S=k.useRef(null),N=k.useRef(null),I=k.useRef(null),L=k.useRef(null),P=k.useRef(null),[M,T]=k.useState("normal"),[A,D]=k.useState(null),[B,$]=k.useState(()=>{const e=localStorage.getItem("mixo_chosenColors");if(e)try{return JSON.parse(e)}catch(aa){}return{type:"configUpdate",chasis:"Gris",buttons:{},knobs:{},faders:{}}}),[U,H]=k.useState({chasis:[],buttons:[],knobs:[],faders:[]}),[W,V]=k.useState(!1),[G,K]=k.useState(null),Y=k.useRef(M),[X,q]=k.useState([]),[J,Z]=k.useState([]),[Q,ee]=k.useState([]),[te,ae]=k.useState(!1),[ne,re]=k.useState(!1),[oe,se]=k.useState(!1),[ie,le]=k.useState({x:0,y:0}),ce={chasis:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},buttons:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},knobs:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},faders:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}}},de={normal:{pos:new h(2,1,-.1),target:new h(0,-.5,-.1)},top:{pos:new h(1,1.95,-.4),target:new h(-.35,-1.4,-.4)}},ue=k.useCallback(()=>{var e,t,a;const n=null==(e=N.current)?void 0:e.position.clone(),r=null==(t=I.current)?void 0:t.target.clone(),o=null==(a=N.current)?void 0:a.fov,s=de.normal.pos.clone(),i=de.normal.target.clone();N.current.position.copy(s),N.current.fov=35,N.current.updateProjectionMatrix(),I.current&&(I.current.target.copy(i),I.current.update()),setTimeout(()=>{S.current.render(E.current,N.current);const e=S.current.domElement.toDataURL("image/png");K(e),N.current.position.copy(n),N.current.fov=o,N.current.updateProjectionMatrix(),I.current&&r&&(I.current.target.copy(r),I.current.update()),V(!0)},50)},[S,E,N,I,de,K,V]),he=k.useRef(null),me=k.useRef(null);k.useEffect(()=>{localStorage.setItem("mixo_currentView",M)},[M]),k.useEffect(()=>{localStorage.setItem("mixo_chosenColors",JSON.stringify(B))},[B]),k.useEffect(()=>{V(!1)},[]),k.useEffect(()=>{},[W]);const[pe,xe]=k.useState(null);k.useEffect(()=>{(new n).load("public/textures/blackhole.jpg.avif",e=>{e.mapping=r,xe(e)})},[]);const fe=k.useCallback((e,t)=>{const a=new o(16777215,.9);e.add(a);const n=new s(16777215,1.2);n.position.set(5,4,-1),n.castShadow=!0,e.add(n);const r=new s(10079487,1);r.position.set(-8,3,-9),e.add(r);const l=new s(10079487,1);l.position.set(-8,3,15),e.add(l);const c=new i(16777215,.7,.5);c.position.set(0,5,5),e.add(c);const d=new s(16777215,1.2);d.position.set(-5,30,0),d.castShadow=!0,e.add(d)},[]),ge=k.useCallback(e=>{const t=(new u).setFromObject(e),a=t.getSize(new h),n=t.getCenter(new h),r=1.8/Math.max(a.x,a.y,a.z);e.scale.set(r,r,r),e.position.copy(n).multiplyScalar(-r),e.position.y-=a.y/2*r},[]),be=k.useCallback(e=>{const t={chasis:[],buttons:[],knobs:[],faders:[]},a={type:"configUpdate",chasis:"Gris",buttons:{},knobs:{},faders:{}};e.traverse(e=>{var n;if(!(e instanceof l))return;e.castShadow=!0,e.receiveShadow=!0;const r="string"==typeof e.name?e.name.toLowerCase():"";if((r.includes("logo")||r.includes("mixo")||r.includes("knobo02")||r.includes("knobo-02")||r.includes("crearttech")||r.includes("custom midi"))&&e.material&&"map"in e.material&&e.material.map&&(e.material.transparent=!0,e.material.alphaTest=.9),r.includes("cubechasis"))e.material=new c({color:ce.chasis.Gris.hex,metalness:.8,roughness:.35,clearcoat:.85,clearcoatRoughness:.1}),t.chasis.push(e),a.chasis="Gris";else if(r.includes("boton")){const n="Amarillo";e.material=new c({color:ce.buttons[n].hex,metalness:0,roughness:0,clearcoat:1,clearcoatRoughness:0,reflectivity:1,transmission:0,thickness:.3,ior:1.5,attenuationDistance:.5,attenuationColor:16776960,transparent:!1,opacity:1,emissive:16776960,emissiveIntensity:3}),t.buttons.push(e),a.buttons[e.name]=n}else if(r.includes("aro"))e.material=new c({color:0,metalness:0,roughness:.2,clearcoat:.8,clearcoatRoughness:.1,reflectivity:.5,transmission:.3,thickness:.5,ior:1.4,attenuationDistance:1,attenuationColor:16777215,transparent:!0,opacity:.7}),t.buttons.push(e),a.buttons[e.name]="Negro";else if(r.startsWith("knob1_")||r.startsWith("knob2_")||r.startsWith("knob3_")||r.startsWith("knob4_")){if(null==(n=e.material)?void 0:n.color){const n=e.material;if((n.color.r+n.color.g+n.color.b)/3<.5){const n="Negro";e.material=new d({color:ce.knobs[n].hex,metalness:0,roughness:1}),t.knobs.push(e),a.knobs[e.name]=n}else e.material=new d({color:16777215})}}else if(r.includes("fader"))if("fader1_1"===r||"fader2_1"===r||"fader3_1"===r||"fader4_1"===r){const n="Negro";e.material=new d({color:ce.knobs[n].hex,metalness:0,roughness:1}),t.faders.push(e),a.faders[e.name]=n}else if(e.material){const n=e.material;if(n.color){if((n.color.r+n.color.g+n.color.b)/3<.8){const r="Negro";n.color.setHex(parseInt(ce.knobs[r].hex.replace("#",""),16)),t.faders.push(e),a.faders[e.name]=r}}}}),H(t),$(a)},[pe]),ye=k.useCallback(e=>{if(e.material instanceof c){const t=e.material,a=B.buttons[e.name];if(a&&ce.buttons[a]){const e=ce.buttons[a].hex;t.emissive.setHex(parseInt(e.replace("#",""),16)),t.emissiveIntensity=3}}},[B,ce]),we=k.useCallback(async()=>{try{const{GLTFLoader:e}=await a(async()=>{const{GLTFLoader:e}=await import("./GLTFLoader-L0pBLRUW.js");return{GLTFLoader:e}},__vite__mapDeps([7,1,2]));(new e).load("./models/mixo.glb",e=>{var t;const a=e.scene;L.current=a,be(a),ge(a),null==(t=E.current)||t.add(a),P.current||(P.current=a.position.clone());a.traverse(e=>{e.isMesh&&"string"==typeof e.name&&e.name.toLowerCase().includes("aro")&&e.material&&"color"in e.material&&e.material.color.setHex(1842204),e.isMesh&&"string"==typeof e.name&&e.name.toLowerCase().includes("aro")&&(e.material=e.material.clone())})},void 0,e=>{})}catch(e){}},[be,ge]),ve=k.useCallback((e,t=0)=>{var a;if(e&&(null==(a=e.material)?void 0:a.emissive)){const a=e.material;if(e.name.toLowerCase().includes("boton")&&0===t)return void ye(e);a.emissive.setHex(t),e.name.toLowerCase().includes("boton")?a.emissiveIntensity=3:e.name.toLowerCase().includes("aro")&&(a.emissiveIntensity=.3,a.opacity=.8)}},[ye]),je=k.useCallback(e=>{var t;if(!E.current||!N.current)return;if("chasis"===M)return D(null),q([]),Z([]),void ee([]);const a=null==(t=F.current)?void 0:t.getBoundingClientRect();if(!a)return;const n=new y;n.x=(e.clientX-a.left)/a.width*2-1,n.y=-(e.clientY-a.top)/a.height*2+1;const r=new b;r.setFromCamera(n,N.current);let o=[];if("buttons"===M?o=U.buttons:"knobs"===M?o=U.knobs:"faders"===M?o=U.faders:"normal"===M&&(o=U.buttons),0===o.length)return;const s=r.intersectObjects(o,!1);if("buttons"===M&&U.buttons.forEach(e=>ve(e,0)),A&&"normal"!==M&&ve(A,0),s.length>0){const t=s[0].object,a=t.name.toLowerCase();if("normal"===M)return;a.includes("boton")||a.includes("aro")?(Z([]),ee([]),e.shiftKey?0===X.length&&A&&A!==t?(q([A,t]),D(null),ve(A,4473924),ve(t,4473924)):(D(null),q(e=>{if(0===e.length)return ve(t,4473924),[t];let a;return e.includes(t)?(a=e.filter(e=>e!==t),ve(t,0)):(a=[...e,t],ve(t,4473924)),a.forEach(e=>ve(e,4473924)),a})):(q([t]),D(t),ve(t,4473924))):a.startsWith("knob1_")||a.startsWith("knob2_")||a.startsWith("knob3_")||a.startsWith("knob4_")?(q([]),ee([]),e.shiftKey?0===J.length&&A&&A!==t?(Z([A,t]),D(null),ve(A,4473924),ve(t,4473924)):(D(null),Z(e=>{if(0===e.length)return ve(t,4473924),[t];let a;return e.includes(t)?(a=e.filter(e=>e!==t),ve(t,0)):(a=[...e,t],ve(t,4473924)),a.forEach(e=>ve(e,4473924)),a})):(Z([t]),D(t),ve(t,4473924))):a.startsWith("fader1")||a.startsWith("fader2")||a.startsWith("fader3")||a.startsWith("fader4")?(q([]),Z([]),e.shiftKey?0===Q.length&&A&&A!==t?(ee([A,t]),D(null),ve(A,4473924),ve(t,4473924)):(D(null),ee(e=>{if(0===e.length)return ve(t,4473924),[t];let a;return e.includes(t)?(a=e.filter(e=>e!==t),ve(t,0)):(a=[...e,t],ve(t,4473924)),a.forEach(e=>ve(e,4473924)),a})):(ee([t]),D(t),ve(t,4473924))):a.includes("cubechasis")&&(q([]),Z([]),ee([]),D(t))}},[M,U,A,ve,X,J,Q]),Ce=k.useCallback((e,t)=>{if("chasis"===M)return U.chasis.forEach(e=>{e.material.color.set(t.hex)}),void $(t=>({...t,chasis:e}));if("buttons"===M&&X.length>0){const a={...B,buttons:{...B.buttons}};return X.forEach(n=>{const r=n.material;r.color.set(t.hex),r.emissive.setHex(parseInt(t.hex.replace("#",""),16)),a.buttons[n.name]=e;const o=n.name.replace("boton","aro"),s=U.buttons.find(e=>e.name===o);if(s&&s.material instanceof c){const n=s.material;n.color.setHex(parseInt(t.hex.replace("#",""),16)),n.attenuationColor.setHex(parseInt(t.hex.replace("#",""),16)),a.buttons[o]=e}}),$(a),void q([])}if("knobs"===M&&J.length>0){const a={...B,knobs:{...B.knobs}};return J.forEach(n=>{n.material.color.set(t.hex),a.knobs[n.name]=e}),$(a),void Z([])}if("faders"===M&&Q.length>0){const a={...B,faders:{...B.faders}};return Q.forEach(n=>{n.material=new d({color:t.hex,metalness:0,roughness:1}),a.faders[n.name]=e}),$(a),void ee([])}if(!A)return void O.fire({title:"Selecciona una parte",text:"Haz clic en una pieza del controlador para aplicar el color.",imageUrl:"models/logo.png",imageWidth:120,imageHeight:120,background:"#232846",color:"#fff",confirmButtonColor:"#a259ff",confirmButtonText:"Entendido"});const a=A.name.toLowerCase(),n=new w(t.hex);if(a.includes("cubechasis"))$(t=>({...t,chasis:e})),A.material instanceof d&&(A.material.color=n);else if(a.includes("boton")){if($(t=>({...t,buttons:{...t.buttons,[A.name]:e}})),A.material instanceof c){const a=A.material;a.color=n,a.emissive.setHex(parseInt(t.hex.replace("#",""),16));const r=A.name.replace("boton","aro"),o=U.buttons.find(e=>e.name===r);if(o&&o.material instanceof c){const a=o.material;a.color.setHex(parseInt(t.hex.replace("#",""),16)),a.attenuationColor.setHex(parseInt(t.hex.replace("#",""),16)),$(t=>({...t,buttons:{...t.buttons,[r]:e}}))}}}else a.startsWith("knob1_")||a.startsWith("knob2_")||a.startsWith("knob3_")||a.startsWith("knob4_")?($(t=>({...t,knobs:{...t.knobs,[A.name]:e}})),A.material&&"color"in A.material&&(A.material.color=n,A.material.metalness=0,A.material.roughness=1)):(a.startsWith("fader1")||a.startsWith("fader2")||a.startsWith("fader3")||a.startsWith("fader4"))&&($(t=>({...t,faders:{...t.faders,[A.name]:e}})),A.material=new d({color:t.hex,metalness:0,roughness:1}))},[A,X,J,Q,B,U,M,ve]),Fe=k.useCallback(e=>{if(T(e),A&&ve(A,0),X.forEach(e=>ve(e,0)),J.forEach(e=>ve(e,0)),Q.forEach(e=>ve(e,0)),"chasis"===e&&U.chasis.length>0?D(U.chasis[0]):D(null),!N.current||!I.current)return;let t,a;"normal"===e?(t=de.normal,a=!0):(t=de.top,a=!1),I.current.enabled=a,_.to(N.current.position,{duration:1.2,ease:"power3.inOut",...t.pos}),_.to(I.current.target,{duration:1.2,ease:"power3.inOut",...t.target,onUpdate:()=>I.current.update()})},[U,A,ve,X,J,Q]);k.useEffect(()=>{Y.current=M},[M]),k.useEffect(()=>{setTimeout(()=>{N.current&&I.current&&(he.current=N.current.position.clone(),me.current=I.current.target.clone())},100)},[]),k.useEffect(()=>{if(!F.current)return;const e=new m;e.background=null,E.current=e;const t=new p({antialias:!0,alpha:!0,preserveDrawingBuffer:!0});t.setSize(F.current.clientWidth,F.current.clientHeight),t.setPixelRatio(Math.min(window.devicePixelRatio,2)),t.outputColorSpace=x,t.shadowMap.enabled=!0,S.current=t,F.current.appendChild(t.domElement);const n=new g(45,F.current.clientWidth/F.current.clientHeight,.1,200);let r;n.position.copy(de.normal.pos),N.current=n,a(async()=>{const{OrbitControls:e}=await import("./OrbitControls-DFclDx1A.js");return{OrbitControls:e}},__vite__mapDeps([8,1,2])).then(({OrbitControls:e})=>{const a=new e(n,t.domElement);a.target.copy(de.normal.target),a.enableDamping=!0,I.current=a}),fe(e,t),we();const o=()=>{r=requestAnimationFrame(o),I.current&&I.current.update(),t.render(e,n)};return o(),()=>{cancelAnimationFrame(r),F.current&&t.domElement&&F.current.removeChild(t.domElement),t.dispose()}},[fe,we]),k.useEffect(()=>{if(L.current&&U.chasis.length>0){const e=ce.chasis[B.chasis];e&&U.chasis.forEach(t=>{t.material instanceof d&&(t.material.color=new w(e.hex))}),Object.entries(B.buttons).forEach(([e,t])=>{const a=U.buttons.find(t=>t.name===e);if(a&&ce.buttons[t]&&a.material instanceof c){const e=a.material;e.color=new w(ce.buttons[t].hex),a.name.toLowerCase().includes("boton")?(e.emissive.setHex(parseInt(ce.buttons[t].hex.replace("#",""),16)),e.attenuationColor.setHex(parseInt(ce.buttons[t].hex.replace("#",""),16))):a.name.toLowerCase().includes("aro")&&e.attenuationColor.setHex(parseInt(ce.buttons[t].hex.replace("#",""),16))}}),Object.entries(B.faders).forEach(([e,t])=>{const a=U.faders.find(t=>t.name===e);a&&ce.faders[t]&&a.material instanceof d&&(a.material.color=new w(ce.faders[t].hex))})}},[B,ce,U]);const[ke,Ee]=k.useState("USD"),[Se,Ne]=k.useState({referenceCode:`mixo_${Date.now()}`,amount:"200.00",currency:"USD",signature:"",description:"Mixo Configurator",buyerEmail:"customer@email.com"});k.useEffect(()=>{const e=yt(ke);Ne(t=>({...t,amount:e.amount,currency:ke,description:`Mixo Configurator - ${ke} ${e.symbol}${e.amount}`}))},[ke]),k.useEffect(()=>{if(W){const e=`mixo-${Date.now()}`;Ne(t=>({...t,referenceCode:e}))}},[W]);const[Oe,_e]=k.useState([]);return e.jsxs(R,{options:{clientId:"test",currency:"USD"},children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:-1,backgroundImage:"url(/textures/fondo.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"}}),e.jsxs("div",{className:"w-full h-screen text-gray-200 overflow-hidden relative",style:{background:"transparent"},children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:0,pointerEvents:"none",background:"transparent"}}),e.jsx("div",{style:{position:"fixed",top:16,left:6,zIndex:51,display:"flex",alignItems:"center",gap:"12px"},children:e.jsx("button",{onClick:()=>window.location.href="https://www.crearttech.com/",className:"relative px-5 py-2 rounded-full font-bold text-sm uppercase tracking-wider text-white transition-all duration-300 hover:-translate-y-0.5",style:{background:"linear-gradient(90deg, rgba(0,255,255,0.18) 0%, rgba(122,0,255,0.18) 50%, rgba(255,0,255,0.18) 100%)",border:"1px solid rgba(0, 255, 255, 0.55)"},children:e.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:[e.jsx("path",{d:"M3 10.5L12 3l9 7.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M5 9.5V21h14V9.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("span",{children:"Home"})]})})}),e.jsx("div",{className:"absolute top-6 left-1/2 transform -translate-x-1/2 z-10 flex items-center gap-3",children:e.jsx("h1",{className:"text-2xl font-bold leading-none m-0",style:{fontFamily:"Gotham Black, Arial, sans-serif",color:"#fff",letterSpacing:"0.04em"},children:"MIXO"})}),e.jsx("main",{className:"flex w-full h-full",style:{minHeight:"100vh",height:"100vh",position:"relative",zIndex:1,overflow:"hidden",background:"transparent"},children:e.jsxs("div",{className:"flex-grow h-full",style:{position:"relative",zIndex:1,background:"transparent"},children:[e.jsx("div",{ref:F,className:"w-full h-full transition-all duration-300",onClick:je,style:{position:"relative",zIndex:1}}),"normal"===M&&e.jsx("button",{onClick:ue,className:"fixed bottom-10 left-1/2 transform -translate-x-1/2 z-50 px-6 py-3 text-lg font-bold uppercase tracking-wide text-black bg-purple-400 border-none rounded cursor-pointer transition-all duration-200 shadow-lg hover:bg-yellow-200 hover:scale-105 hover:shadow-xl",children:"ADD TO CART"})]})}),e.jsxs("div",{className:"fixed top-0 right-0 h-screen border-l border-gray-700 shadow-2xl transition-all duration-400 flex overflow-hidden z-10 "+("normal"===M?"w-28":"w-[320px]"),style:{backgroundColor:"rgba(255, 255, 0, 0.8)",background:"transparent",boxShadow:"0 0 16px 2px rgba(0, 255, 255, 0.4), -6px 0 16px 0 rgba(0, 255, 255, 0.3), inset 0 0 10px rgba(0,0,0,0.8)",borderLeft:"2px solid rgba(0, 255, 255, 0.8)",backdropFilter:"blur(10px)",zIndex:10},children:[e.jsx("div",{className:"w-28 p-4 flex-shrink-0",style:{paddingTop:"100px"},children:e.jsxs("div",{className:"flex flex-col gap-1.5",children:[[{id:"normal",icon:"M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5M12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17M12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z",title:"Full View - See complete MIDI controller"},{id:"chasis",icon:"mixo.png",title:"Customize Chassis - Change main body color",isImage:!0},{id:"buttons",icon:"M12 1.999c5.524 0 10.002 4.478 10.002 10.002c0 5.523-4.478 10.001-10.002 10.001S1.998 17.524 1.998 12.001C1.998 6.477 6.476 1.999 12 1.999m0 1.5a8.502 8.502 0 1 0 0 17.003A8.502 8.502 0 0 0 12 3.5M11.996 6a5.998 5.998 0 1 1 0 11.996a5.998 5.998 0 0 1 0-11.996",title:"Customize Buttons - Change trigger pad colors"},{id:"knobs",icon:"M9.42 4.074a.56.56 0 0 0-.56.56v.93c0 .308.252.56.56.56s.56-.252.56-.56v-.93a.56.56 0 0 0-.56-.56M11.554 8.8a.5.5 0 0 1 0 .707l-1.78 1.78a.5.5 0 1 1-.708-.707l1.78-1.78a.5.5 0 0 1 .708 0 M9.42 15.444c-1.16 0-2.32-.44-3.2-1.32a4.527 4.527 0 0 1 0-6.39a4.527 4.527 0 0 1 6.39 0a4.527 4.527 0 0 1 0 6.39c-.88.88-2.03 1.32-3.19 1.32m0-1.1a3.41 3.41 0 1 0 0-6.82a3.41 3.41 0 0 0 0 6.82M6.757 5.2a.56.56 0 1 0-.965.567l.465.809l.005.006a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.075a.566.566 0 0 0 .205-.753zm5.315.012a.55.55 0 0 1 .761-.206c.277.152.36.5.203.764l-.458.797a.56.56 0 0 1-.478.277a.564.564 0 0 1-.487-.834zm7.598 5.722a.5.5 0 0 1 .5-.5h2.52a.5.5 0 1 1 0 1h-2.52a.5.5 0 0 1-.5-.5 M22.69 15.454c2.49 0 4.52-2.03 4.52-4.52s-2.03-4.52-4.52-4.52s-4.52 2.03-4.52 4.52s2.03 4.52 4.52 4.52m0-1.11a3.41 3.41 0 1 1 0-6.82a3.41 3.41 0 0 1 0 6.82m-.56-9.7c0-.308.252-.56.56-.56s.56.252.56.56v.945a.566.566 0 0 1-.56.535a.56.56 0 0 1-.56-.56zm-2.103.566a.557.557 0 0 0-.763-.202a.566.566 0 0 0-.204.753l.468.815l.004.006a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.075a.566.566 0 0 0 .205-.753zm6.086-.204a.55.55 0 0 0-.761.206l-.458.795a.55.55 0 0 0 .194.759a.5.5 0 0 0 .282.077a.6.6 0 0 0 .478-.261l.005-.007l.463-.805a.55.55 0 0 0-.203-.764 M11.93 22.636H9.42a.5.5 0 0 0 0 1h2.51a.5.5 0 1 0 0-1 M4.9 23.136c0 2.49 2.03 4.52 4.52 4.52s4.52-2.03 4.52-4.52s-2.03-4.52-4.52-4.52s-4.52 2.03-4.52 4.52m7.93 0a3.41 3.41 0 1 1-6.82 0a3.41 3.41 0 0 1 6.82 0m-3.41-6.86a.56.56 0 0 0-.56.56v.93c0 .308.252.56.56.56s.56-.252.56-.56v-.93a.56.56 0 0 0-.56-.56m-3.418.93a.566.566 0 0 1 .755.206l.464.807c.137.258.06.6-.205.753a.53.53 0 0 1-.276.074a.58.58 0 0 1-.478-.261l-.005-.007l-.468-.814a.566.566 0 0 1 .207-.755zm6.08.209a.55.55 0 0 1 .761-.206c.277.151.36.499.203.764l-.462.802a.567.567 0 0 1-.766.194a.55.55 0 0 1-.194-.76zm8.475 3.588a.5.5 0 0 1 .707 0l1.78 1.78a.5.5 0 0 1-.707.707l-1.78-1.78a.5.5 0 0 1 0-.707 M22.69 27.656c-1.16 0-2.32-.44-3.2-1.32a4.527 4.527 0 0 1 0-6.39a4.527 4.527 0 0 1 6.39 0a4.527 4.527 0 0 1 0 6.39c-.88.88-2.04 1.32-3.19 1.32m0-1.11a3.41 3.41 0 1 0 0-6.82a3.41 3.41 0 0 0 0 6.82 M22.13 16.836c0-.308.252-.56.56-.56s.56.252.56.56v.945a.57.57 0 0 1-.56.545a.56.56 0 0 1-.56-.56zm-2.103.576a.566.566 0 0 0-.755-.206l-.006.003a.565.565 0 0 0-.206.755l.468.814l.004.007a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.074a.566.566 0 0 0 .205-.753z",title:"Customize Knobs - Change rotary control colors"},{id:"faders",icon:"fader.png",isImage:!0,title:"Customize Faders - Change slider control colors"}].map(({id:t,icon:a,title:n,isImage:r})=>e.jsx("button",{onClick:()=>Fe(t),className:"w-full aspect-square border-2 rounded-lg flex items-center justify-center p-2 transition-all duration-300 text-white relative "+(M===t?"bg-gradient-to-br from-[#00FFFF] to-[#0080FF] border-[#00FFFF] shadow-lg":"border-[#00FFFF] bg-gradient-to-br from-[#000000] to-[#1a1a1a] hover:from-[#00FFFF] hover:to-[#0080FF] hover:border-[#00FFFF] hover:shadow-lg"),onMouseEnter:e=>{const t=document.createElement("div");t.className="custom-tooltip",t.textContent=n,t.style.cssText=`\n                      position: fixed;\n                      left: ${e.clientX-20}px;\n                      top: ${e.clientY-20}px;\n                      transform: translateX(-100%);\n                      background: #dc2626;\n                      color: white;\n                      padding: 12px 16px;\n                      border-radius: 8px;\n                      font-size: 14px;\n                      font-weight: bold;\n                      white-space: nowrap;\n                      z-index: 999999;\n                      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n                      border: 2px solid #f87171;\n                      pointer-events: none;\n                    `,t.id="temp-tooltip",document.body.appendChild(t)},onMouseLeave:()=>{const e=document.getElementById("temp-tooltip");e&&e.remove()},children:r?e.jsx("img",{src:`textures/${a}`,alt:n,className:"w-full h-full mx-auto my-auto object-contain",style:{filter:"faders"===t?"brightness(1.5) contrast(1.3) saturate(1.2) drop-shadow(0 0 6px rgba(0, 255, 255, 0.5))":"none",backgroundColor:"faders"===t?"rgba(0, 0, 0, 0.1)":"transparent"},onError:e=>{}}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"chasis"===t||"knobs"===t?"0 0 32 32":"0 0 24 24",className:"w-4/5 h-4/5 mx-auto my-auto fill-white text-white",fill:"#fff",children:e.jsx("path",{d:a})})},t)),e.jsx("input",{id:"sidebar-upload",type:"file",accept:"image/*,application/pdf",multiple:!0,style:{display:"none"},onChange:e=>{e.target.files&&_e(Array.from(e.target.files))}}),e.jsx("button",{type:"button",onClick:()=>{var e;return null==(e=document.getElementById("sidebar-upload"))?void 0:e.click()},className:"w-full aspect-square border-2 rounded-lg flex items-center justify-center p-2 transition-all duration-300 text-white bg-gradient-to-br from-[#000000] to-[#1a1a1a] border-[#00FFFF] hover:from-[#00FFFF] hover:to-[#0080FF] hover:border-[#00FFFF] hover:shadow-lg",onMouseEnter:e=>{const t=document.createElement("div");t.className="custom-tooltip",t.textContent="Upload Custom Files",t.style.cssText=`\n                    position: fixed;\n                    left: ${e.clientX-20}px;\n                    top: ${e.clientY-20}px;\n                    transform: translateX(-100%);\n                    background: #dc2626;\n                    color: white;\n                    padding: 12px 16px;\n                    border-radius: 8px;\n                    font-size: 14px;\n                    font-weight: bold;\n                    white-space: nowrap;\n                    z-index: 999999;\n                    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n                    border: 2px solid #f87171;\n                    pointer-events: none;\n                  `,t.id="temp-tooltip",document.body.appendChild(t)},onMouseLeave:()=>{const e=document.getElementById("temp-tooltip");e&&e.remove()},children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"w-4/5 h-4/5 fill-white",children:e.jsx("path",{d:"M12 2C13.1 2 14 2.9 14 4V6H16C17.1 6 18 6.9 18 8V19C18 20.1 17.1 21 16 21H8C6.9 21 6 20.1 6 19V8C6 6.9 6.9 6 8 6H10V4C10 2.9 10.9 2 12 2M12 4V6H12.5V4H12M8 8V19H16V8H8M10 10H14V12H10V10M10 14H14V16H10V14Z"})})})]})}),e.jsxs("div",{className:"flex-1 p-4 flex flex-col",children:[e.jsx("div",{className:"flex items-center pb-5 border-b border-gray-600 pl-0 "+("normal"===M?"justify-center items-center gap-0":"justify-center gap-2"),style:"normal"===M?{minHeight:"48px"}:{},children:"normal"===M?e.jsx("img",{src:"models/logo.png",alt:"Logo",className:"h-6 w-auto",style:{filter:"drop-shadow(0 0 8px #a259ff) drop-shadow(0 0 16px #0ff)"}}):e.jsx("img",{src:"models/logo.png",alt:"Logo",className:"h-8 w-auto",style:{filter:"drop-shadow(0 0 8px #a259ff) drop-shadow(0 0 16px #0ff)"}})}),e.jsxs("div",{className:"mt-6 animate-fadeIn",children:[e.jsx("p",{className:"font-black text-sm tracking-wide uppercase m-0 mb-8 text-gray-200 text-left animate-fadeIn",children:(()=>{switch(M){case"chasis":return"CHOOSE THE CHASSIS COLOR";case"buttons":return"CUSTOMIZE THE BUTTONS";case"knobs":return"CUSTOMIZE THE KNOBS";case"faders":return"CUSTOMIZE THE FADERS";default:return"CHOOSE A COLOR"}})()}),e.jsx("div",{className:"grid grid-cols-2 gap-1 p-1 rounded overflow-x-auto animate-scaleIn",children:Object.entries((()=>{switch(M){case"chasis":return ce.chasis;case"buttons":return ce.buttons;case"knobs":return ce.knobs;case"faders":return ce.faders;default:return{}}})()).map(([t,a],n)=>e.jsx("div",{className:"w-10 h-10 rounded-full cursor-pointer border-2 border-[#a259ff] shadow-[0_0_6px_1px_#a259ff55] transition-all duration-200 shadow-inner hover:scale-110 animate-fadeInUp",style:{backgroundColor:a.hex,animationDelay:50*n+"ms"},title:t,onClick:()=>Ce(t,a)},t))})]}),(X.length>0||J.length>0||Q.length>0)&&e.jsxs("div",{className:"mb-6 p-4 bg-gray-800 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-semibold text-white mb-2",children:["Selección múltiple (",X.length+J.length+Q.length," elementos)"]}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Haz clic en un color para aplicarlo a todos los elementos seleccionados"})]})]})]}),te&&e.jsxs("div",{className:"fixed bg-black bg-opacity-90 text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap z-[9999] border border-[#00FFFF] shadow-lg pointer-events-none",style:{left:ie.x-10,top:ie.y-50,transform:"translateX(-100%)"},children:["Cambia el color de tu chasis",e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-black border-t-opacity-90"})]}),ne&&e.jsxs("div",{className:"fixed bg-black bg-opacity-90 text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap z-[9999] border border-[#00FFFF] shadow-lg pointer-events-none",style:{left:ie.x-10,top:ie.y-50,transform:"translateX(-100%)"},children:["Cambia el color de tus knobs",e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-black border-t-opacity-90"})]}),oe&&e.jsxs("div",{className:"fixed bg-black bg-opacity-90 text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap z-[9999] border border-[#00FFFF] shadow-lg pointer-events-none",style:{left:ie.x-10,top:ie.y-50,transform:"translateX(-100%)"},children:["Cambia el color de tus faders",e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-black border-t-opacity-90"})]}),W&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:e.jsxs("div",{className:"relative bg-[#3a4060] rounded-2xl shadow-2xl border-2 border-[#a259ff] p-4 md:py-4 md:px-8 w-full max-w-4xl mx-4 animate-fade-in",children:[e.jsx("button",{onClick:()=>V(!1),className:"absolute top-3 right-3 text-gray-400 hover:text-pink-400 text-2xl font-bold",children:"×"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-purple-400 mb-4 text-center tracking-widest",children:"PAGO SEGURO - MIXO"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center mb-4",children:[e.jsx("div",{className:"w-full max-w-[320px] md:max-w-[380px] aspect-[4/3] flex items-center justify-center ml-16 md:ml-24",children:G&&e.jsx("img",{src:G,alt:"Custom controller",className:"w-full h-full object-contain",style:{background:"none",boxShadow:"none",border:"none"}})}),e.jsxs("div",{className:"flex-1 mt-8 md:mt-0",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2 text-cyan-400",children:"Tu configuración:"}),e.jsxs("ul",{className:"text-base space-y-1",children:[e.jsxs("li",{children:[e.jsx("b",{children:"Chasis:"})," ",B.chasis]}),e.jsxs("li",{children:[e.jsx("b",{children:"Buttons:"})," ",Object.values(B.buttons).join(", ")||"Default"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Knobs:"})," ",Object.values(B.knobs).join(", ")||"Default"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Faders:"})," ",Object.values(B.faders).join(", ")||"Default"]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-cyan-400",children:"Select your currency:"}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx("button",{onClick:()=>Ee("USD"),className:"px-6 py-3 rounded-lg font-bold text-lg transition-all "+("USD"===ke?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-[0_0_12px_2px_#3b82f6]":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:"USD $200.00"}),e.jsx("button",{onClick:()=>Ee("COP"),className:"px-6 py-3 rounded-lg font-bold text-lg transition-all "+("COP"===ke?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-[0_0_12px_2px_#3b82f6]":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:"COP $800,000"})]}),e.jsxs("p",{className:"text-center text-sm text-gray-400 mt-2",children:["Selected price: ",ke," ",yt(ke).symbol,yt(ke).amount]})]}),e.jsxs("div",{className:"flex flex-col gap-4 mt-4",children:[e.jsx("div",{className:"w-full py-3 rounded-lg bg-gray-600 text-gray-400 font-bold text-lg text-center",children:"PayPal temporarily unavailable"}),e.jsxs("button",{onClick:()=>{const e="payu_checkout";if(!window.open("",e))return void alert("Please allow popups to continue with payment");const t=yt(ke),a=`${xt.API_KEY}~${xt.MERCHANT_ID}~${Se.referenceCode}~${t.amount}~${ke}`,n=z(a).toString(),r=document.createElement("form");r.method="POST",r.action=t.url,r.target=e;const o={merchantId:xt.MERCHANT_ID,accountId:t.accountId,description:`Mixo Configurator - ${ke} ${t.symbol}${t.amount}`,referenceCode:Se.referenceCode,amount:t.amount,currency:ke,buyerEmail:Se.buyerEmail,signature:n,test:"1",confirmationUrl:xt.CONFIRMATION_URL,responseUrl:xt.RESPONSE_URL,lng:t.language,extra1:"Mixo",extra2:B.chasis||"Custom",extra3:`Applied colors - Faders: ${Object.keys(B.faders||{}).length}`,extra4:`Mixo Configurator - ${ke} ${t.symbol}${t.amount}`,payerCountry:"CO",payerCity:"Bogota",payerPhone:"+57-300-1234567",country:"CO",ipAddress:"8.8.4.4"};Object.entries(o).forEach(([e,t])=>{const a=document.createElement("input");a.type="hidden",a.name=e,a.value=t,r.appendChild(a)}),document.body.appendChild(r),r.submit(),document.body.removeChild(r)},className:"w-full py-3 rounded-lg bg-gradient-to-r from-green-400 to-cyan-400 text-white font-bold text-lg shadow-[0_0_12px_2px_#0ff580] hover:scale-105 transition-all mt-2",children:["Pay with PayU (",ke," ",yt(ke).symbol,yt(ke).amount,")"]})]})]})})]})]})},Ut=Object.freeze(Object.defineProperty({__proto__:null,default:$t},Symbol.toStringTag,{value:"Module"})),Ht=({className:t="",style:a={}})=>{const[n,r]=k.useState(!1),[o]=k.useState(Date.now());return k.useEffect(()=>{const e=setTimeout(()=>{r(!0)},4100);return()=>clearTimeout(e)},[]),e.jsxs("div",{className:t,style:a,children:[e.jsx(Bt,{isVisible:!n}),e.jsx("div",{style:{width:"100%",height:"100%",opacity:n?1:0},children:e.jsx($t,{})})]})},Wt=Object.freeze(Object.defineProperty({__proto__:null,default:Ht},Symbol.toStringTag,{value:"Module"})),Vt=({isVisible:t,onComplete:a})=>{const[n,r]=k.useState(0),[o]=k.useState(Date.now()),[s,i]=k.useState(!1),[l,c]=k.useState(!1),d=k.useRef(null);return k.useEffect(()=>{if(t){const e=setInterval(()=>{const t=Date.now()-o,n=Math.min(t/4100*100,100);r(e=>Math.abs(e-n)>=1||n>=100?n:e),n>=100&&(clearInterval(e),d.current&&(d.current.pause(),d.current.currentTime=0),null==a||a())},100);return()=>clearInterval(e)}r(0)},[t,o]),k.useEffect(()=>{if(d.current&&t){const e=d.current;e.playbackRate=1,e.volume=0;const t=()=>{c(!0),e.play().catch(e=>{i(!0)})},a=e=>{i(!0)},n=()=>{},r=()=>{},o=()=>{},s=()=>{};return e.addEventListener("canplay",t),e.addEventListener("error",a),e.addEventListener("loadstart",n),e.addEventListener("loadeddata",r),e.addEventListener("waiting",o),e.addEventListener("playing",s),e.load(),()=>{e.removeEventListener("canplay",t),e.removeEventListener("error",a),e.removeEventListener("loadstart",n),e.removeEventListener("loadeddata",r),e.removeEventListener("waiting",o),e.removeEventListener("playing",s)}}if(d.current&&!t){const e=d.current;e.pause(),e.currentTime=0,c(!1),i(!1)}},[t]),e.jsx(S,{children:t&&e.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:9999,color:"white",fontFamily:"Arial, sans-serif",overflow:"hidden"},children:[e.jsxs("video",{ref:d,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:-2},muted:!0,loop:!0,playsInline:!0,preload:"metadata",crossOrigin:"anonymous",autoPlay:!0,children:[e.jsx("source",{src:"/CONFIGURADOR/videos/video.mp4",type:"video/mp4"}),e.jsx("img",{src:"/textures/carga.jpg",alt:"Loading background",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}})]}),e.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.3)",zIndex:-1}}),e.jsx(N.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},style:{fontSize:"32px",fontWeight:"bold",marginBottom:"20px",color:"#00FFFF",textShadow:"0 0 20px #00FFFF, 0 0 40px #00FFFF, 0 0 60px #00FFFF",position:"relative",zIndex:1},children:"LOOPO"}),e.jsx(N.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8,ease:"easeOut"},style:{fontSize:"18px",fontWeight:"bold",marginBottom:"40px",color:"#FFFFFF",textShadow:"0 0 15px #FFFFFF, 0 0 30px #FFFFFF",position:"relative",zIndex:1},children:"Features: Loop controller with 4 assignable buttons and LED indicators."}),e.jsx(N.div,{animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"},style:{width:"100px",height:"100px",border:"6px solid rgba(0, 255, 255, 0.3)",borderTop:"6px solid #00FFFF",borderRadius:"50%",marginBottom:"40px",boxShadow:"0 0 30px rgba(0, 255, 255, 0.8), 0 0 60px rgba(0, 255, 255, 0.4)",position:"relative",zIndex:1}}),e.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},style:{fontSize:"20px",fontWeight:"bold",textAlign:"center",marginBottom:"20px",color:"#00FFFF",textShadow:"0 0 15px #00FFFF, 0 0 30px #00FFFF",position:"relative",zIndex:1},children:["Cargando LOOPO... ",Math.round(n),"%"]}),n>=100&&e.jsx(N.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.8},style:{fontSize:"18px",color:"#00FF80",fontWeight:"bold",marginBottom:"30px",textShadow:"0 0 15px #00FF80, 0 0 30px #00FF80",position:"relative",zIndex:1},children:"¡LOOPO listo para configurar!"}),e.jsx(N.div,{style:{width:"400px",height:"8px",backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:"4px",overflow:"hidden",boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.3)",marginBottom:"40px",position:"relative",zIndex:1},children:e.jsx(N.div,{initial:{width:0},animate:{width:`${n}%`},transition:{duration:.1,ease:"linear"},style:{width:"100%",height:"100%",background:"linear-gradient(90deg, #00FFFF, #00CCFF, #00FFFF)",borderRadius:"4px",boxShadow:"0 0 20px rgba(0, 255, 255, 0.8), 0 0 40px rgba(0, 255, 255, 0.4)",backgroundSize:"200% 100%",animation:"shimmer 2s infinite"}})}),e.jsx(N.div,{style:{display:"flex",gap:"12px",marginTop:"20px",position:"relative",zIndex:1},children:[0,1,2].map(t=>e.jsx(N.div,{animate:{scale:[1,1.3,1],opacity:[.4,1,.4]},transition:{duration:2,repeat:1/0,delay:.3*t,ease:"easeInOut"},style:{width:"12px",height:"12px",backgroundColor:"#00FFFF",borderRadius:"50%",boxShadow:"0 0 15px rgba(0, 255, 255, 0.8), 0 0 30px rgba(0, 255, 255, 0.4)"}},t))}),e.jsx("style",{children:"\n            @keyframes shimmer {\n              0% { background-position: -200% 0; }\n              100% { background-position: 200% 0; }\n            }\n          "})]})})},Gt=({onProductChange:t})=>{const n=k.useRef(null),r=k.useRef(null),w=k.useRef(null),F=k.useRef(null),E=k.useRef(null),S=k.useRef(null),[N,O]=k.useState("normal"),[I,L]=k.useState(null),[P,M]=k.useState(()=>{const e=localStorage.getItem("loopo_chosenColors");if(e)try{return JSON.parse(e)}catch(aa){}return{type:"configUpdate",chasis:"Gris",knobs:{}}}),[T,A]=k.useState({chasis:[],knobs:[]}),[D,B]=k.useState(!1),[$,U]=k.useState(null),[H,W]=k.useState("USD"),[V,G]=k.useState({referenceCode:`loopo_${Date.now()}`,amount:"110.00",currency:"USD",signature:"",description:"Loopo Configurator",buyerEmail:"customer@email.com"});k.useEffect(()=>{const e=wt(H);G(t=>({...t,amount:e.amount,currency:H,description:`Loopo Configurator - ${H} ${e.symbol}${e.amount}`}))},[H]),k.useEffect(()=>{if(D){const e=`loopo-${Date.now()}`;G(t=>({...t,referenceCode:e}))}},[D]);const K={chasis:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},knobs:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}}},Y={normal:{pos:new h(2,1,0),target:new h(0,-.3,0)},top:{pos:new h(1,1.95,-.3),target:new h(-.35,-1,-.3)}},X=k.useCallback((e,t)=>{const a=new o(16777215,.6);e.add(a);const n=new s(16777215,1.5);n.position.set(5,4,-1),n.castShadow=!0,n.shadow.mapSize.width=4096,n.shadow.mapSize.height=4096,n.shadow.camera.near=.5,n.shadow.camera.far=50,n.shadow.normalBias=.02,n.shadow.bias=-.001,e.add(n);const r=new s(10079487,.8);r.position.set(-8,3,-9),e.add(r);const l=new s(10079487,.8);l.position.set(-8,3,15),e.add(l);const c=new i(16777215,.5,.5);c.position.set(0,5,5),e.add(c);const d=new s(16777215,1);d.position.set(-5,30,0),d.castShadow=!0,d.shadow.mapSize.width=2048,d.shadow.mapSize.height=2048,d.shadow.camera.near=.5,d.shadow.camera.far=50,d.shadow.normalBias=.02,d.shadow.bias=-.001,e.add(d);const u=new v(16777215,.3,10,Math.PI/6,.5);u.position.set(0,8,2),u.target.position.set(0,0,0),e.add(u),e.add(u.target)},[]),q=k.useCallback(e=>{const t=(new u).setFromObject(e),a=t.getSize(new h),n=t.getCenter(new h),r=1.8/Math.max(a.x,a.y,a.z);e.scale.set(r,r,r),e.position.copy(n).multiplyScalar(-r),e.position.y-=a.y/2*r},[]),J=k.useCallback(e=>{const t={chasis:[],knobs:[]},a={type:"configUpdate",chasis:"Gris",knobs:{}};e.traverse(e=>{var n;if(!(e instanceof l))return;e.castShadow=!0,e.receiveShadow=!0;const r="string"==typeof e.name?e.name.toLowerCase():"";if(r.includes("cubechasis"))e.material=new c({color:K.chasis.Gris.hex,metalness:.8,roughness:.35,clearcoat:.85,clearcoatRoughness:.1}),t.chasis.push(e),a.chasis="Gris";else if(r.includes("aro"))e.material=new c({color:0,metalness:0,roughness:.2,clearcoat:.8,clearcoatRoughness:.1,reflectivity:.5,transmission:.3,thickness:.5,ior:1.4,attenuationDistance:1,attenuationColor:16777215,transparent:!0,opacity:.7}),t.buttons.push(e),a.buttons[e.name]="Negro";else if(r.includes("knob")&&(null==(n=e.material)?void 0:n.color)){const n=e.material;if((n.color.r+n.color.g+n.color.b)/3<.5){const n="Negro";e.material=new d({color:K.knobs[n].hex,metalness:0,roughness:1}),t.knobs.push(e),a.knobs[e.name]=n}else e.material=new d({color:16777215})}}),A(t),M(a)},[]),Z=k.useCallback(async()=>{try{const{GLTFLoader:e}=await a(async()=>{const{GLTFLoader:e}=await import("./GLTFLoader-L0pBLRUW.js");return{GLTFLoader:e}},__vite__mapDeps([7,1,2]));(new e).load("./models/loopo.glb",e=>{var t;const a=e.scene;S.current=a,J(a),q(a),null==(t=r.current)||t.add(a),modelOriginalPositionRef.current||(modelOriginalPositionRef.current=a.position.clone());a.traverse(e=>{e.isMesh&&"string"==typeof e.name&&e.name.toLowerCase().includes("aro")&&e.material&&"color"in e.material&&e.material.color.setHex(1842204),e.isMesh&&"string"==typeof e.name&&e.name.toLowerCase().includes("aro")&&(e.material=e.material.clone())})},void 0,e=>{})}catch(e){}},[J,q]);k.useEffect(()=>{if(!n.current)return;const e=new m;e.background=null,e.fog=new j(0,10,50),r.current=e;const t=new p({antialias:!0,alpha:!0,preserveDrawingBuffer:!0,powerPreference:"high-performance"});t.setSize(n.current.clientWidth,n.current.clientHeight),t.setPixelRatio(Math.min(window.devicePixelRatio,3)),t.outputColorSpace=x,t.shadowMap.enabled=!0,t.shadowMap.type=f,t.toneMapping=C,t.toneMappingExposure=1.2,w.current=t,n.current.appendChild(t.domElement);const o=new g(35,n.current.clientWidth/n.current.clientHeight,.1,200);let s;o.position.copy(Y.normal.pos),F.current=o,a(async()=>{const{OrbitControls:e}=await import("./OrbitControls-DFclDx1A.js");return{OrbitControls:e}},__vite__mapDeps([8,1,2])).then(({OrbitControls:e})=>{const a=new e(o,t.domElement);a.target.copy(Y.normal.target),a.enableDamping=!0,a.dampingFactor=.05,a.minDistance=2,a.maxDistance=5,a.enablePan=!1,E.current=a}),X(e,t),Z();const i=()=>{s=requestAnimationFrame(i),E.current&&E.current.update(),t.render(e,o)};return i(),()=>{s&&cancelAnimationFrame(s),n.current&&t.domElement&&n.current.removeChild(t.domElement),t.dispose()}},[X,Z]),k.useEffect(()=>{const e=()=>{if(n.current&&F.current&&w.current){const e=n.current.clientWidth,t=n.current.clientHeight;F.current.aspect=e/t,F.current.updateProjectionMatrix(),w.current.setSize(e,t)}};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),k.useEffect(()=>{localStorage.setItem("loopo_currentView",N)},[N]),k.useEffect(()=>{localStorage.setItem("loopo_chosenColors",JSON.stringify(P))},[P]),k.useEffect(()=>{if(T.chasis.length>0||T.knobs.length>0){if(P.chasis&&K.chasis[P.chasis]){const e=K.chasis[P.chasis].hex;T.chasis.forEach(t=>{t.material&&"color"in t.material&&t.material.color.setHex(parseInt(e.replace("#",""),16))})}Object.entries(P.knobs).forEach(([e,t])=>{if(K.knobs[t]){const a=K.knobs[t].hex,n=T.knobs.find(t=>t.name===e);n&&n.material&&"color"in n.material&&n.material.color.setHex(parseInt(a.replace("#",""),16))}})}},[T,P]);const Q=k.useCallback(e=>{if(O(e),"chasis"===e&&T.chasis.length>0?L(T.chasis[0]):L(null),!F.current||!E.current)return;let t,a;"normal"===e?(t=Y.normal,a=!0):(t=Y.top,a=!1),E.current.enabled=a,_.to(F.current.position,{duration:1.2,ease:"power3.inOut",...t.pos}),_.to(E.current.target,{duration:1.2,ease:"power3.inOut",...t.target,onUpdate:()=>E.current.update()})},[T]);k.useCallback(e=>{if(!I)return;const t=I.name.toLowerCase();let a=null,n=null;if(t.includes("cubechasis")?(a=K.chasis,n="chasis"):t.includes("knob")&&(a=K.knobs,n=I.name),a&&n&&a[e]){const t=a[e].hex;I.material&&"color"in I.material&&I.material.color.setHex(parseInt(t.replace("#",""),16)),M(t=>({...t,["chasis"===n?"chasis":"knobs"]:"chasis"===n?e:{...t.knobs,[n]:e}}))}},[I]);const ee=k.useCallback(e=>{if(!F.current||!w.current)return;if("chasis"===N)return void L(null);const t=new b,a=new y,n=w.current.domElement.getBoundingClientRect();a.x=(e.clientX-n.left)/n.width*2-1,a.y=-(e.clientY-n.top)/n.height*2+1,t.setFromCamera(a,F.current);let r=[];if(("knobs"===N||"normal"===N)&&(r=T.knobs),0===r.length)return;const o=t.intersectObjects(r,!1);if(o.length>0){const e=o[0].object;L(e)}else L(null)},[N,T]),te=k.useCallback((e,t)=>{"chasis"===N?(M(t=>({...t,chasis:e})),T.chasis.forEach(e=>{e.material&&"color"in e.material&&e.material.color.setHex(parseInt(t.hex.replace("#",""),16))})):"knobs"===N&&I&&(M(t=>({...t,knobs:{...t.knobs,[I.name]:e}})),I.material&&"color"in I.material&&I.material.color.setHex(parseInt(t.hex.replace("#",""),16)))},[N,T,I]),ae=k.useCallback(()=>{if(w.current&&r.current&&F.current){w.current.render(r.current,F.current);const e=w.current.domElement.toDataURL("image/png");U(e)}B(!0)},[]);return e.jsxs(R,{options:{clientId:"test",currency:"USD"},children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:-1,backgroundImage:"url(/textures/fondo.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"}}),e.jsxs("div",{className:"w-full h-screen text-gray-200 overflow-hidden relative",style:{background:"transparent"},children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:0,pointerEvents:"none",background:"transparent"}}),e.jsx("div",{style:{position:"fixed",top:16,left:6,zIndex:51,display:"flex",alignItems:"center",gap:"12px"},children:e.jsx("button",{onClick:()=>window.location.href="https://www.crearttech.com/",className:"relative px-5 py-2 rounded-full font-bold text-sm uppercase tracking-wider text-white transition-all duration-300 hover:-translate-y-0.5",style:{background:"linear-gradient(90deg, rgba(0,255,255,0.18) 0%, rgba(122,0,255,0.18) 50%, rgba(255,0,255,0.18) 100%)",border:"1px solid rgba(0, 255, 255, 0.55)"},children:e.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:[e.jsx("path",{d:"M3 10.5L12 3l9 7.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M5 9.5V21h14V9.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("span",{children:"Home"})]})})}),e.jsx("div",{className:"absolute top-6 left-1/2 transform -translate-x-1/2 z-10 flex items-center gap-3",children:e.jsx("h1",{className:"text-2xl font-bold leading-none m-0",style:{fontFamily:"Gotham Black, Arial, sans-serif",color:"#fff",textShadow:"0 0 12px #a259ff, 0 0 24px #0ff, 0 0 2px #fff",letterSpacing:"0.04em"},children:"LOOPO"})}),e.jsx("main",{className:"flex w-full h-full",style:{minHeight:"100vh",height:"100vh",position:"relative",zIndex:1,overflow:"hidden",background:"transparent"},children:e.jsx("div",{className:"flex-grow h-full",style:{position:"relative",zIndex:1,background:"transparent"},children:e.jsx("div",{ref:n,className:"w-full h-full transition-all duration-300",onClick:ee,style:{position:"relative",zIndex:1}})})}),e.jsxs("div",{className:"fixed top-0 right-0 h-screen border-l border-gray-700 shadow-2xl transition-all duration-400 flex overflow-hidden z-10 "+("normal"===N?"w-28":"w-[320px]"),style:{backgroundColor:"rgba(255, 255, 0, 0.8)",background:"transparent",boxShadow:"0 0 16px 2px rgba(0, 255, 255, 0.4), -6px 0 16px 0 rgba(0, 255, 255, 0.3), inset 0 0 10px rgba(0,0,0,0.8)",borderLeft:"2px solid rgba(0, 255, 255, 0.8)",backdropFilter:"blur(10px)",zIndex:10},children:[e.jsx("div",{className:"w-28 p-4 flex-shrink-0",style:{paddingTop:"200px"},children:e.jsx("div",{className:"flex flex-col gap-1.5",children:[{id:"normal",icon:"M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5M12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17M12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z",title:"Full View - See complete MIDI controller"},{id:"chasis",icon:"loopo.png",title:"Customize Chassis - Change main body color",isImage:!0},{id:"knobs",icon:"M9.42 4.074a.56.56 0 0 0-.56.56v.93c0 .308.252.56.56.56s.56-.252.56-.56v-.93a.56.56 0 0 0-.56-.56M11.554 8.8a.5.5 0 0 1 0 .707l-1.78 1.78a.5.5 0 1 1-.708-.707l1.78-1.78a.5.5 0 0 1 .708 0 M9.42 15.444c-1.16 0-2.32-.44-3.2-1.32a4.527 4.527 0 0 1 0-6.39a4.527 4.527 0 0 1 6.39 0a4.527 4.527 0 0 1 0 6.39c-.88.88-2.03 1.32-3.19 1.32m0-1.1a3.41 3.41 0 1 0 0-6.82a3.41 3.41 0 0 0 0 6.82M6.757 5.2a.56.56 0 1 0-.965.567l.465.809l.005.006a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.075a.566.566 0 0 0 .205-.753zm5.315.012a.55.55 0 0 1 .761-.206c.277.152.36.5.203.764l-.458.797a.56.56 0 0 1-.478.277a.564.564 0 0 1-.487-.834zm7.598 5.722a.5.5 0 0 1 .5-.5h2.52a.5.5 0 1 1 0 1h-2.52a.5.5 0 0 1-.5-.5 M22.69 15.454c2.49 0 4.52-2.03 4.52-4.52s-2.03-4.52-4.52-4.52s-4.52 2.03-4.52 4.52s2.03 4.52 4.52 4.52m0-1.11a3.41 3.41 0 1 1 0-6.82a3.41 3.41 0 0 1 0 6.82m-.56-9.7c0-.308.252-.56.56-.56s.56.252.56.56v.945a.566.566 0 0 1-.56.535a.56.56 0 0 1-.56-.56zm-2.103.566a.557.557 0 0 0-.763-.202a.566.566 0 0 0-.204.753l.468.815l.004.006a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.075a.566.566 0 0 0 .205-.753zm6.086-.204a.55.55 0 0 0-.761.206l-.458.795a.55.55 0 0 0 .194.759a.5.5 0 0 0 .282.077a.6.6 0 0 0 .478-.261l.005-.007l.463-.805a.55.55 0 0 0-.203-.764 M11.93 22.636H9.42a.5.5 0 0 0 0 1h2.51a.5.5 0 1 0 0-1 M4.9 23.136c0 2.49 2.03 4.52 4.52 4.52s4.52-2.03 4.52-4.52s-2.03-4.52-4.52-4.52s-4.52 2.03-4.52 4.52m7.93 0a3.41 3.41 0 1 1-6.82 0a3.41 3.41 0 0 1 6.82 0m-3.41-6.86a.56.56 0 0 0-.56.56v.93c0 .308.252.56.56.56s.56-.252.56-.56v-.93a.56.56 0 0 0-.56-.56m-3.418.93a.566.566 0 0 1 .755.206l.464.807c.137.258.06.6-.205.753a.53.53 0 0 1-.276.074a.58.58 0 0 1-.478-.261l-.005-.007l-.468-.814a.566.566 0 0 1 .207-.755zm6.08.209a.55.55 0 0 1 .761-.206c.277.151.36.499.203.764l-.462.802a.567.567 0 0 1-.766.194a.55.55 0 0 1-.194-.76zm8.475 3.588a.5.5 0 0 1 .707 0l1.78 1.78a.5.5 0 0 1-.707.707l-1.78-1.78a.5.5 0 0 1 0-.707 M22.69 27.656c-1.16 0-2.32-.44-3.2-1.32a4.527 4.527 0 0 1 0-6.39a4.527 4.527 0 0 1 6.39 0a4.527 4.527 0 0 1 0 6.39c-.88.88-2.04 1.32-3.19 1.32m0-1.11a3.41 3.41 0 1 0 0-6.82a3.41 3.41 0 0 0 0 6.82 M22.13 16.836c0-.308.252-.56.56-.56s.56.252.56.56v.945a.57.57 0 0 1-.56.545a.56.56 0 0 1-.56-.56zm-2.103.576a.566.566 0 0 0-.755-.206l-.006.003a.565.565 0 0 0-.206.755l.468.814l.004.007a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.074a.566.566 0 0 0 .205-.753zm6.086-.203a.55.55 0 0 0-.761.206l-.458.795a.55.55 0 0 0 .194.759a.5.5 0 0 0 .282.077a.6.6 0 0 0 .478-.261l.005-.007l.463-.805a.55.55 0 0 0-.203-.764 M1 5.75A4.75 4.75 0 0 1 5.75 1h20.52a4.75 4.75 0 0 1 4.75 4.75v20.48a4.75 4.75 0 0 1-4.75 4.75H5.75A4.75 4.75 0 0 1 1 26.23zM5.75 3A2.75 2.75 0 0 0 3 5.75v20.48a2.75 2.75 0 0 0 2.75 2.75h20.52a2.75 2.75 0 0 0 2.75-2.75V5.75A2.75 2.75 0 0 0 26.27 3z",title:"Customize Knobs - Change rotary control colors"}].map(({id:t,icon:a,title:n,isImage:r})=>e.jsx("button",{onClick:"faders"===t?void 0:()=>Q(t),className:"w-full aspect-square border-2 rounded-lg flex items-center justify-center p-2 transition-all duration-300 text-white relative "+(N===t?"bg-gradient-to-br from-[#00FFFF] to-[#0080FF] border-[#00FFFF] shadow-lg":"border-[#00FFFF] bg-gradient-to-br from-[#000000] to-[#1a1a1a] hover:from-[#00FFFF] hover:to-[#0080FF] hover:border-[#00FFFF] hover:shadow-lg"),disabled:"faders"===t,style:"faders"===t?{cursor:"not-allowed"}:{},onMouseEnter:e=>{const t=document.createElement("div");t.className="custom-tooltip",t.textContent=n,t.style.cssText=`\n                      position: fixed;\n                      left: ${e.clientX-20}px;\n                      top: ${e.clientY-20}px;\n                      transform: translateX(-100%);\n                      background: #dc2626;\n                      color: white;\n                      padding: 12px 16px;\n                      border-radius: 8px;\n                      font-size: 14px;\n                      font-weight: bold;\n                      white-space: nowrap;\n                      z-index: 999999;\n                      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n                      border: 2px solid #f87171;\n                      pointer-events: none;\n                    `,t.id="temp-tooltip",document.body.appendChild(t)},onMouseLeave:()=>{const e=document.getElementById("temp-tooltip");e&&e.remove()},children:r?e.jsx("img",{src:`textures/${a}`,alt:n,className:"w-full h-full mx-auto my-auto object-contain",style:{},onError:e=>{}}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"knobs"===t?"0 0 32 32":"faders"===t?"0 0 256 256":"0 0 24 24",className:"w-4/5 h-4/5 mx-auto my-auto fill-white text-white",fill:"#fff",children:e.jsx("path",{d:a})})},t))})}),e.jsxs("div",{className:"flex-1 p-4 flex flex-col",children:[e.jsx("div",{className:"flex items-center pb-5 border-b border-gray-600 pl-0 "+("normal"===N?"justify-center items-center gap-0":"justify-center gap-2"),style:"normal"===N?{minHeight:"48px"}:{},children:"normal"===N?e.jsx("img",{src:"models/logo.png",alt:"Logo",className:"h-6 w-auto",style:{filter:"drop-shadow(0 0 8px #a259ff) drop-shadow(0 0 16px #0ff)"}}):e.jsx(e.Fragment,{children:e.jsx("img",{src:"models/logo.png",alt:"Logo",className:"h-8 w-auto",style:{filter:"drop-shadow(0 0 8px #a259ff) drop-shadow(0 0 16px #0ff)"}})})}),e.jsxs("div",{className:"mt-6 animate-fadeIn",children:[e.jsx("p",{className:"font-black text-sm tracking-wide uppercase m-0 mb-3 text-gray-200 text-left animate-fadeIn",children:"chasis"===N?"CHASIS":"knobs"===N?"KNOBS":"LOOPO"}),e.jsx("div",{className:"grid grid-cols-2 gap-x-0 gap-y-0 p-0 justify-items-end ml-auto animate-scaleIn",children:Object.entries("chasis"===N?K.chasis:"knobs"===N?K.knobs:K.chasis).map(([t,a],n)=>e.jsx("div",{className:"w-10 h-10 rounded-full cursor-pointer border border-[#a259ff] shadow-[0_0_6px_1px_#a259ff55] transition-all duration-200 hover:scale-110 animate-fadeInUp",style:{backgroundColor:a.hex,animationDelay:50*n+"ms"},title:t,onClick:()=>te(t,a)},t))})]}),"knobs"===N&&I&&e.jsxs("div",{className:"mb-6 p-4 bg-gray-800 rounded-lg animate-scaleIn",children:[e.jsxs("h4",{className:"text-lg font-semibold text-white mb-2 animate-fadeIn",children:["Seleccionado: ",I.name]}),e.jsx("p",{className:"text-gray-300 text-sm animate-fadeIn",children:"Haz clic en un color para aplicarlo al knob seleccionado"})]})]})]}),"normal"===N&&e.jsx("button",{onClick:ae,className:"fixed bottom-10 left-1/2 transform -translate-x-1/2 z-50 px-6 py-3 text-lg font-bold uppercase tracking-wide text-black bg-purple-400 border-none rounded cursor-pointer transition-all duration-200 shadow-lg hover:bg-yellow-200 hover:scale-105 hover:shadow-xl shadow-[0_0_8px_2px_#a259ff80,0_0_16px_4px_#0ff5]",children:"ADD TO CART"}),D&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:e.jsxs("div",{className:"relative bg-[#3a4060] rounded-2xl shadow-2xl border-2 border-[#a259ff] p-4 md:py-4 md:px-8 w-full max-w-4xl mx-4 animate-fade-in",children:[e.jsx("button",{onClick:()=>B(!1),className:"absolute top-3 right-3 text-gray-400 hover:text-pink-400 text-2xl font-bold",children:"×"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-purple-400 mb-4 text-center tracking-widest",children:"PAGO SEGURO - LOOPO"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center mb-4",children:[e.jsx("div",{className:"w-full max-w-[320px] md:max-w-[380px] aspect-[4/3] flex items-center justify-center ml-16 md:ml-24",children:$&&e.jsx("img",{src:$,alt:"Custom controller",className:"w-full h-full object-contain",style:{background:"none",boxShadow:"none",border:"none"}})}),e.jsxs("div",{className:"flex-1 mt-8 md:mt-0",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2 text-cyan-400",children:"Tu configuración:"}),e.jsxs("ul",{className:"text-base space-y-1",children:[e.jsxs("li",{children:[e.jsx("b",{children:"Chasis:"})," ",P.chasis]}),e.jsxs("li",{children:[e.jsx("b",{children:"Knobs:"})," ",Object.values(P.knobs).join(", ")||"Default"]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-cyan-400",children:"Select your currency:"}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx("button",{onClick:()=>W("USD"),className:"px-6 py-3 rounded-lg font-bold text-lg transition-all "+("USD"===H?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-[0_0_12px_2px_#3b82f6]":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:"USD $110.00"}),e.jsx("button",{onClick:()=>W("COP"),className:"px-6 py-3 rounded-lg font-bold text-lg transition-all "+("COP"===H?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-[0_0_12px_2px_#3b82f6]":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:"COP $440,000"})]}),e.jsxs("p",{className:"text-center text-sm text-gray-400 mt-2",children:["Selected price: ",H," ",wt(H).symbol,wt(H).amount]})]}),e.jsxs("div",{className:"flex flex-col gap-4 mt-4",children:[e.jsx("div",{className:"w-full py-3 rounded-lg bg-gray-600 text-gray-400 font-bold text-lg text-center",children:"PayPal temporarily unavailable"}),e.jsxs("button",{onClick:()=>{const e="payu_checkout";if(!window.open("",e))return void alert("Please allow popups to continue with payment");const t=wt(H),a=`${xt.API_KEY}~${xt.MERCHANT_ID}~${V.referenceCode}~${t.amount}~${H}`,n=z(a).toString(),r=document.createElement("form");r.method="POST",r.action=t.url,r.target=e;const o={merchantId:xt.MERCHANT_ID,accountId:t.accountId,description:`Loopo Configurator - ${H} ${t.symbol}${t.amount}`,referenceCode:V.referenceCode,amount:t.amount,currency:H,buyerEmail:V.buyerEmail,signature:n,test:"1",confirmationUrl:xt.CONFIRMATION_URL,responseUrl:xt.RESPONSE_URL,lng:t.language,extra1:"Loopo",extra2:P.chasis||"Custom",extra3:`Applied colors - Knobs: ${Object.keys(P.knobs||{}).length}`,extra4:`Loopo Configurator - ${H} ${t.symbol}${t.amount}`,payerCountry:"CO",payerCity:"Bogota",payerPhone:"+57-300-1234567",country:"CO",ipAddress:"8.8.4.4"};Object.entries(o).forEach(([e,t])=>{const a=document.createElement("input");a.type="hidden",a.name=e,a.value=t,r.appendChild(a)}),document.body.appendChild(r),r.submit(),document.body.removeChild(r)},className:"w-full py-3 rounded-lg bg-gradient-to-r from-green-400 to-cyan-400 text-white font-bold text-lg shadow-[0_0_12px_2px_#0ff580] hover:scale-105 transition-all mt-2",children:["Pay with PayU (",H," ",wt(H).symbol,wt(H).amount,")"]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-6 text-center",children:"Your purchase is 100% safe and protected."})]})})]})]})},Kt=Object.freeze(Object.defineProperty({__proto__:null,default:Gt},Symbol.toStringTag,{value:"Module"})),Yt=({className:t="",style:a={}})=>{const[n,r]=k.useState(!1),[o]=k.useState(Date.now());return k.useEffect(()=>{const e=setTimeout(()=>{r(!0)},4100);return()=>clearTimeout(e)},[]),e.jsxs("div",{className:t,style:a,children:[e.jsx(Vt,{isVisible:!n}),e.jsx("div",{style:{width:"100%",height:"100%",opacity:n?1:0},children:e.jsx(Gt,{})})]})},Xt=Object.freeze(Object.defineProperty({__proto__:null,default:Yt},Symbol.toStringTag,{value:"Module"})),qt=({isVisible:t,onComplete:a})=>{const[n,r]=k.useState(0),[o]=k.useState(Date.now()),[s,i]=k.useState(!1),[l,c]=k.useState(!1),d=k.useRef(null);return k.useEffect(()=>{if(t){const e=setInterval(()=>{const t=Date.now()-o,n=Math.min(t/4100*100,100);r(e=>Math.abs(e-n)>=1||n>=100?n:e),n>=100&&(clearInterval(e),d.current&&(d.current.pause(),d.current.currentTime=0),null==a||a())},100);return()=>clearInterval(e)}r(0)},[t,o]),k.useEffect(()=>{if(d.current&&t){const e=d.current;e.playbackRate=1,e.volume=0;const t=()=>{c(!0),e.play().catch(e=>{i(!0)})},a=e=>{i(!0)},n=()=>{},r=()=>{},o=()=>{},s=()=>{};return e.addEventListener("canplay",t),e.addEventListener("error",a),e.addEventListener("loadstart",n),e.addEventListener("loadeddata",r),e.addEventListener("waiting",o),e.addEventListener("playing",s),e.load(),()=>{e.removeEventListener("canplay",t),e.removeEventListener("error",a),e.removeEventListener("loadstart",n),e.removeEventListener("loadeddata",r),e.removeEventListener("waiting",o),e.removeEventListener("playing",s)}}if(d.current&&!t){const e=d.current;e.pause(),e.currentTime=0,c(!1),i(!1)}},[t]),e.jsx(S,{children:t&&e.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:9999,color:"white",fontFamily:"Arial, sans-serif",overflow:"hidden"},children:[e.jsxs("video",{ref:d,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:-2},muted:!0,loop:!0,playsInline:!0,preload:"metadata",crossOrigin:"anonymous",autoPlay:!0,children:[e.jsx("source",{src:"/CONFIGURADOR/videos/video.mp4",type:"video/mp4"}),e.jsx("img",{src:"/textures/carga.jpg",alt:"Loading background",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}})]}),e.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.3)",zIndex:-1}}),e.jsx(N.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},style:{fontSize:"32px",fontWeight:"bold",marginBottom:"20px",color:"#00FFFF",textShadow:"0 0 20px #00FFFF, 0 0 40px #00FFFF, 0 0 60px #00FFFF",position:"relative",zIndex:1},children:"FADO"}),e.jsx(N.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8,ease:"easeOut"},style:{fontSize:"18px",fontWeight:"bold",marginBottom:"40px",color:"#FFFFFF",textShadow:"0 0 15px #FFFFFF, 0 0 30px #FFFFFF",position:"relative",zIndex:1},children:"Features: Compact design with 4 assignable knobs and LED indicators."}),e.jsx(N.div,{animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"},style:{width:"100px",height:"100px",border:"6px solid rgba(0, 255, 255, 0.3)",borderTop:"6px solid #00FFFF",borderRadius:"50%",marginBottom:"40px",boxShadow:"0 0 30px rgba(0, 255, 255, 0.8), 0 0 60px rgba(0, 255, 255, 0.4)",position:"relative",zIndex:1}}),e.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},style:{fontSize:"20px",fontWeight:"bold",textAlign:"center",marginBottom:"20px",color:"#00FFFF",textShadow:"0 0 15px #00FFFF, 0 0 30px #00FFFF",position:"relative",zIndex:1},children:["Cargando FADO... ",Math.round(n),"%"]}),n>=100&&e.jsx(N.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.8},style:{fontSize:"18px",color:"#00FF80",fontWeight:"bold",marginBottom:"30px",textShadow:"0 0 15px #00FF80, 0 0 30px #00FF80",position:"relative",zIndex:1},children:"¡FADO listo para configurar!"}),e.jsx(N.div,{style:{width:"400px",height:"8px",backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:"4px",overflow:"hidden",boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.3)",marginBottom:"40px",position:"relative",zIndex:1},children:e.jsx(N.div,{initial:{width:0},animate:{width:`${n}%`},transition:{duration:.1,ease:"linear"},style:{width:"100%",height:"100%",background:"linear-gradient(90deg, #00FFFF, #00CCFF, #00FFFF)",borderRadius:"4px",boxShadow:"0 0 20px rgba(0, 255, 255, 0.8), 0 0 40px rgba(0, 255, 255, 0.4)",backgroundSize:"200% 100%",animation:"shimmer 2s infinite"}})}),e.jsx(N.div,{style:{display:"flex",gap:"12px",marginTop:"20px",position:"relative",zIndex:1},children:[0,1,2].map(t=>e.jsx(N.div,{animate:{scale:[1,1.3,1],opacity:[.4,1,.4]},transition:{duration:2,repeat:1/0,delay:.3*t,ease:"easeInOut"},style:{width:"12px",height:"12px",backgroundColor:"#00FFFF",borderRadius:"50%",boxShadow:"0 0 15px rgba(0, 255, 255, 0.8), 0 0 30px rgba(0, 255, 255, 0.4)"}},t))}),e.jsx("style",{children:"\n            @keyframes shimmer {\n              0% { background-position: -200% 0; }\n              100% { background-position: 200% 0; }\n            }\n          "})]})})},Jt=({onProductChange:t})=>{const n=k.useRef(null),r=k.useRef(null),w=k.useRef(null),F=k.useRef(null),E=k.useRef(null),S=k.useRef(null),N=k.useRef(null),[O,I]=k.useState("normal"),[L,P]=k.useState(null),[M,T]=k.useState(()=>{const e=localStorage.getItem("fado_chosenColors");if(e)try{return JSON.parse(e)}catch(aa){}return{type:"configUpdate",chasis:"Gray",faders:{}}}),[A,D]=k.useState({chasis:[],faders:[]}),[B,$]=k.useState([]),[U,H]=k.useState(!1),[W,V]=k.useState(null),[G,K]=k.useState("USD"),[Y,X]=k.useState({referenceCode:`fado_${Date.now()}`,amount:"150.00",currency:"USD",signature:"",description:"Fado Configurator",buyerEmail:"customer@email.com"});k.useEffect(()=>{const e=vt(G);X(t=>({...t,amount:e.amount,currency:G,description:`Fado Configurator - ${G} ${e.symbol}${e.amount}`}))},[G]),k.useEffect(()=>{if(U){const e=`fado-${Date.now()}`;X(t=>({...t,referenceCode:e}))}},[U]);const q={chasis:{Green:{hex:"#7CBA40"},Yellow:{hex:"#F3E600"},Blue:{hex:"#325EB7"},White:{hex:"#F5F5F5"},Orange:{hex:"#F47119"},Purple:{hex:"#7B217E"},Red:{hex:"#E52421"},Black:{hex:"#1C1C1C"},Pink:{hex:"#FF007F"},Gray:{hex:"#808080"}},faders:{Green:{hex:"#7CBA40"},Yellow:{hex:"#F3E600"},Blue:{hex:"#325EB7"},White:{hex:"#F5F5F5"},Orange:{hex:"#F47119"},Purple:{hex:"#7B217E"},Red:{hex:"#E52421"},Black:{hex:"#1C1C1C"},Pink:{hex:"#FF007F"},Gray:{hex:"#808080"}},knobs:{Green:{hex:"#7CBA40"},Yellow:{hex:"#F3E600"},Blue:{hex:"#325EB7"},White:{hex:"#F5F5F5"},Orange:{hex:"#F47119"},Purple:{hex:"#7B217E"},Red:{hex:"#E52421"},Black:{hex:"#1C1C1C"},Pink:{hex:"#FF007F"},Gray:{hex:"#808080"}}},J={normal:{pos:new h(2,1,-.1),target:new h(0,-.3,-.1)},top:{pos:new h(1,1.65,-.3),target:new h(-.35,-.9,-.3)}},Z=k.useCallback((e,t)=>{e.material&&"emissive"in e.material&&e.material.emissive.setHex(t)},[]),Q=k.useCallback((e,t)=>{const a=new o(16777215,.6);e.add(a);const n=new s(16777215,1.5);n.position.set(5,4,-1),n.castShadow=!0,n.shadow.mapSize.width=4096,n.shadow.mapSize.height=4096,n.shadow.camera.near=.5,n.shadow.camera.far=50,n.shadow.normalBias=.02,n.shadow.bias=-.001,e.add(n);const r=new s(10079487,.8);r.position.set(-8,3,-9),e.add(r);const l=new s(10079487,.8);l.position.set(-8,3,15),e.add(l);const c=new i(16777215,.5,.5);c.position.set(0,5,5),e.add(c);const d=new s(16777215,1);d.position.set(-5,30,0),d.castShadow=!0,d.shadow.mapSize.width=2048,d.shadow.mapSize.height=2048,d.shadow.camera.near=.5,d.shadow.camera.far=50,d.shadow.normalBias=.02,d.shadow.bias=-.001,e.add(d);const u=new v(16777215,.3,10,Math.PI/6,.5);u.position.set(0,8,2),u.target.position.set(0,0,0),e.add(u),e.add(u.target)},[]),ee=k.useCallback(e=>{const t=(new u).setFromObject(e),a=t.getSize(new h),n=t.getCenter(new h),r=1.8/Math.max(a.x,a.y,a.z);e.scale.set(r,r,r),e.position.copy(n).multiplyScalar(-r),e.position.y-=a.y/2*r},[]),te=k.useCallback(e=>{const t={chasis:[],faders:[]},a={type:"configUpdate",chasis:"Gray",faders:{}},n=[],r=(e,t=0)=>{"  ".repeat(t),e.type,e.name;e.children.forEach(e=>r(e,t+1))};r(e);const o=e=>{if("faders"===e.name.toLowerCase())return e;for(const t of e.children){const e=o(t);if(e)return e}return null},s=o(e);s&&s.children.forEach((e,t)=>{}),e.traverse(e=>{if(!(e instanceof l))return;e.castShadow=!0,e.receiveShadow=!0;const r="string"==typeof e.name?e.name.toLowerCase():"";if(n.push(e.name),r.includes("fader"),r.includes("cubechasis"))e.material=new c({color:q.chasis.Gray.hex,metalness:.8,roughness:.35,clearcoat:.85,clearcoatRoughness:.1}),t.chasis.push(e),a.chasis="Gris";else if(r.includes("aro"))e.material=new c({color:0,metalness:0,roughness:.2,clearcoat:.8,clearcoatRoughness:.1,reflectivity:.5,transmission:.3,thickness:.5,ior:1.4,attenuationDistance:1,attenuationColor:16777215,transparent:!0,opacity:.7});else if(r.includes("fader"))if("fader1_1"===r||"fader2_1"===r||"fader3_1"===r||"fader4_1"===r||"fader5_1"===r||"fader6_1"===r||"fader7_1"===r||"fader8_1"===r){const n="Black";e.material=new d({color:q.faders[n].hex,metalness:0,roughness:1}),t.faders.push(e),a.faders[e.name]=n}else if(e.material){const n=e.material;if(n.color){if((n.color.r+n.color.g+n.color.b)/3<.8){const r="Black";n.color.setHex(parseInt(q.faders[r].hex.replace("#",""),16)),t.faders.push(e),a.faders[e.name]=r}}}}),D(t),T(a)},[]),ae=k.useCallback(async()=>{try{const{GLTFLoader:e}=await a(async()=>{const{GLTFLoader:e}=await import("./GLTFLoader-L0pBLRUW.js");return{GLTFLoader:e}},__vite__mapDeps([7,1,2]));(new e).load("./models/fado.glb",e=>{var t;const a=e.scene;S.current=a,te(a),ee(a),null==(t=r.current)||t.add(a),N.current||(N.current=a.position.clone());a.traverse(e=>{e.isMesh&&"string"==typeof e.name&&e.name.toLowerCase().includes("aro")&&e.material&&"color"in e.material&&e.material.color.setHex(1842204),e.isMesh&&"string"==typeof e.name&&e.name.toLowerCase().includes("aro")&&(e.material=e.material.clone())})},void 0,e=>{})}catch(e){}},[te,ee]);k.useEffect(()=>{if(!n.current)return;const e=new m;e.background=null,e.fog=new j(0,10,50),r.current=e;const t=new p({antialias:!0,alpha:!0,preserveDrawingBuffer:!0,powerPreference:"high-performance"});t.setSize(n.current.clientWidth,n.current.clientHeight),t.setPixelRatio(Math.min(window.devicePixelRatio,3)),t.outputColorSpace=x,t.shadowMap.enabled=!0,t.shadowMap.type=f,t.toneMapping=C,t.toneMappingExposure=1.2,w.current=t,n.current.appendChild(t.domElement);const o=new g(35,n.current.clientWidth/n.current.clientHeight,.1,200);let s;o.position.copy(J.normal.pos),F.current=o,a(async()=>{const{OrbitControls:e}=await import("./OrbitControls-DFclDx1A.js");return{OrbitControls:e}},__vite__mapDeps([8,1,2])).then(({OrbitControls:e})=>{const a=new e(o,t.domElement);a.target.copy(J.normal.target),a.enableDamping=!0,a.dampingFactor=.05,a.minDistance=2,a.maxDistance=5,a.enablePan=!1,E.current=a}),Q(e,t),ae();const i=()=>{s=requestAnimationFrame(i),E.current&&E.current.update(),t.render(e,o)};return i(),()=>{s&&cancelAnimationFrame(s),n.current&&t.domElement&&n.current.removeChild(t.domElement),t.dispose()}},[Q,ae]),k.useEffect(()=>{const e=()=>{if(n.current&&F.current&&w.current){const e=n.current.clientWidth,t=n.current.clientHeight;F.current.aspect=e/t,F.current.updateProjectionMatrix(),w.current.setSize(e,t)}};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),k.useEffect(()=>{localStorage.setItem("fado_currentView",O)},[O]),k.useEffect(()=>{localStorage.setItem("fado_chosenColors",JSON.stringify(M))},[M]),k.useEffect(()=>{if(A.chasis.length>0||A.faders.length>0){if(M.chasis&&q.chasis[M.chasis]){const e=q.chasis[M.chasis].hex;A.chasis.forEach(t=>{t.material&&"color"in t.material&&t.material.color.setHex(parseInt(e.replace("#",""),16))})}Object.entries(M.faders).forEach(([e,t])=>{if(q.faders[t]){const a=q.faders[t].hex,n=A.faders.find(t=>t.name===e);n&&(n.material=new d({color:a,metalness:0,roughness:1}))}})}},[A,M]),k.useEffect(()=>{A.faders.length>0&&A.faders.forEach((e,t)=>{const a=q.faders.Black.hex;e.material=new d({color:a,metalness:0,roughness:1})})},[A.faders.length]);const ne=k.useCallback(e=>{if(I(e),L&&Z(L,0),B.forEach(e=>Z(e,0)),"chasis"===e&&A.chasis.length>0?P(A.chasis[0]):P(null),!F.current||!E.current)return;let t,a;"normal"===e?(t=J.normal,a=!0):(t=J.top,a=!1),E.current.enabled=a,_.to(F.current.position,{duration:1.2,ease:"power3.inOut",...t.pos}),_.to(E.current.target,{duration:1.2,ease:"power3.inOut",...t.target,onUpdate:()=>E.current.update()})},[A,L,Z,B]);k.useCallback(e=>{if(!L)return;const t=L.name.toLowerCase();let a=null,n=null;if(t.includes("cubechasis")?(a=q.chasis,n="chasis"):t.includes("fader")&&(a=q.knobs,n=L.name),a&&n&&a[e]){const t=a[e].hex;L.material&&"color"in L.material&&L.material.color.setHex(parseInt(t.replace("#",""),16)),T(t=>"chasis"===n?{...t,chasis:e}:{...t,faders:{...t.faders,[n]:e}})}},[L]);const re=k.useCallback(e=>{if(!F.current||!w.current)return;if("chasis"===O)return void P(null);const t=new b,a=new y,n=w.current.domElement.getBoundingClientRect();a.x=(e.clientX-n.left)/n.width*2-1,a.y=-(e.clientY-n.top)/n.height*2+1,t.setFromCamera(a,F.current);let r=[];if(("faders"===O||"normal"===O)&&(r=A.faders),0===r.length)return;const o=t.intersectObjects(r,!1);if(o.length>0){const t=o[0].object,a=t.name.toLowerCase();a.includes("fader")?e.shiftKey?0===B.length&&L&&L!==t?($([L,t]),P(null),Z(L,4473924),Z(t,4473924)):(P(null),$(e=>{if(0===e.length)return Z(t,4473924),[t];let a;return e.includes(t)?(a=e.filter(e=>e!==t),Z(t,0)):(a=[...e,t],Z(t,4473924)),a.forEach(e=>Z(e,4473924)),a})):($([]),P(t),Z(t,4473924)):a.includes("cubechasis")&&($([]),P(t))}else P(null),$([])},[O,A,L,Z,B]),oe=k.useCallback((e,t)=>{if("chasis"===O)T(t=>({...t,chasis:e})),A.chasis.forEach(e=>{e.material&&"color"in e.material&&e.material.color.setHex(parseInt(t.hex.replace("#",""),16))});else{if("faders"===O&&B.length>0){const a={...M,faders:{...M.faders}};return B.forEach(n=>{n.material=new d({color:t.hex,metalness:0,roughness:1}),a.faders[n.name]=e}),T(a),void $([])}"faders"===O&&L&&(T(t=>({...t,faders:{...t.faders,[L.name]:e}})),L.material=new d({color:t.hex,metalness:0,roughness:1}))}},[O,A,L,B,M]),se=k.useCallback(()=>{if(w.current&&r.current&&F.current){w.current.render(r.current,F.current);const e=w.current.domElement.toDataURL("image/png");V(e)}H(!0)},[]);return e.jsxs(R,{options:{clientId:"test",currency:"USD"},children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:-1,backgroundImage:"url(/textures/fondo.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"}}),e.jsxs("div",{className:"w-full h-screen text-gray-200 overflow-hidden relative",style:{background:"transparent"},children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:0,pointerEvents:"none",background:"transparent"}}),e.jsx("div",{style:{position:"fixed",top:16,left:6,zIndex:51,display:"flex",alignItems:"center",gap:"12px"},children:e.jsx("button",{onClick:()=>window.location.href="https://www.crearttech.com/",className:"relative px-5 py-2 rounded-full font-bold text-sm uppercase tracking-wider text-white transition-all duration-300 hover:-translate-y-0.5",style:{background:"linear-gradient(90deg, rgba(0,255,255,0.18) 0%, rgba(122,0,255,0.18) 50%, rgba(255,0,255,0.18) 100%)",border:"1px solid rgba(0, 255, 255, 0.55)"},children:e.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:[e.jsx("path",{d:"M3 10.5L12 3l9 7.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M5 9.5V21h14V9.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("span",{children:"Home"})]})})}),e.jsx("div",{className:"absolute top-6 left-1/2 transform -translate-x-1/2 z-10 flex items-center gap-3",children:e.jsx("h1",{className:"text-2xl font-bold leading-none m-0",style:{fontFamily:"Gotham Black, Arial, sans-serif",color:"#fff",textShadow:"0 0 12px #a259ff, 0 0 24px #0ff, 0 0 2px #fff",letterSpacing:"0.04em"},children:"FADO"})}),e.jsx("main",{className:"flex w-full h-full",style:{minHeight:"100vh",height:"100vh",position:"relative",zIndex:1,overflow:"hidden",background:"transparent"},children:e.jsx("div",{className:"flex-grow h-full",style:{position:"relative",zIndex:1,background:"transparent"},children:e.jsx("div",{ref:n,className:"w-full h-full transition-all duration-300",onClick:re,style:{position:"relative",zIndex:1}})})}),e.jsxs("div",{className:"fixed top-0 right-0 h-screen border-l border-gray-700 shadow-2xl transition-all duration-400 flex overflow-hidden z-10 "+("normal"===O?"w-28":"w-[320px]"),style:{backgroundColor:"rgba(255, 255, 0, 0.8)",background:"transparent",boxShadow:"0 0 16px 2px rgba(0, 255, 255, 0.4), -6px 0 16px 0 rgba(0, 255, 255, 0.3), inset 0 0 10px rgba(0,0,0,0.8)",borderLeft:"2px solid rgba(0, 255, 255, 0.8)",backdropFilter:"blur(10px)",zIndex:10},children:[e.jsx("div",{className:"w-28 p-4 flex-shrink-0",style:{paddingTop:"200px"},children:e.jsx("div",{className:"flex flex-col gap-1.5",children:[{id:"normal",icon:"M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5M12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17M12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z",title:"Full View - See complete MIDI controller"},{id:"chasis",icon:"fado.png",isImage:!0,title:"Customize Chassis - Change main body color"},{id:"faders",icon:"./textures/fader.png",isImage:!0,title:"Customize Faders - Change slider control colors"}].map(({id:t,icon:a,isImage:n,title:r})=>e.jsx("button",{onClick:()=>ne(t),className:"w-full aspect-square border-2 rounded-lg flex items-center justify-center p-2 transition-all duration-300 text-white relative "+(O===t?"bg-gradient-to-br from-[#00FFFF] to-[#0080FF] border-[#00FFFF] shadow-lg":"border-[#00FFFF] bg-gradient-to-br from-[#000000] to-[#1a1a1a] hover:from-[#00FFFF] hover:to-[#0080FF] hover:border-[#00FFFF] hover:shadow-lg"),onMouseEnter:e=>{const t=document.createElement("div");t.className="custom-tooltip",t.textContent=r,t.style.cssText=`\n                      position: fixed;\n                      left: ${e.clientX-20}px;\n                      top: ${e.clientY-20}px;\n                      transform: translateX(-100%);\n                      background: #dc2626;\n                      color: white;\n                      padding: 12px 16px;\n                      border-radius: 8px;\n                      font-size: 14px;\n                      font-weight: bold;\n                      white-space: nowrap;\n                      z-index: 999999;\n                      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n                      border: 2px solid #f87171;\n                      pointer-events: none;\n                    `,t.id="temp-tooltip",document.body.appendChild(t)},onMouseLeave:()=>{const e=document.getElementById("temp-tooltip");e&&e.remove()},children:n?e.jsx("img",{src:`textures/${a}`,alt:"Menu icon",className:"w-full h-full mx-auto my-auto object-contain",style:{filter:"faders"===t?"brightness(1.5) contrast(1.3) saturate(1.2) drop-shadow(0 0 6px rgba(0, 255, 255, 0.5))":"none",backgroundColor:"faders"===t?"rgba(0, 0, 0, 0.1)":"transparent"},onError:e=>{}}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"w-4/5 h-4/5 mx-auto my-auto fill-white text-white",fill:"#fff",children:e.jsx("path",{d:a})})},t))})}),e.jsxs("div",{className:"flex-1 p-2 flex flex-col",children:[e.jsx("div",{className:"flex items-center pb-5 border-b border-gray-600 pl-0 "+("normal"===O?"justify-center items-center gap-0":"justify-center gap-2"),style:"normal"===O?{minHeight:"48px"}:{},children:"normal"===O?e.jsx("img",{src:"models/logo.png",alt:"Logo",className:"h-6 w-auto",style:{filter:"drop-shadow(0 0 8px #a259ff) drop-shadow(0 0 16px #0ff)"}}):e.jsx(e.Fragment,{children:e.jsx("img",{src:"models/logo.png",alt:"Logo",className:"h-8 w-auto",style:{filter:"drop-shadow(0 0 8px #a259ff) drop-shadow(0 0 16px #0ff)"}})})}),e.jsxs("div",{className:"mt-6 animate-fadeIn",children:[e.jsx("p",{className:"font-black text-sm tracking-wide uppercase m-0 mb-3 text-gray-200 text-left animate-fadeIn",children:"chasis"===O?"CHOOSE THE CHASSIS COLOR":"faders"===O?"CUSTOMIZE THE FADERS":"🎵 FADO"}),e.jsx("div",{className:"grid grid-cols-2 gap-x-0 gap-y-0 p-0 justify-items-start ml-8 animate-scaleIn",children:Object.entries("chasis"===O?q.chasis:"faders"===O?q.faders:q.chasis).map(([t,a],n)=>e.jsx("div",{className:"w-10 h-10 rounded-full cursor-pointer border border-[#a259ff] shadow-[0_0_6px_1px_#a259ff55] transition-all duration-200 hover:scale-110 animate-fadeInUp",style:{backgroundColor:a.hex,animationDelay:50*n+"ms"},title:t,onClick:()=>oe(t,a)},t))})]}),"faders"===O&&L||"faders"===O&&B.length>0&&e.jsxs("div",{className:"mb-4 p-3 bg-gray-800 rounded-lg animate-scaleIn",children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-2 animate-fadeIn",children:B.length>0?`Selección múltiple (${B.length} elementos)`:`Seleccionado: ${L?L.name:""}`}),e.jsx("p",{className:"text-gray-300 text-sm animate-fadeIn",children:B.length>0?"Haz clic en un color para aplicarlo a todos los faders seleccionados":"Haz clic en un color para aplicarlo al fader seleccionado"})]})]})]}),"normal"===O&&e.jsx("button",{onClick:se,className:"fixed bottom-10 left-1/2 transform -translate-x-1/2 z-50 px-6 py-3 text-lg font-bold uppercase tracking-wide text-black bg-purple-400 border-none rounded cursor-pointer transition-all duration-200 shadow-lg hover:bg-yellow-200 hover:scale-105 hover:shadow-xl shadow-[0_0_8px_2px_#a259ff80,0_0_16px_4px_#0ff5]",children:"ADD TO CART"}),U&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:e.jsxs("div",{className:"relative bg-[#3a4060] rounded-2xl shadow-2xl border-2 border-[#a259ff] p-4 md:py-4 md:px-8 w-full max-w-4xl mx-4 animate-fade-in",children:[e.jsx("button",{onClick:()=>H(!1),className:"absolute top-3 right-3 text-gray-400 hover:text-pink-400 text-2xl font-bold",children:"×"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-purple-400 mb-4 text-center tracking-widest",children:"PAGO SEGURO - FADO"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center mb-4",children:[e.jsx("div",{className:"w-full max-w-[320px] md:max-w-[380px] aspect-[4/3] flex items-center justify-center ml-16 md:ml-24",children:W&&e.jsx("img",{src:W,alt:"Custom controller",className:"w-full h-full object-contain",style:{background:"none",boxShadow:"none",border:"none"}})}),e.jsxs("div",{className:"flex-1 mt-8 md:mt-0",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2 text-cyan-400",children:"Tu configuración:"}),e.jsxs("ul",{className:"text-base space-y-1",children:[e.jsxs("li",{children:[e.jsx("b",{children:"Chasis:"})," ",M.chasis]}),e.jsxs("li",{children:[e.jsx("b",{children:"Faders:"})," ",Object.values(M.faders).join(", ")||"Default"]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-cyan-400",children:"Select your currency:"}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx("button",{onClick:()=>K("USD"),className:"px-6 py-3 rounded-lg font-bold text-lg transition-all "+("USD"===G?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-[0_0_12px_2px_#3b82f6]":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:"USD $150.00"}),e.jsx("button",{onClick:()=>K("COP"),className:"px-6 py-3 rounded-lg font-bold text-lg transition-all "+("COP"===G?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-[0_0_12px_2px_#3b82f6]":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:"COP $600,000"})]}),e.jsxs("p",{className:"text-center text-sm text-gray-400 mt-2",children:["Selected price: ",G," ",vt(G).symbol,vt(G).amount]})]}),e.jsxs("div",{className:"flex flex-col gap-4 mt-4",children:[e.jsx("div",{className:"w-full py-3 rounded-lg bg-gray-600 text-gray-400 font-bold text-lg text-center",children:"PayPal temporarily unavailable"}),e.jsxs("button",{onClick:()=>{const e="payu_checkout";if(!window.open("",e))return void alert("Please allow popups to continue with payment");const t=vt(G),a=`${xt.API_KEY}~${xt.MERCHANT_ID}~${Y.referenceCode}~${t.amount}~${G}`,n=z(a).toString(),r=document.createElement("form");r.method="POST",r.action=t.url,r.target=e;const o={merchantId:xt.MERCHANT_ID,accountId:t.accountId,description:`Fado Configurator - ${G} ${t.symbol}${t.amount}`,referenceCode:Y.referenceCode,amount:t.amount,currency:G,buyerEmail:Y.buyerEmail,signature:n,test:"1",confirmationUrl:xt.CONFIRMATION_URL,responseUrl:xt.RESPONSE_URL,lng:t.language,extra1:"Fado",extra2:M.chasis||"Custom",extra3:`Applied colors - Faders: ${Object.keys(M.faders||{}).length}`,extra4:`Fado Configurator - ${G} ${t.symbol}${t.amount}`,payerCountry:"CO",payerCity:"Bogota",payerPhone:"+57-300-1234567",country:"CO",ipAddress:"8.8.4.4"};Object.entries(o).forEach(([e,t])=>{const a=document.createElement("input");a.type="hidden",a.name=e,a.value=t,r.appendChild(a)}),document.body.appendChild(r),r.submit(),document.body.removeChild(r)},className:"w-full py-3 rounded-lg bg-gradient-to-r from-green-400 to-cyan-400 text-white font-bold text-lg shadow-[0_0_12px_2px_#0ff580] hover:scale-105 transition-all mt-2",children:["Pay with PayU (",G," ",vt(G).symbol,vt(G).amount,")"]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-6 text-center",children:"Your purchase is 100% safe and protected."})]})})]})]})},Zt=Object.freeze(Object.defineProperty({__proto__:null,default:Jt},Symbol.toStringTag,{value:"Module"})),Qt=({className:t="",style:a={}})=>{const[n,r]=k.useState(!1),[o]=k.useState(Date.now());return k.useEffect(()=>{const e=setTimeout(()=>{r(!0)},4100);return()=>clearTimeout(e)},[]),e.jsxs("div",{className:t,style:a,children:[e.jsx(qt,{isVisible:!n}),e.jsx("div",{style:{width:"100%",height:"100%",opacity:n?1:0},children:e.jsx(Jt,{})})]})},ea=Object.freeze(Object.defineProperty({__proto__:null,default:Qt},Symbol.toStringTag,{value:"Module"}));function ta(){const[n,r]=k.useState("beato8"),[o,s]=k.useState(!1),[i,l]=k.useState(null),[c,d]=k.useState(!1),[u,h]=k.useState(!1),{isLoading:m}=(()=>{const{progress:e,total:a,loaded:n}=t(),[r,o]=k.useState(!0),[s,i]=k.useState(!1),[l]=k.useState(Date.now());return k.useEffect(()=>{0!==a?e>=100&&n>=a&&i(!0):o(!1)},[e,a,n]),k.useEffect(()=>{if(s){const e=Date.now()-l,t=5e3,a=Math.max(0,t-e),n=setTimeout(()=>{o(!1)},a);return()=>clearTimeout(n)}},[s,l]),{isLoading:r,progress:e,total:a,loaded:n}})(),{prefetchOnHover:p,prefetchOnIntersection:x}=(()=>{const e=k.useCallback(e=>{e().catch(e=>{})},[]),t=k.useCallback((t,a)=>{e(t)},[e]),a=k.useCallback((t,a)=>{if(!a)return;const n=new IntersectionObserver(a=>{a.forEach(a=>{a.isIntersecting&&(e(t),n.disconnect())})},{threshold:.1});return n.observe(a),()=>n.disconnect()},[e]);return{prefetchComponent:e,prefetchOnHover:t,prefetchOnIntersection:a}})(),f=k.useRef(null);k.useEffect(()=>{const e=new URLSearchParams(window.location.search);(e.has("referenceCode")||e.has("reference_sale")||e.has("status")||e.has("state_pol"))&&(s(!0),l({referenceCode:e.get("referenceCode")||e.get("reference_sale"),status:e.get("status")||e.get("state_pol"),amount:e.get("amount")||e.get("value"),currency:e.get("currency"),description:e.get("description"),transactionId:e.get("transaction_id")||e.get("transactionId")}))},[]),k.useEffect(()=>{const e=()=>{const e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),t=window.innerWidth<=768;d(e||t),h(window.innerWidth>window.innerHeight)};return e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},[]),k.useEffect(()=>{f.current&&x(()=>a(()=>Promise.resolve().then(()=>Ot),void 0),f.current)},[x]);return o?e.jsx(ht,{children:e.jsx(k.Suspense,{fallback:e.jsx(ut,{type:"payment"}),children:e.jsx(mt,{})})}):e.jsxs("div",{className:"App",children:[c&&!u&&e.jsx("div",{className:"rotate-screen-overlay",children:e.jsxs("div",{className:"rotate-screen-content",children:[e.jsx("div",{className:"rotate-icon",children:"📱"}),e.jsx("h2",{children:"Gira tu dispositivo"}),e.jsx("p",{children:"Para una mejor experiencia, usa el configurador en modo horizontal"}),e.jsx("div",{className:"rotate-arrow",children:"↻"})]})}),e.jsx(dt,{isVisible:m}),e.jsx("div",{className:"product-menu",children:[{id:"beato8",name:"BEATO8",icon:"textures/beato.png",isImage:!0},{id:"beato16",name:"BEATO16",icon:"textures/beato16.png",isImage:!0},{id:"knobo",name:"KNOBO",icon:"textures/knobo.png",isImage:!0},{id:"mixo",name:"MIXO",icon:"textures/mixo.png",isImage:!0},{id:"loopo",name:"LOOPO",icon:"textures/loopo.png",isImage:!0},{id:"fado",name:"FADO",icon:"textures/fado.png",isImage:!0}].map(t=>e.jsxs("button",{className:"product-menu-item",onClick:()=>{return e=t.id,void r(e);var e},ref:"beato8"===t.id?f:void 0,style:{backgroundColor:n===t.id?"rgba(4, 19, 19, 0.3)":"transparent",background:n===t.id?"linear-gradient(135deg, rgba(0, 255, 255, 0.3) 0%, rgba(0, 128, 255, 0.2) 100%)":"transparent",border:n===t.id?"1px solid #00FFFF":"1px solid rgba(0, 255, 255, 0.3)",color:n===t.id?"#00FFFF":"#ffffff",boxShadow:n===t.id?"0 0 8px 2px rgba(0, 255, 255, 0.4)":"none"},onMouseEnter:e=>{var r;r=t.id,p({beato8:()=>a(()=>Promise.resolve().then(()=>Ot),void 0),beato16:()=>a(()=>Promise.resolve().then(()=>zt),void 0),knobo:()=>a(()=>Promise.resolve().then(()=>Dt),void 0),mixo:()=>a(()=>Promise.resolve().then(()=>Wt),void 0),loopo:()=>a(()=>Promise.resolve().then(()=>Xt),void 0),fado:()=>a(()=>Promise.resolve().then(()=>ea),void 0)}[r],{}),n!==t.id&&(e.currentTarget.style.backgroundColor="rgba(0, 255, 255, 0.2)",e.currentTarget.style.transform="translateX(3px) scale(1.02)",e.currentTarget.style.boxShadow="0 8px 25px rgba(0, 255, 255, 0.4)")},onMouseLeave:e=>{n!==t.id&&(e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.transform="translateX(0) scale(1)",e.currentTarget.style.boxShadow="none")},children:[t.isImage?e.jsx("img",{src:t.icon,alt:t.name,style:{width:"30px",height:"30px",objectFit:"contain",filter:n===t.id?"drop-shadow(0 1px 2px rgba(0,0,0,0.3))":"none"},onError:e=>{e.currentTarget.style.display="none"}}):e.jsx("span",{style:{fontSize:"14px",filter:n===t.id?"drop-shadow(0 1px 2px rgba(0,0,0,0.3))":"none"},children:t.icon}),e.jsx("div",{style:{textAlign:"center"},children:e.jsx("div",{style:{fontSize:"8px",fontWeight:"bold",marginBottom:"1px"},children:t.name})}),n===t.id&&e.jsx("div",{style:{position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",width:"2px",height:"50%",backgroundColor:"#00FFFF",borderRadius:"1px",boxShadow:"0 0 4px 1px rgba(6, 27, 27, 0.6)"}})]},t.id))}),e.jsx("main",{className:"canvas-wrap",children:e.jsx(ht,{children:e.jsx(k.Suspense,{fallback:e.jsx(ut,{type:"configurator"}),children:e.jsxs(pt,{children:["beato8"===n&&e.jsx(Nt,{}),"knobo"===n&&e.jsx(At,{}),"mixo"===n&&e.jsx(Ht,{}),"beato16"===n&&e.jsx(Lt,{}),"loopo"===n&&e.jsx(Yt,{}),"fado"===n&&e.jsx(Qt,{})]})})})})]})}F(document.getElementById("root")).render(e.jsx(k.StrictMode,{children:e.jsx(nt,{children:e.jsx(ta,{})})}));export{it as u};
