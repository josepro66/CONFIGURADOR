const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/PagoFinalizado-DtMjCz6D.js","js/three-d1oHV3Mw.js","js/vendor-Bon8Abu2.js","js/utils-tczIjzQR.js","js/ui-CpRondkb.js","js/payment-BMxBx81N.js","js/ConfiguratorWrapper-D31n2wfz.js","js/GLTFLoader-L0pBLRUW.js","js/OrbitControls-DFclDx1A.js"])))=>i.map(i=>d[i]);
import{j as e,u as t,_ as a,T as o,E as n,A as i,D as s,P as r,M as l,a as c,b as d,B as u,V as h,S as p,W as m,c as f,d as x,e as g,R as b,f as y,C as v,g as w,F as C,h as k,i as j}from"./three-d1oHV3Mw.js";import{r as E,R as S}from"./vendor-Bon8Abu2.js";import{A as _,m as F,g as O,S as z}from"./utils-tczIjzQR.js";import{P as R,h as N}from"./ui-CpRondkb.js";import{P as I,a as P,M}from"./payment-BMxBx81N.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();
/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
var T="popstate";function D(e={}){return function(e,t,a,o={}){let{window:n=document.defaultView,v5Compat:i=!1}=o,s=n.history,r="POP",l=null,c=d();null==c&&(c=0,s.replaceState({...s.state,idx:c},""));function d(){return(s.state||{idx:null}).idx}function u(){r="POP";let e=d(),t=null==e?null:e-c;c=e,l&&l({action:r,location:f.location,delta:t})}function h(e,t){r="PUSH";let a=$(f.location,e,t);c=d()+1;let o=B(a,c),u=f.createHref(a);try{s.pushState(o,"",u)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;n.location.assign(u)}i&&l&&l({action:r,location:f.location,delta:1})}function p(e,t){r="REPLACE";let a=$(f.location,e,t);c=d();let o=B(a,c),n=f.createHref(a);s.replaceState(o,"",n),i&&l&&l({action:r,location:f.location,delta:0})}function m(e){return function(e,t=!1){let a="http://localhost";"undefined"!=typeof window&&(a="null"!==window.location.origin?window.location.origin:window.location.href);L(a,"No window.location.(origin|href) available to create URL");let o="string"==typeof e?e:U(e);o=o.replace(/ $/,"%20"),!t&&o.startsWith("//")&&(o=a+o);return new URL(o,a)}(e)}let f={get action(){return r},get location(){return e(n,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return n.addEventListener(T,u),l=e,()=>{n.removeEventListener(T,u),l=null}},createHref:e=>t(n,e),createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:h,replace:p,go:e=>s.go(e)};return f}(function(e,t){let{pathname:a,search:o,hash:n}=e.location;return $("",{pathname:a,search:o,hash:n},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:U(t)},0,e)}function L(e,t){if(!1===e||null==e)throw new Error(t)}function A(e,t){if(!e)try{throw new Error(t)}catch(a){}}function B(e,t){return{usr:e.state,key:e.key,idx:t}}function $(e,t,a=null,o){return{pathname:"string"==typeof e?e:e.pathname,search:"",hash:"",..."string"==typeof t?H(t):t,state:a,key:t&&t.key||o||Math.random().toString(36).substring(2,10)}}function U({pathname:e="/",search:t="",hash:a=""}){return t&&"?"!==t&&(e+="?"===t.charAt(0)?t:"?"+t),a&&"#"!==a&&(e+="#"===a.charAt(0)?a:"#"+a),e}function H(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substring(a),e=e.substring(0,a));let o=e.indexOf("?");o>=0&&(t.search=e.substring(o),e=e.substring(0,o)),e&&(t.pathname=e)}return t}function V(e,t,a="/"){return function(e,t,a,o){let n="string"==typeof t?H(t):t,i=ne(n.pathname||"/",a);if(null==i)return null;let s=W(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let a=e.length===t.length&&e.slice(0,-1).every((e,a)=>e===t[a]);return a?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let r=null;for(let l=0;null==r&&l<s.length;++l){let e=oe(i);r=te(s[l],e,o)}return r}(e,t,a,!1)}function W(e,t=[],a=[],o=""){let n=(e,n,i)=>{let s={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:n,route:e};s.relativePath.startsWith("/")&&(L(s.relativePath.startsWith(o),`Absolute route path "${s.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),s.relativePath=s.relativePath.slice(o.length));let r=le([o,s.relativePath]),l=a.concat(s);e.children&&e.children.length>0&&(L(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${r}".`),W(e.children,t,l,r)),(null!=e.path||e.index)&&t.push({path:r,score:ee(r,e.index),routesMeta:l})};return e.forEach((e,t)=>{var a;if(""!==e.path&&(null==(a=e.path)?void 0:a.includes("?")))for(let o of q(e.path))n(e,t,o);else n(e,t)}),t}function q(e){let t=e.split("/");if(0===t.length)return[];let[a,...o]=t,n=a.endsWith("?"),i=a.replace(/\?$/,"");if(0===o.length)return n?[i,""]:[i];let s=q(o.join("/")),r=[];return r.push(...s.map(e=>""===e?i:[i,e].join("/"))),n&&r.push(...s),r.map(t=>e.startsWith("/")&&""===t?"/":t)}var G=/^:[\w-]+$/,K=3,Y=2,J=1,X=10,Z=-2,Q=e=>"*"===e;function ee(e,t){let a=e.split("/"),o=a.length;return a.some(Q)&&(o+=Z),t&&(o+=Y),a.filter(e=>!Q(e)).reduce((e,t)=>e+(G.test(t)?K:""===t?J:X),o)}function te(e,t,a=!1){let{routesMeta:o}=e,n={},i="/",s=[];for(let r=0;r<o.length;++r){let e=o[r],l=r===o.length-1,c="/"===i?t:t.slice(i.length)||"/",d=ae({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&a&&!o[o.length-1].route.index&&(d=ae({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(n,d.params),s.push({params:n,pathname:le([i,d.pathname]),pathnameBase:ce(le([i,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(i=le([i,d.pathnameBase]))}return s}function ae(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[a,o]=function(e,t=!1,a=!0){A("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let o=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,a)=>(o.push({paramName:t,isOptional:null!=a}),a?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(o.push({paramName:"*"}),n+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?n+="\\/*$":""!==e&&"/"!==e&&(n+="(?:(?=\\/|$))");let i=new RegExp(n,t?void 0:"i");return[i,o]}(e.path,e.caseSensitive,e.end),n=t.match(a);if(!n)return null;let i=n[0],s=i.replace(/(.)\/+$/,"$1"),r=n.slice(1);return{params:o.reduce((e,{paramName:t,isOptional:a},o)=>{if("*"===t){let e=r[o]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const n=r[o];return e[t]=a&&!n?void 0:(n||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:s,pattern:e}}function oe(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return A(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ne(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,o=e.charAt(a);return o&&"/"!==o?null:e.slice(a)||"/"}function ie(e,t,a,o){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function se(e){let t=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t.map((e,a)=>a===t.length-1?e.pathname:e.pathnameBase)}function re(e,t,a,o=!1){let n;"string"==typeof e?n=H(e):(n={...e},L(!n.pathname||!n.pathname.includes("?"),ie("?","pathname","search",n)),L(!n.pathname||!n.pathname.includes("#"),ie("#","pathname","hash",n)),L(!n.search||!n.search.includes("#"),ie("#","search","hash",n)));let i,s=""===e||""===n.pathname,r=s?"/":n.pathname;if(null==r)i=a;else{let e=t.length-1;if(!o&&r.startsWith("..")){let t=r.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e,t="/"){let{pathname:a,search:o="",hash:n=""}="string"==typeof e?H(e):e,i=a?a.startsWith("/")?a:function(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?a.length>1&&a.pop():"."!==e&&a.push(e)}),a.length>1?a.join("/"):"/"}(a,t):t;return{pathname:i,search:de(o),hash:ue(n)}}(n,i),c=r&&"/"!==r&&r.endsWith("/"),d=(s||"."===r)&&a.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}var le=e=>e.join("/").replace(/\/\/+/g,"/"),ce=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),de=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",ue=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var he=["POST","PUT","PATCH","DELETE"];new Set(he);var pe=["GET",...he];new Set(pe);var me=E.createContext(null);me.displayName="DataRouter";var fe=E.createContext(null);fe.displayName="DataRouterState",E.createContext(!1);var xe=E.createContext({isTransitioning:!1});xe.displayName="ViewTransition",E.createContext(new Map).displayName="Fetchers",E.createContext(null).displayName="Await";var ge=E.createContext(null);ge.displayName="Navigation";var be=E.createContext(null);be.displayName="Location";var ye=E.createContext({outlet:null,matches:[],isDataRoute:!1});ye.displayName="Route";var ve=E.createContext(null);function we(){return null!=E.useContext(be)}function Ce(){return L(we(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(be).location}ve.displayName="RouteError";var ke="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function je(e){E.useContext(ge).static||E.useLayoutEffect(e)}function Ee(){let{isDataRoute:e}=E.useContext(ye);return e?function(){let{router:e}=function(e){let t=E.useContext(me);return L(t,Ne(e)),t}("useNavigate"),t=Ie("useNavigate"),a=E.useRef(!1);return je(()=>{a.current=!0}),E.useCallback(async(o,n={})=>{A(a.current,ke),a.current&&("number"==typeof o?e.navigate(o):await e.navigate(o,{fromRouteId:t,...n}))},[e,t])}():function(){L(we(),"useNavigate() may be used only in the context of a <Router> component.");let e=E.useContext(me),{basename:t,navigator:a}=E.useContext(ge),{matches:o}=E.useContext(ye),{pathname:n}=Ce(),i=JSON.stringify(se(o)),s=E.useRef(!1);return je(()=>{s.current=!0}),E.useCallback((o,r={})=>{if(A(s.current,ke),!s.current)return;if("number"==typeof o)return void a.go(o);let l=re(o,JSON.parse(i),n,"path"===r.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:le([t,l.pathname])),(r.replace?a.replace:a.push)(l,r.state,r)},[t,a,i,n,e])}()}function Se(e,{relative:t}={}){let{matches:a}=E.useContext(ye),{pathname:o}=Ce(),n=JSON.stringify(se(a));return E.useMemo(()=>re(e,JSON.parse(n),o,"path"===t),[e,n,o,t])}function _e(e,t,a,o){L(we(),"useRoutes() may be used only in the context of a <Router> component.");let n,{navigator:i}=E.useContext(ge),{matches:s}=E.useContext(ye),r=s[s.length-1],l=r?r.params:{},c=r?r.pathname:"/",d=r?r.pathnameBase:"/",u=r&&r.route;{let e=u&&u.path||"";Me(c,!u||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}n=Ce();let h=n.pathname||"/",p=h;if("/"!==d){let e=d.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(e.length).join("/")}let m=V(e,{pathname:p});A(u||null!=m,`No routes matched location "${n.pathname}${n.search}${n.hash}" `),A(null==m||void 0!==m[m.length-1].route.element||void 0!==m[m.length-1].route.Component||void 0!==m[m.length-1].route.lazy,`Matched leaf route at location "${n.pathname}${n.search}${n.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let f=function(e,t=[],a=null){if(null==e){if(!a)return null;if(a.errors)e=a.matches;else{if(0!==t.length||a.initialized||!(a.matches.length>0))return null;e=a.matches}}let o=e,n=null==a?void 0:a.errors;if(null!=n){let e=o.findIndex(e=>e.route.id&&void 0!==(null==n?void 0:n[e.route.id]));L(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(n).join(",")}`),o=o.slice(0,Math.min(o.length,e+1))}let i=!1,s=-1;if(a)for(let r=0;r<o.length;r++){let e=o[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(s=r),e.route.id){let{loaderData:t,errors:n}=a,r=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||r){i=!0,o=s>=0?o.slice(0,s+1):[o[0]];break}}}return o.reduceRight((e,r,l)=>{let c,d=!1,u=null,h=null;a&&(c=n&&r.route.id?n[r.route.id]:void 0,u=r.route.errorElement||Oe,i&&(s<0&&0===l?(Me("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,h=null):s===l&&(d=!0,h=r.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,l+1)),m=()=>{let t;return t=c?u:d?h:r.route.Component?E.createElement(r.route.Component,null):r.route.element?r.route.element:e,E.createElement(Re,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:null!=a},children:t})};return a&&(r.route.ErrorBoundary||r.route.errorElement||0===l)?E.createElement(ze,{location:a.location,revalidation:a.revalidation,component:u,error:c,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}(m&&m.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:le([d,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:le([d,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,a,o);return f}function Fe(){let e=function(){var e;let t=E.useContext(ve),a=function(e){let t=E.useContext(fe);return L(t,Ne(e)),t}("useRouteError"),o=Ie("useRouteError");if(void 0!==t)return t;return null==(e=a.errors)?void 0:e[o]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:o},i={padding:"2px 4px",backgroundColor:o},s=null;return s=E.createElement(E.Fragment,null,E.createElement("p",null,"💿 Hey developer 👋"),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:i},"ErrorBoundary")," or"," ",E.createElement("code",{style:i},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),a?E.createElement("pre",{style:n},a):null,s)}E.createContext(null);var Oe=E.createElement(Fe,null),ze=class extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){}render(){return void 0!==this.state.error?E.createElement(ye.Provider,{value:this.props.routeContext},E.createElement(ve.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Re({routeContext:e,match:t,children:a}){let o=E.useContext(me);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(ye.Provider,{value:e},a)}function Ne(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ie(e){let t=function(e){let t=E.useContext(ye);return L(t,Ne(e)),t}(e),a=t.matches[t.matches.length-1];return L(a.route.id,`${e} can only be used on routes that contain a unique "id"`),a.route.id}var Pe={};function Me(e,t,a){t||Pe[e]||(Pe[e]=!0,A(!1,a))}function Te({basename:e="/",children:t=null,location:a,navigationType:o="POP",navigator:n,static:i=!1}){L(!we(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),r=E.useMemo(()=>({basename:s,navigator:n,static:i,future:{}}),[s,n,i]);"string"==typeof a&&(a=H(a));let{pathname:l="/",search:c="",hash:d="",state:u=null,key:h="default"}=a,p=E.useMemo(()=>{let e=ne(l,s);return null==e?null:{location:{pathname:e,search:c,hash:d,state:u,key:h},navigationType:o}},[s,l,c,d,u,h,o]);return A(null!=p,`<Router basename="${s}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),null==p?null:E.createElement(ge.Provider,{value:r},E.createElement(be.Provider,{children:t,value:p}))}E.memo(function({routes:e,future:t,state:a}){return _e(e,0,a,t)});var De="get",Le="application/x-www-form-urlencoded";function Ae(e){return null!=e&&"string"==typeof e.tagName}function Be(e=""){return new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,a)=>{let o=e[a];return t.concat(Array.isArray(o)?o.map(e=>[a,e]):[[a,o]])},[]))}var $e=null;var Ue=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function He(e){return null==e||Ue.has(e)?e:(A(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Le}"`),null)}function Ve(e,t){let a,o,n,i,s;if(Ae(r=e)&&"form"===r.tagName.toLowerCase()){let s=e.getAttribute("action");o=s?ne(s,t):null,a=e.getAttribute("method")||De,n=He(e.getAttribute("enctype"))||Le,i=new FormData(e)}else if(function(e){return Ae(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ae(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let r=e.getAttribute("formaction")||s.getAttribute("action");if(o=r?ne(r,t):null,a=e.getAttribute("formmethod")||s.getAttribute("method")||De,n=He(e.getAttribute("formenctype"))||He(s.getAttribute("enctype"))||Le,i=new FormData(s,e),!function(){if(null===$e)try{new FormData(document.createElement("form"),0),$e=!1}catch(e){$e=!0}return $e}()){let{name:t,type:a,value:o}=e;if("image"===a){let e=t?`${t}.`:"";i.append(`${e}x`,"0"),i.append(`${e}y`,"0")}else t&&i.append(t,o)}}else{if(Ae(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=De,o=null,n=Le,s=e}var r;return i&&"text/plain"===n&&(s=i,i=void 0),{action:o,method:a.toLowerCase(),encType:n,formData:i,body:s}}function We(e,t){if(!1===e||null==e)throw new Error(t)}function qe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"==typeof e.imageSrcSet&&"string"==typeof e.imageSizes:"string"==typeof e.rel&&"string"==typeof e.href)}async function Ge(e,t,a){return function(e,t){let a=new Set;return new Set(t),e.reduce((e,t)=>{let o=JSON.stringify(function(e){let t={},a=Object.keys(e).sort();for(let o of a)t[o]=e[o];return t}(t));return a.has(o)||(a.add(o),e.push({key:o,link:t})),e},[])}((await Promise.all(e.map(async e=>{let o=t.routes[e.route.id];if(o){let e=await async function(e,t){if(e.id in t)return t[e.id];try{let a=await import(e.module);return t[e.id]=a,a}catch(a){return window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}(o,a);return e.links?e.links():[]}return[]}))).flat(1).filter(qe).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}function Ke(e,t,a,o,n,i){let s=(e,t)=>!a[t]||e.route.id!==a[t].route.id,r=(e,t)=>{var o;return a[t].pathname!==e.pathname||(null==(o=a[t].route.path)?void 0:o.endsWith("*"))&&a[t].params["*"]!==e.params["*"]};return"assets"===i?t.filter((e,t)=>s(e,t)||r(e,t)):"data"===i?t.filter((t,i)=>{var l;let c=o.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(s(t,i)||r(t,i))return!0;if(t.route.shouldRevalidate){let o=t.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:(null==(l=a[0])?void 0:l.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"==typeof o)return o}return!0}):[]}function Ye(e,t,{includeHydrateFallback:a}={}){return o=e.map(e=>{let o=t.routes[e.route.id];if(!o)return[];let n=[o.module];return o.clientActionModule&&(n=n.concat(o.clientActionModule)),o.clientLoaderModule&&(n=n.concat(o.clientLoaderModule)),a&&o.hydrateFallbackModule&&(n=n.concat(o.hydrateFallbackModule)),o.imports&&(n=n.concat(o.imports)),n}).flat(1),[...new Set(o)];var o}function Je(){let e=E.useContext(me);return We(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Xe=E.createContext(void 0);function Ze(){let e=E.useContext(Xe);return We(e,"You must render this element inside a <HydratedRouter> element"),e}function Qe(e,t){return a=>{e&&e(a),a.defaultPrevented||t(a)}}function et({page:e,...t}){let{router:a}=Je(),o=E.useMemo(()=>V(a.routes,e,a.basename),[a.routes,e,a.basename]);return o?E.createElement(tt,{page:e,matches:o,...t}):null}function tt({page:e,matches:t,...a}){let o=Ce(),{manifest:n,routeModules:i}=Ze(),{basename:s}=Je(),{loaderData:r,matches:l}=function(){let e=E.useContext(fe);return We(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}(),c=E.useMemo(()=>Ke(e,t,l,n,o,"data"),[e,t,l,n,o]),d=E.useMemo(()=>Ke(e,t,l,n,o,"assets"),[e,t,l,n,o]),u=E.useMemo(()=>{if(e===o.pathname+o.search+o.hash)return[];let a=new Set,l=!1;if(t.forEach(e=>{var t;let o=n.routes[e.route.id];o&&o.hasLoader&&(!c.some(t=>t.route.id===e.route.id)&&e.route.id in r&&(null==(t=i[e.route.id])?void 0:t.shouldRevalidate)||o.hasClientLoader?l=!0:a.add(e.route.id))}),0===a.size)return[];let d=function(e,t,a){let o="string"==typeof e?new URL(e,"undefined"==typeof window?"server://singlefetch/":window.location.origin):e;return"/"===o.pathname?o.pathname=`_root.${a}`:t&&"/"===ne(o.pathname,t)?o.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${a}`,o}(e,s,"data");return l&&a.size>0&&d.searchParams.set("_routes",t.filter(e=>a.has(e.route.id)).map(e=>e.route.id).join(",")),[d.pathname+d.search]},[s,r,o,n,c,t,e,i]),h=E.useMemo(()=>Ye(d,n),[d,n]),p=function(e){let{manifest:t,routeModules:a}=Ze(),[o,n]=E.useState([]);return E.useEffect(()=>{let o=!1;return Ge(e,t,a).then(e=>{o||n(e)}),()=>{o=!0}},[e,t,a]),o}(d);return E.createElement(E.Fragment,null,u.map(e=>E.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...a})),h.map(e=>E.createElement("link",{key:e,rel:"modulepreload",href:e,...a})),p.map(({key:e,link:t})=>E.createElement("link",{key:e,nonce:a.nonce,...t})))}function at(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}Xe.displayName="FrameworkContext";var ot="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{ot&&(window.__reactRouterVersion="7.8.0")}catch(Cl){}function nt({basename:e,children:t,window:a}){let o=E.useRef();null==o.current&&(o.current=D({window:a,v5Compat:!0}));let n=o.current,[i,s]=E.useState({action:n.action,location:n.location}),r=E.useCallback(e=>{E.startTransition(()=>s(e))},[s]);return E.useLayoutEffect(()=>n.listen(r),[n,r]),E.createElement(Te,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:n})}var it=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,st=E.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:o,reloadDocument:n,replace:i,state:s,target:r,to:l,preventScrollReset:c,viewTransition:d,...u},h){let p,{basename:m}=E.useContext(ge),f="string"==typeof l&&it.test(l),x=!1;if("string"==typeof l&&f&&(p=l,ot))try{let e=new URL(window.location.href),t=l.startsWith("//")?new URL(e.protocol+l):new URL(l),a=ne(t.pathname,m);t.origin===e.origin&&null!=a?l=a+t.search+t.hash:x=!0}catch(Cl){A(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=function(e,{relative:t}={}){L(we(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:o}=E.useContext(ge),{hash:n,pathname:i,search:s}=Se(e,{relative:t}),r=i;return"/"!==a&&(r="/"===i?a:le([a,i])),o.createHref({pathname:r,search:s,hash:n})}(l,{relative:o}),[b,y,v]=function(e,t){let a=E.useContext(Xe),[o,n]=E.useState(!1),[i,s]=E.useState(!1),{onFocus:r,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:u}=t,h=E.useRef(null);E.useEffect(()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return h.current&&e.observe(h.current),()=>{e.disconnect()}}},[e]),E.useEffect(()=>{if(o){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[o]);let p=()=>{n(!0)},m=()=>{n(!1),s(!1)};return a?"intent"!==e?[i,h,{}]:[i,h,{onFocus:Qe(r,p),onBlur:Qe(l,m),onMouseEnter:Qe(c,p),onMouseLeave:Qe(d,m),onTouchStart:Qe(u,p)}]:[!1,h,{}]}(a,u),w=function(e,{target:t,replace:a,state:o,preventScrollReset:n,relative:i,viewTransition:s}={}){let r=Ee(),l=Ce(),c=Se(e,{relative:i});return E.useCallback(d=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(d,t)){d.preventDefault();let t=void 0!==a?a:U(l)===U(c);r(e,{replace:t,state:o,preventScrollReset:n,relative:i,viewTransition:s})}},[l,r,c,a,o,t,e,n,i,s])}(l,{replace:i,state:s,target:r,preventScrollReset:c,relative:o,viewTransition:d});let C=E.createElement("a",{...u,...v,href:p||g,onClick:x||n?e:function(t){e&&e(t),t.defaultPrevented||w(t)},ref:at(h,y),target:r,"data-discover":f||"render"!==t?void 0:"true"});return b&&!f?E.createElement(E.Fragment,null,C,E.createElement(et,{page:g})):C});function rt(e){let t=E.useContext(me);return L(t,function(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}(e)),t}function lt(e){A("undefined"!=typeof URLSearchParams,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=E.useRef(Be(e)),a=E.useRef(!1),o=Ce(),n=E.useMemo(()=>function(e,t){let a=Be(e);return t&&t.forEach((e,o)=>{a.has(o)||t.getAll(o).forEach(e=>{a.append(o,e)})}),a}(o.search,a.current?null:t.current),[o.search]),i=Ee(),s=E.useCallback((e,t)=>{const o=Be("function"==typeof e?e(new URLSearchParams(n)):e);a.current=!0,i("?"+o,t)},[i,n]);return[n,s]}st.displayName="Link",E.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:o=!1,style:n,to:i,viewTransition:s,children:r,...l},c){let d=Se(i,{relative:l.relative}),u=Ce(),h=E.useContext(fe),{navigator:p,basename:m}=E.useContext(ge),f=null!=h&&function(e,{relative:t}={}){let a=E.useContext(xe);L(null!=a,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=rt("useViewTransitionState"),n=Se(e,{relative:t});if(!a.isTransitioning)return!1;let i=ne(a.currentLocation.pathname,o)||a.currentLocation.pathname,s=ne(a.nextLocation.pathname,o)||a.nextLocation.pathname;return null!=ae(n.pathname,s)||null!=ae(n.pathname,i)}(d)&&!0===s,x=p.encodeLocation?p.encodeLocation(d).pathname:d.pathname,g=u.pathname,b=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;t||(g=g.toLowerCase(),b=b?b.toLowerCase():null,x=x.toLowerCase()),b&&m&&(b=ne(b,m)||b);const y="/"!==x&&x.endsWith("/")?x.length-1:x.length;let v,w=g===x||!o&&g.startsWith(x)&&"/"===g.charAt(y),C=null!=b&&(b===x||!o&&b.startsWith(x)&&"/"===b.charAt(x.length)),k={isActive:w,isPending:C,isTransitioning:f},j=w?e:void 0;v="function"==typeof a?a(k):[a,w?"active":null,C?"pending":null,f?"transitioning":null].filter(Boolean).join(" ");let S="function"==typeof n?n(k):n;return E.createElement(st,{...l,"aria-current":j,className:v,ref:c,style:S,to:i,viewTransition:s},"function"==typeof r?r(k):r)}).displayName="NavLink",E.forwardRef(({discover:e="render",fetcherKey:t,navigate:a,reloadDocument:o,replace:n,state:i,method:s=De,action:r,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:u,...h},p)=>{let m=function(){let{router:e}=rt("useSubmit"),{basename:t}=E.useContext(ge),a=Ie("useRouteId");return E.useCallback(async(o,n={})=>{let{action:i,method:s,encType:r,formData:l,body:c}=Ve(o,t);if(!1===n.navigate){let t=n.fetcherKey||dt();await e.fetch(t,a,n.action||i,{preventScrollReset:n.preventScrollReset,formData:l,body:c,formMethod:n.method||s,formEncType:n.encType||r,flushSync:n.flushSync})}else await e.navigate(n.action||i,{preventScrollReset:n.preventScrollReset,formData:l,body:c,formMethod:n.method||s,formEncType:n.encType||r,replace:n.replace,state:n.state,fromRouteId:a,flushSync:n.flushSync,viewTransition:n.viewTransition})},[e,t,a])}(),f=function(e,{relative:t}={}){let{basename:a}=E.useContext(ge),o=E.useContext(ye);L(o,"useFormAction must be used inside a RouteContext");let[n]=o.matches.slice(-1),i={...Se(e||".",{relative:t})},s=Ce();if(null==e){i.search=s.search;let e=new URLSearchParams(i.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let a=e.toString();i.search=a?`?${a}`:""}}e&&"."!==e||!n.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==a&&(i.pathname="/"===i.pathname?a:le([a,i.pathname]));return U(i)}(r,{relative:c}),x="get"===s.toLowerCase()?"get":"post",g="string"==typeof r&&it.test(r);return E.createElement("form",{ref:p,method:x,action:f,onSubmit:o?l:e=>{if(l&&l(e),e.defaultPrevented)return;e.preventDefault();let o=e.nativeEvent.submitter,r=(null==o?void 0:o.getAttribute("formmethod"))||s;m(o||e.currentTarget,{fetcherKey:t,method:r,navigate:a,replace:n,state:i,relative:c,preventScrollReset:d,viewTransition:u})},...h,"data-discover":g||"render"!==e?void 0:"true"})}).displayName="Form";var ct=0,dt=()=>`__${String(++ct)}__`;const ut=({isVisible:t})=>{const[a,o]=E.useState(0),[n]=E.useState(Date.now());return E.useEffect(()=>{if(t){const e=setInterval(()=>{const e=Date.now()-n,t=Math.min(e/3e3*100,100);o(t)},50);return()=>clearInterval(e)}o(0)},[t,n]),e.jsx(_,{children:t&&e.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundImage:"url(/textures/carga.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:9999,color:"white",fontFamily:"Arial, sans-serif"},children:[e.jsx(F.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},style:{fontSize:"32px",fontWeight:"bold",marginBottom:"20px",color:"#00FFFF",textShadow:"0 0 20px #00FFFF, 0 0 40px #0080FF"},children:"BEATO8"}),e.jsx(F.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8,ease:"easeOut"},style:{fontSize:"18px",fontWeight:"bold",marginBottom:"40px",color:"#ffffff",textShadow:"0 0 10px #ffffff"},children:"Features: Metal body, 8 ARCADE buttons, and 4 assignable knobs."}),e.jsx(F.div,{animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"},style:{width:"100px",height:"100px",border:"6px solid rgba(0, 255, 255, 0.1)",borderTop:"6px solid #00FFFF",borderRadius:"50%",marginBottom:"40px",boxShadow:"0 0 30px rgba(0, 255, 255, 0.4)"}}),e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},style:{fontSize:"20px",fontWeight:"bold",textAlign:"center",marginBottom:"20px",color:"#00FFFF"},children:["Cargando BEATO8... ",Math.round(a),"%"]}),a>=100&&e.jsx(F.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.8},style:{fontSize:"18px",color:"#00FF80",fontWeight:"bold",marginBottom:"30px",textShadow:"0 0 10px #00FF80"},children:"¡BEATO8 listo para configurar!"}),e.jsx(F.div,{style:{width:"400px",height:"8px",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"4px",overflow:"hidden",boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.3)",marginBottom:"40px"},children:e.jsx(F.div,{initial:{width:0},animate:{width:`${a}%`},transition:{duration:.1,ease:"linear"},style:{width:"100%",height:"100%",background:"linear-gradient(90deg, #00FFFF, #0080FF, #00FFFF)",borderRadius:"4px",boxShadow:"0 0 15px rgba(0, 255, 255, 0.6)",backgroundSize:"200% 100%",animation:"shimmer 2s infinite"}})}),e.jsx(F.div,{style:{display:"flex",gap:"12px",marginTop:"20px"},children:[0,1,2].map(t=>e.jsx(F.div,{animate:{scale:[1,1.3,1],opacity:[.4,1,.4]},transition:{duration:2,repeat:1/0,delay:.3*t,ease:"easeInOut"},style:{width:"12px",height:"12px",backgroundColor:"#00FFFF",borderRadius:"50%",boxShadow:"0 0 10px rgba(0, 255, 255, 0.6)"}},t))}),e.jsx("style",{children:"\n            @keyframes shimmer {\n              0% { background-position: -200% 0; }\n              100% { background-position: 200% 0; }\n            }\n          "})]})})},ht=({type:t="default",className:a=""})=>{const o="animate-pulse bg-gray-700 rounded";switch(t){case"configurator":return e.jsxs("div",{className:`w-full h-screen ${a}`,children:[e.jsx("div",{className:`${o} w-full h-3/4 mb-4`}),e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsx("div",{className:`${o} w-24 h-10`}),e.jsx("div",{className:`${o} w-24 h-10`}),e.jsx("div",{className:`${o} w-24 h-10`})]}),e.jsx("div",{className:"flex gap-2",children:Array.from({length:8}).map((t,a)=>e.jsx("div",{className:`${o} w-12 h-12 rounded-full`},a))})]});case"payment":return e.jsxs("div",{className:`w-full max-w-md mx-auto p-6 ${a}`,children:[e.jsx("div",{className:`${o} w-full h-12 mb-4`}),e.jsx("div",{className:`${o} w-full h-12 mb-4`}),e.jsx("div",{className:`${o} w-full h-12 mb-4`}),e.jsx("div",{className:`${o} w-32 h-12 mx-auto`})]});case"product":return e.jsxs("div",{className:`w-full ${a}`,children:[e.jsx("div",{className:`${o} w-full h-64 mb-4`}),e.jsx("div",{className:`${o} w-3/4 h-6 mb-2`}),e.jsx("div",{className:`${o} w-1/2 h-4 mb-4`}),e.jsx("div",{className:`${o} w-24 h-10`})]});default:return e.jsx("div",{className:`w-full h-32 ${a}`,children:e.jsx("div",{className:`${o} w-full h-full`})})}};class pt extends E.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){}render(){return this.state.hasError?this.props.fallback||e.jsxs("div",{className:"error-boundary-fallback",children:[e.jsx("h2",{children:"Algo salió mal"}),e.jsx("p",{children:"No se pudo cargar el componente. Por favor, recarga la página."}),e.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"10px 20px",backgroundColor:"#00FFFF",color:"#000",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Recargar página"})]}):this.props.children}}S.lazy(()=>a(()=>Promise.resolve().then(()=>Gr),[]).then(e=>({default:e.default}))),S.lazy(()=>a(()=>Promise.resolve().then(()=>Zr),void 0).then(e=>({default:e.default}))),S.lazy(()=>a(()=>Promise.resolve().then(()=>ol),void 0).then(e=>({default:e.default}))),S.lazy(()=>a(()=>Promise.resolve().then(()=>ll),void 0).then(e=>({default:e.default}))),S.lazy(()=>a(()=>Promise.resolve().then(()=>pl),void 0).then(e=>({default:e.default}))),S.lazy(()=>a(()=>Promise.resolve().then(()=>bl),void 0).then(e=>({default:e.default})));const mt=S.lazy(()=>a(()=>import("./PagoFinalizado-DtMjCz6D.js"),__vite__mapDeps([0,1,2,3,4,5])).then(e=>({default:e.default}))),ft=S.lazy(()=>a(()=>import("./ConfiguratorWrapper-D31n2wfz.js"),__vite__mapDeps([6,1,2])).then(e=>({default:e.default}))),xt="pointermove",gt="tsParticles - Error",bt=100,yt=.5,vt=1e3,wt=0,Ct=0,kt=0,jt="random",Et="mid",St=255,_t=360,Ft=255;var Ot,zt;function Rt(e){return"string"==typeof e}function Nt(e){return"number"==typeof e}function It(e){return"object"==typeof e&&null!==e}function Pt(e){return Array.isArray(e)}function Mt(e){return null==e}(zt=Ot||(Ot={})).bottom="bottom",zt.bottomLeft="bottom-left",zt.bottomRight="bottom-right",zt.left="left",zt.none="none",zt.right="right",zt.top="top",zt.topLeft="top-left",zt.topRight="top-right",zt.outside="outside",zt.inside="inside";class Tt{constructor(e,t,a){if(this._updateFromAngle=(e,t)=>{this.x=Math.cos(e)*t,this.y=Math.sin(e)*t},!Nt(e)&&e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:kt}else{if(void 0===e||void 0===t)throw new Error(`${gt} Vector3d not initialized correctly`);this.x=e,this.y=t,this.z=a??kt}}static get origin(){return Tt.create(wt,Ct,kt)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return Tt.create(e.x,e.y,e.z)}static create(e,t,a){return new Tt(e,t,a)}add(e){return Tt.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return Tt.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return Tt.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return Tt.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;0!=e&&this.multTo(1/e)}rotate(e){return Tt.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),kt)}setTo(e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:kt}sub(e){return Tt.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class Dt extends Tt{constructor(e,t){super(e,t,kt)}static get origin(){return Dt.create(wt,Ct)}static clone(e){return Dt.create(e.x,e.y)}static create(e,t){return new Dt(e,t)}}let Lt=Math.random;function At(){return Bt(Lt(),0,1-Number.EPSILON)}function Bt(e,t,a){return Math.min(Math.max(e,t),a)}function $t(e,t,a,o){return Math.floor((e*a+t*o)/(a+o))}function Ut(e){const t=Wt(e);let a=Vt(e);return t===a&&(a=0),At()*(t-a)+a}function Ht(e){return Nt(e)?e:Ut(e)}function Vt(e){return Nt(e)?e:e.min}function Wt(e){return Nt(e)?e:e.max}function qt(e,t){if(e===t||void 0===t&&Nt(e))return e;const a=Vt(e),o=Wt(e);return void 0!==t?{min:Math.min(a,t),max:Math.max(o,t)}:qt(a,o)}function Gt(e,t){const a=e.x-t.x,o=e.y-t.y;return{dx:a,dy:o,distance:Math.sqrt(a**2+o**2)}}function Kt(e,t){return Gt(e,t).distance}function Yt(e){return e*Math.PI/180}function Jt(e,t,a,o){return Dt.create(e.x*(a-o)/(a+o)+2*t.x*o/(a+o),e.y)}function Xt(e){var t,a;return{x:((null==(t=e.position)?void 0:t.x)??At()*bt)*e.size.width/bt,y:((null==(a=e.position)?void 0:a.y)??At()*bt)*e.size.height/bt}}function Zt(e){var t,a;const o={x:void 0!==(null==(t=e.position)?void 0:t.x)?Ht(e.position.x):void 0,y:void 0!==(null==(a=e.position)?void 0:a.y)?Ht(e.position.y):void 0};return Xt({size:e.size,position:o})}function Qt(e){return e?e.endsWith("%")?parseFloat(e)/bt:parseFloat(e):1}var ea,ta,aa,oa,na,ia,sa,ra,la,ca,da,ua;(ta=ea||(ea={})).auto="auto",ta.increase="increase",ta.decrease="decrease",ta.random="random",(oa=aa||(aa={})).increasing="increasing",oa.decreasing="decreasing",(ia=na||(na={})).none="none",ia.max="max",ia.min="min",(ra=sa||(sa={})).bottom="bottom",ra.left="left",ra.right="right",ra.top="top",(ca=la||(la={})).precise="precise",ca.percent="percent",(ua=da||(da={})).max="max",ua.min="min",ua.random="random";const ha={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function pa(){return ha}function ma(e){const t={bounced:!1},{pSide:a,pOtherSide:o,rectSide:n,rectOtherSide:i,velocity:s,factor:r}=e;return o.min<i.min||o.min>i.max||o.max<i.min||o.max>i.max||(a.max>=n.min&&a.max<=(n.max+n.min)*yt&&s>0||a.min<=n.max&&a.min>(n.max+n.min)*yt&&s<0)&&(t.velocity=s*-r,t.bounced=!0),t}function fa(){return"undefined"==typeof window||!window||void 0===window.document||!window.document}function xa(e,t){return e===t||Pt(t)&&t.indexOf(e)>-1}async function ga(e,t){try{await document.fonts.load(`${t??"400"} 36px '${e??"Verdana"}'`)}catch{}}function ba(e){return Math.floor(At()*e.length)}function ya(e,t,a=!0){return e[void 0!==t&&a?t%e.length:ba(e)]}function va(e,t,a,o,n){return function(e,t,a,o){let n=!0;o&&o!==sa.bottom||(n=e.top<t.height+a.x);!n||o&&o!==sa.left||(n=e.right>a.x);!n||o&&o!==sa.right||(n=e.left<t.width+a.y);!n||o&&o!==sa.top||(n=e.bottom>a.y);return n}(wa(e,o??0),t,a,n)}function wa(e,t){return{bottom:e.y+t,left:e.x-t,right:e.x+t,top:e.y-t}}function Ca(e,...t){for(const a of t){if(null==a)continue;if(!It(a)){e=a;continue}const t=Array.isArray(a);!t||!It(e)&&e&&Array.isArray(e)?t||!It(e)&&e&&!Array.isArray(e)||(e={}):e=[];for(const o in a){if("__proto__"===o)continue;const t=a[o],n=e;n[o]=It(t)&&Array.isArray(t)?t.map(e=>Ca(n[o],e)):Ca(n[o],t)}}return e}function ka(e,t){return!!Ra(t,t=>t.enable&&xa(e,t.mode))}function ja(e,t,a){Oa(t,t=>{const o=t.mode;t.enable&&xa(e,o)&&function(e,t){const a=e.selectors;Oa(a,a=>{t(a,e)})}(t,a)})}function Ea(e,t){if(t&&e)return Ra(e,e=>function(e,t){const a=Oa(t,t=>e.matches(t));return Pt(a)?a.some(e=>e):a}(t,e.selectors))}function Sa(e){return{position:e.getPosition(),radius:e.getRadius(),mass:e.getMass(),velocity:e.velocity,factor:Dt.create(Ht(e.options.bounce.horizontal.value),Ht(e.options.bounce.vertical.value))}}function _a(e,t){const{x:a,y:o}=e.velocity.sub(t.velocity),[n,i]=[e.position,t.position],{dx:s,dy:r}=Gt(i,n);if(a*s+o*r<0)return;const l=-Math.atan2(r,s),c=e.mass,d=t.mass,u=e.velocity.rotate(l),h=t.velocity.rotate(l),p=Jt(u,h,c,d),m=Jt(h,u,c,d),f=p.rotate(-l),x=m.rotate(-l);e.velocity.x=f.x*e.factor.x,e.velocity.y=f.y*e.factor.y,t.velocity.x=x.x*t.factor.x,t.velocity.y=x.y*t.factor.y}function Fa(e,t){const a=wa(e.getPosition(),e.getRadius()),o=e.options.bounce,n=ma({pSide:{min:a.left,max:a.right},pOtherSide:{min:a.top,max:a.bottom},rectSide:{min:t.left,max:t.right},rectOtherSide:{min:t.top,max:t.bottom},velocity:e.velocity.x,factor:Ht(o.horizontal.value)});n.bounced&&(void 0!==n.velocity&&(e.velocity.x=n.velocity),void 0!==n.position&&(e.position.x=n.position));const i=ma({pSide:{min:a.top,max:a.bottom},pOtherSide:{min:a.left,max:a.right},rectSide:{min:t.top,max:t.bottom},rectOtherSide:{min:t.left,max:t.right},velocity:e.velocity.y,factor:Ht(o.vertical.value)});i.bounced&&(void 0!==i.velocity&&(e.velocity.y=i.velocity),void 0!==i.position&&(e.position.y=i.position))}function Oa(e,t){return Pt(e)?e.map((e,a)=>t(e,a)):t(e,0)}function za(e,t,a){return Pt(e)?ya(e,t,a):e}function Ra(e,t){if(Pt(e))return e.find((e,a)=>t(e,a));return t(e,0)?e:void 0}function Na(e,t){return function(e,t){if(e.mode!==la.percent){const{mode:t,...a}=e;return a}return"x"in e?{x:e.x/bt*t.width,y:e.y/bt*t.height}:{width:e.width/bt*t.width,height:e.height/bt*t.height}}(e,t)}function Ia(e,t,a,o,n){if(e.destroyed||!t||!t.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0))return;const i=(t.velocity??0)*n.factor,s=t.min,r=t.max,l=t.decay??1;if(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=n.value),!((t.delayTime??0)>0&&t.time<(t.delayTime??0))){switch(t.status){case aa.increasing:t.value>=r?(a?t.status=aa.decreasing:t.value-=r,t.loops||(t.loops=0),t.loops++):t.value+=i;break;case aa.decreasing:t.value<=s?(a?t.status=aa.increasing:t.value+=r,t.loops||(t.loops=0),t.loops++):t.value-=i}t.velocity&&1!==l&&(t.velocity*=l),function(e,t,a,o,n){switch(t){case na.max:a>=n&&e.destroy();break;case na.min:a<=o&&e.destroy()}}(e,o,t.value,s,r),e.destroyed||(t.value=Bt(t.value,s,r))}}var Pa,Ma,Ta,Da,La,Aa,Ba,$a,Ua,Ha,Va,Wa,qa,Ga,Ka,Ya,Ja,Xa,Za,Qa,eo;function to(e,t,a,o=!0){if(!t)return;const n=Rt(t)?{value:t}:t;if(Rt(n.value))return ao(e,n.value,a,o);if(Pt(n.value))return to(e,{value:ya(n.value,a,o)});for(const i of e.colorManagers.values()){const e=i.handleRangeColor(n);if(e)return e}}function ao(e,t,a,o=!0){if(!t)return;const n=Rt(t)?{value:t}:t;if(Rt(n.value))return n.value===jt?so():function(e,t){return function(e,t){if(t)for(const a of e.colorManagers.values())if(t.startsWith(a.stringPrefix))return a.parseString(t)}(e,t)}(e,n.value);if(Pt(n.value))return ao(e,{value:ya(n.value,a,o)});for(const i of e.colorManagers.values()){const e=i.handleColor(n);if(e)return e}}function oo(e,t,a,o=!0){const n=to(e,t,a,o);return n?no(n):void 0}function no(e){const t=e.r/St,a=e.g/St,o=e.b/St,n=Math.max(t,a,o),i=Math.min(t,a,o),s={h:0,l:(n+i)*yt,s:0};return n!==i&&(s.s=s.l<yt?(n-i)/(n+i):(n-i)/(2-n-i),s.h=t===n?(a-o)/(n-i):s.h=a===n?2+(o-t)/(n-i):4+(t-a)/(n-i)),s.l*=100,s.s*=100,s.h*=60,s.h<0&&(s.h+=_t),s.h>=_t&&(s.h-=_t),s}function io(e){const t=(e.h%_t+_t)%_t,a=Math.max(0,Math.min(100,e.s)),o=Math.max(0,Math.min(100,e.l)),n=t/_t,i=a/100,s=o/100;if(0===a){const e=Math.round(s*Ft);return{r:e,g:e,b:e}}const r=(e,t,a)=>{if(a<0&&a++,a>1&&a--,6*a<1)return e+6*(t-e)*a;if(2*a<1)return t;if(3*a<2){return e+(t-e)*(2/3-a)*6}return e},l=s<yt?s*(1+i):s+i-s*i,c=2*s-l,d=1/3,u=Math.min(Ft,Ft*r(c,l,n+d)),h=Math.min(Ft,Ft*r(c,l,n)),p=Math.min(Ft,Ft*r(c,l,n-d));return{r:Math.round(u),g:Math.round(h),b:Math.round(p)}}function so(e){return{b:Math.floor(Ut(qt(0,256))),g:Math.floor(Ut(qt(0,256))),r:Math.floor(Ut(qt(0,256)))}}function ro(e,t){return`rgba(${e.r}, ${e.g}, ${e.b}, ${t??1})`}function lo(e,t){return`hsla(${e.h}, ${e.s}%, ${e.l}%, ${t??1})`}function co(e,t,a,o){let n=e,i=t;return void 0===n.r&&(n=io(e)),void 0===i.r&&(i=io(t)),{b:$t(n.b,i.b,a,o),g:$t(n.g,i.g,a,o),r:$t(n.r,i.r,a,o)}}function uo(e,t,a){if(a===jt)return so();if(a!==Et)return a;{const a=e.getFillColor()??e.getStrokeColor(),o=(null==t?void 0:t.getFillColor())??(null==t?void 0:t.getStrokeColor());if(a&&o&&t)return co(a,o,e.getRadius(),t.getRadius());{const e=a??o;if(e)return io(e)}}}function ho(e,t,a,o){const n=Rt(t)?t:t.value;return n===jt?o?to(e,{value:n}):a?jt:Et:n===Et?Et:to(e,{value:n})}function po(e,t,a){const o={h:{enable:!1,value:e.h},s:{enable:!1,value:e.s},l:{enable:!1,value:e.l}};return t&&(mo(o.h,t.h,a),mo(o.s,t.s,a),mo(o.l,t.l,a)),o}function mo(e,t,a){e.enable=t.enable,e.enable?(e.velocity=Ht(t.speed)/bt*a,e.decay=1-Ht(t.decay),e.status=aa.increasing,e.loops=0,e.maxLoops=Ht(t.count),e.time=0,e.delayTime=Ht(t.delay)*vt,t.sync||(e.velocity*=At(),e.value*=At()),e.initialValue=e.value,e.offset=qt(t.offset)):e.velocity=0}function fo(e,t,a,o){if(!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=o.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0))return;const n=e.offset?Ut(e.offset):0,i=(e.velocity??0)*o.factor+3.6*n,s=e.decay??1,r=Wt(t),l=Vt(t);if(a&&e.status!==aa.increasing){e.value-=i;const t=0;e.value<t&&(e.loops||(e.loops=0),e.loops++,e.status=aa.increasing)}else e.value+=i,e.value>r&&(e.loops||(e.loops=0),e.loops++,a?e.status=aa.decreasing:e.value-=r);e.velocity&&1!==s&&(e.velocity*=s),e.value=Bt(e.value,l,r)}function xo(e,t){if(!e)return;const{h:a,s:o,l:n}=e,i={min:0,max:100},s={min:0,max:100};a&&fo(a,{min:0,max:360},!1,t),o&&fo(o,i,!0,t),n&&fo(n,s,!0,t)}function go(e,t,a){e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(a.x,a.y),e.closePath()}(Ma=Pa||(Pa={})).darken="darken",Ma.enlighten="enlighten";class bo{constructor(){this.value=""}static create(e,t){const a=new bo;return a.load(e),void 0!==t&&(Rt(t)||Pt(t)?a.load({value:t}):a.load(t)),a}load(e){Mt(e)||Mt(e.value)||(this.value=e.value)}}(Da=Ta||(Ta={})).circle="circle",Da.rectangle="rectangle";class yo{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){Mt(e)||(void 0!==e.count&&(this.count=qt(e.count)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.speed&&(this.speed=qt(e.speed)),void 0!==e.decay&&(this.decay=qt(e.decay)),void 0!==e.delay&&(this.delay=qt(e.delay)),void 0!==e.sync&&(this.sync=e.sync))}}class vo extends yo{constructor(){super(),this.mode=ea.auto,this.startValue=da.random}load(e){super.load(e),Mt(e)||(void 0!==e.mode&&(this.mode=e.mode),void 0!==e.startValue&&(this.startValue=e.startValue))}}class wo extends yo{constructor(){super(),this.offset=0,this.sync=!0}load(e){super.load(e),Mt(e)||void 0!==e.offset&&(this.offset=qt(e.offset))}}class Co{constructor(){this.h=new wo,this.s=new wo,this.l=new wo}load(e){Mt(e)||(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class ko extends bo{constructor(){super(),this.animation=new Co}static create(e,t){const a=new ko;return a.load(e),void 0!==t&&(Rt(t)||Pt(t)?a.load({value:t}):a.load(t)),a}load(e){if(super.load(e),Mt(e))return;const t=e.animation;void 0!==t&&(void 0!==t.enable?this.animation.h.load(t):this.animation.load(e.animation))}}(Aa=La||(La={})).absorb="absorb",Aa.bounce="bounce",Aa.destroy="destroy";class jo{constructor(){this.speed=2}load(e){Mt(e)||void 0!==e.speed&&(this.speed=e.speed)}}class Eo{constructor(){this.enable=!0,this.retries=0}load(e){Mt(e)||(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.retries&&(this.retries=e.retries))}}class So{constructor(){this.value=0}load(e){Mt(e)||Mt(e.value)||(this.value=qt(e.value))}}class _o extends So{constructor(){super(),this.animation=new yo}load(e){if(super.load(e),Mt(e))return;const t=e.animation;void 0!==t&&this.animation.load(t)}}class Fo extends _o{constructor(){super(),this.animation=new vo}load(e){super.load(e)}}class Oo extends So{constructor(){super(),this.value=1}}class zo{constructor(){this.horizontal=new Oo,this.vertical=new Oo}load(e){Mt(e)||(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class Ro{constructor(){this.absorb=new jo,this.bounce=new zo,this.enable=!1,this.maxSpeed=50,this.mode=La.bounce,this.overlap=new Eo}load(e){Mt(e)||(this.absorb.load(e.absorb),this.bounce.load(e.bounce),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.maxSpeed&&(this.maxSpeed=qt(e.maxSpeed)),void 0!==e.mode&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class No{constructor(){this.close=!0,this.fill=!0,this.options={},this.type=[]}load(e){if(Mt(e))return;const t=e.options;if(void 0!==t)for(const a in t){const e=t[a];e&&(this.options[a]=Ca(this.options[a]??{},e))}void 0!==e.close&&(this.close=e.close),void 0!==e.fill&&(this.fill=e.fill),void 0!==e.type&&(this.type=e.type)}}class Io{constructor(){this.offset=0,this.value=90}load(e){Mt(e)||(void 0!==e.offset&&(this.offset=qt(e.offset)),void 0!==e.value&&(this.value=qt(e.value)))}}class Po{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}load(e){if(!Mt(e)&&(void 0!==e.distance&&(this.distance=qt(e.distance)),void 0!==e.enable&&(this.enable=e.enable),e.rotate)){const t=e.rotate.x;void 0!==t&&(this.rotate.x=t);const a=e.rotate.y;void 0!==a&&(this.rotate.y=a)}}}class Mo{constructor(){this.x=50,this.y=50,this.mode=la.percent,this.radius=0}load(e){Mt(e)||(void 0!==e.x&&(this.x=e.x),void 0!==e.y&&(this.y=e.y),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.radius&&(this.radius=e.radius))}}class To{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){Mt(e)||(void 0!==e.acceleration&&(this.acceleration=qt(e.acceleration)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.inverse&&(this.inverse=e.inverse),void 0!==e.maxSpeed&&(this.maxSpeed=qt(e.maxSpeed)))}}class Do{constructor(){this.clamp=!0,this.delay=new So,this.enable=!1,this.options={}}load(e){Mt(e)||(void 0!==e.clamp&&(this.clamp=e.clamp),this.delay.load(e.delay),void 0!==e.enable&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=Ca(this.options,e.options)))}}class Lo{load(e){Mt(e)||(void 0!==e.color&&(this.color=bo.create(this.color,e.color)),void 0!==e.image&&(this.image=e.image))}}class Ao{constructor(){this.enable=!1,this.length=10,this.fill=new Lo}load(e){Mt(e)||(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.fill&&this.fill.load(e.fill),void 0!==e.length&&(this.length=e.length))}}($a=Ba||(Ba={})).bounce="bounce",$a.none="none",$a.out="out",$a.destroy="destroy",$a.split="split";class Bo{constructor(){this.default=Ba.out}load(e){Mt(e)||(void 0!==e.default&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class $o{constructor(){this.acceleration=0,this.enable=!1}load(e){Mt(e)||(void 0!==e.acceleration&&(this.acceleration=qt(e.acceleration)),void 0!==e.enable&&(this.enable=e.enable),e.position&&(this.position=Ca({},e.position)))}}class Uo{constructor(){this.angle=new Io,this.attract=new Po,this.center=new Mo,this.decay=0,this.distance={},this.direction=Ot.none,this.drift=0,this.enable=!1,this.gravity=new To,this.path=new Do,this.outModes=new Bo,this.random=!1,this.size=!1,this.speed=2,this.spin=new $o,this.straight=!1,this.trail=new Ao,this.vibrate=!1,this.warp=!1}load(e){if(Mt(e))return;this.angle.load(Nt(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),void 0!==e.decay&&(this.decay=qt(e.decay)),void 0!==e.direction&&(this.direction=e.direction),void 0!==e.distance&&(this.distance=Nt(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),void 0!==e.drift&&(this.drift=qt(e.drift)),void 0!==e.enable&&(this.enable=e.enable),this.gravity.load(e.gravity);const t=e.outModes;void 0!==t&&(It(t)?this.outModes.load(t):this.outModes.load({default:t})),this.path.load(e.path),void 0!==e.random&&(this.random=e.random),void 0!==e.size&&(this.size=e.size),void 0!==e.speed&&(this.speed=qt(e.speed)),this.spin.load(e.spin),void 0!==e.straight&&(this.straight=e.straight),this.trail.load(e.trail),void 0!==e.vibrate&&(this.vibrate=e.vibrate),void 0!==e.warp&&(this.warp=e.warp)}}class Ho extends vo{constructor(){super(),this.destroy=na.none,this.speed=2}load(e){super.load(e),Mt(e)||void 0!==e.destroy&&(this.destroy=e.destroy)}}class Vo extends Fo{constructor(){super(),this.animation=new Ho,this.value=1}load(e){if(Mt(e))return;super.load(e);const t=e.animation;void 0!==t&&this.animation.load(t)}}class Wo{constructor(){this.enable=!1,this.width=1920,this.height=1080}load(e){if(Mt(e))return;void 0!==e.enable&&(this.enable=e.enable);const t=e.width;void 0!==t&&(this.width=t);const a=e.height;void 0!==a&&(this.height=a)}}(Ha=Ua||(Ua={})).delete="delete",Ha.wait="wait";class qo{constructor(){this.mode=Ua.delete,this.value=0}load(e){Mt(e)||(void 0!==e.mode&&(this.mode=e.mode),void 0!==e.value&&(this.value=e.value))}}class Go{constructor(){this.density=new Wo,this.limit=new qo,this.value=0}load(e){Mt(e)||(this.density.load(e.density),this.limit.load(e.limit),void 0!==e.value&&(this.value=e.value))}}class Ko{constructor(){this.blur=0,this.color=new bo,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){Mt(e)||(void 0!==e.blur&&(this.blur=e.blur),this.color=bo.create(this.color,e.color),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.offset&&(void 0!==e.offset.x&&(this.offset.x=e.offset.x),void 0!==e.offset.y&&(this.offset.y=e.offset.y)))}}class Yo{constructor(){this.close=!0,this.fill=!0,this.options={},this.type="circle"}load(e){if(Mt(e))return;const t=e.options;if(void 0!==t)for(const a in t){const e=t[a];e&&(this.options[a]=Ca(this.options[a]??{},e))}void 0!==e.close&&(this.close=e.close),void 0!==e.fill&&(this.fill=e.fill),void 0!==e.type&&(this.type=e.type)}}class Jo extends vo{constructor(){super(),this.destroy=na.none,this.speed=5}load(e){super.load(e),Mt(e)||void 0!==e.destroy&&(this.destroy=e.destroy)}}class Xo extends Fo{constructor(){super(),this.animation=new Jo,this.value=3}load(e){if(super.load(e),Mt(e))return;const t=e.animation;void 0!==t&&this.animation.load(t)}}class Zo{constructor(){this.width=0}load(e){Mt(e)||(void 0!==e.color&&(this.color=ko.create(this.color,e.color)),void 0!==e.width&&(this.width=qt(e.width)),void 0!==e.opacity&&(this.opacity=qt(e.opacity)))}}class Qo extends So{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),Mt(e)||(void 0!==e.opacityRate&&(this.opacityRate=e.opacityRate),void 0!==e.sizeRate&&(this.sizeRate=e.sizeRate),void 0!==e.velocityRate&&(this.velocityRate=e.velocityRate))}}class en{constructor(e,t){this._engine=e,this._container=t,this.bounce=new zo,this.collisions=new Ro,this.color=new ko,this.color.value="#fff",this.effect=new No,this.groups={},this.move=new Uo,this.number=new Go,this.opacity=new Vo,this.reduceDuplicates=!1,this.shadow=new Ko,this.shape=new Yo,this.size=new Xo,this.stroke=new Zo,this.zIndex=new Qo}load(e){if(Mt(e))return;if(void 0!==e.groups)for(const a of Object.keys(e.groups)){if(!Object.hasOwn(e.groups,a))continue;const t=e.groups[a];void 0!==t&&(this.groups[a]=Ca(this.groups[a]??{},t))}void 0!==e.reduceDuplicates&&(this.reduceDuplicates=e.reduceDuplicates),this.bounce.load(e.bounce),this.color.load(ko.create(this.color,e.color)),this.effect.load(e.effect),this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex),this.collisions.load(e.collisions),void 0!==e.interactivity&&(this.interactivity=Ca({},e.interactivity));const t=e.stroke;if(t&&(this.stroke=Oa(t,e=>{const t=new Zo;return t.load(e),t})),this._container){const t=this._engine.updaters.get(this._container);if(t)for(const o of t)o.loadOptions&&o.loadOptions(this,e);const a=this._engine.interactors.get(this._container);if(a)for(const o of a)o.loadParticlesOptions&&o.loadParticlesOptions(this,e)}}}(Wa=Va||(Va={})).external="external",Wa.particles="particles",(Ga=qa||(qa={})).normal="normal",Ga.inside="inside",Ga.outside="outside",(Ya=Ka||(Ka={})).circle="circle",Ya.rectangle="rectangle";class tn{constructor(e,t,a){this.position={x:e,y:t},this.type=a}}class an extends tn{constructor(e,t,a){super(e,t,Ka.circle),this.radius=a}contains(e){return Kt(e,this.position)<=this.radius}intersects(e){const t=this.position,a=e.position,o=Math.abs(a.x-t.x),n=Math.abs(a.y-t.y),i=this.radius;if(e instanceof an||e.type===Ka.circle){return i+e.radius>Math.sqrt(o**2+n**2)}if(e instanceof on||e.type===Ka.rectangle){const t=e,{width:a,height:s}=t.size;return Math.pow(o-a,2)+Math.pow(n-s,2)<=i**2||o<=i+a&&n<=i+s||o<=a||n<=s}return!1}}class on extends tn{constructor(e,t,a,o){super(e,t,Ka.rectangle),this.size={height:o,width:a}}contains(e){const t=this.size.width,a=this.size.height,o=this.position;return e.x>=o.x&&e.x<=o.x+t&&e.y>=o.y&&e.y<=o.y+a}intersects(e){if(e instanceof an)return e.intersects(this);const t=this.size.width,a=this.size.height,o=this.position,n=e.position,i=e instanceof on?e.size:{width:0,height:0},s=i.width,r=i.height;return n.x<o.x+t&&n.x+s>o.x&&n.y<o.y+a&&n.y+r>o.y}}class nn{constructor(e){this.type=Va.external,this.container=e}}class sn{constructor(e){this.type=Va.particles,this.container=e}}(Xa=Ja||(Ja={})).clockwise="clockwise",Xa.counterClockwise="counter-clockwise",Xa.random="random",(Qa=Za||(Za={})).easeInBack="ease-in-back",Qa.easeInCirc="ease-in-circ",Qa.easeInCubic="ease-in-cubic",Qa.easeInLinear="ease-in-linear",Qa.easeInQuad="ease-in-quad",Qa.easeInQuart="ease-in-quart",Qa.easeInQuint="ease-in-quint",Qa.easeInExpo="ease-in-expo",Qa.easeInSine="ease-in-sine",Qa.easeOutBack="ease-out-back",Qa.easeOutCirc="ease-out-circ",Qa.easeOutCubic="ease-out-cubic",Qa.easeOutLinear="ease-out-linear",Qa.easeOutQuad="ease-out-quad",Qa.easeOutQuart="ease-out-quart",Qa.easeOutQuint="ease-out-quint",Qa.easeOutExpo="ease-out-expo",Qa.easeOutSine="ease-out-sine",Qa.easeInOutBack="ease-in-out-back",Qa.easeInOutCirc="ease-in-out-circ",Qa.easeInOutCubic="ease-in-out-cubic",Qa.easeInOutLinear="ease-in-out-linear",Qa.easeInOutQuad="ease-in-out-quad",Qa.easeInOutQuart="ease-in-out-quart",Qa.easeInOutQuint="ease-in-out-quint",Qa.easeInOutExpo="ease-in-out-expo",Qa.easeInOutSine="ease-in-out-sine";class rn{constructor(){this.radius=0,this.mass=0}load(e){Mt(e)||(void 0!==e.mass&&(this.mass=e.mass),void 0!==e.radius&&(this.radius=e.radius))}}class ln extends So{constructor(){super(),this.density=5,this.value=50,this.limit=new rn}load(e){Mt(e)||(super.load(e),void 0!==e.density&&(this.density=e.density),Nt(e.limit)?this.limit.radius=e.limit:this.limit.load(e.limit))}}class cn{constructor(){this.color=new bo,this.color.value="#000000",this.draggable=!1,this.opacity=1,this.destroy=!0,this.orbits=!1,this.size=new ln}load(e){Mt(e)||(void 0!==e.color&&(this.color=bo.create(this.color,e.color)),void 0!==e.draggable&&(this.draggable=e.draggable),this.name=e.name,void 0!==e.opacity&&(this.opacity=e.opacity),void 0!==e.position&&(this.position={},void 0!==e.position.x&&(this.position.x=qt(e.position.x)),void 0!==e.position.y&&(this.position.y=qt(e.position.y))),void 0!==e.size&&this.size.load(e.size),void 0!==e.destroy&&(this.destroy=e.destroy),void 0!==e.orbits&&(this.orbits=e.orbits))}}(eo||(eo={})).absorber="absorber";const dn=2*Math.PI;class un{constructor(e,t,a,o,n){var i;this._calcPosition=()=>{const e=Zt({size:this._container.canvas.size,position:this.options.position});return Dt.create(e.x,e.y)},this._updateParticlePosition=(e,t)=>{if(e.destroyed)return;const a=this._container,o=a.canvas.size;if(e.needsNewPosition){const t=Xt({size:o});e.position.setTo(t),e.velocity.setTo(e.initialVelocity),e.absorberOrbit=void 0,e.needsNewPosition=!1}if(this.options.orbits){if(void 0===e.absorberOrbit&&(e.absorberOrbit=Dt.origin,e.absorberOrbit.length=Kt(e.getPosition(),this.position),e.absorberOrbit.angle=At()*dn),e.absorberOrbit.length<=this.size&&!this.options.destroy){const t=Math.min(o.width,o.height),a=1,n=.1,i=.2;e.absorberOrbit.length=t*(a+(At()*i-n))}void 0===e.absorberOrbitDirection&&(e.absorberOrbitDirection=e.velocity.x>=0?Ja.clockwise:Ja.counterClockwise);const n=e.absorberOrbit.length,i=e.absorberOrbit.angle,s=e.absorberOrbitDirection;e.velocity.setTo(Dt.origin);const r={x:s===Ja.clockwise?Math.cos:Math.sin,y:s===Ja.clockwise?Math.sin:Math.cos};e.position.x=this.position.x+n*r.x(i),e.position.y=this.position.y+n*r.y(i),e.absorberOrbit.length-=t.length,e.absorberOrbit.angle+=(e.retina.moveSpeed??0)*a.retina.pixelRatio/bt*a.retina.reduceFactor}else{const a=Dt.origin;a.length=t.length,a.angle=t.angle,e.velocity.addTo(a)}},this._absorbers=e,this._container=t,this._engine=a,this.initialPosition=n?Dt.create(n.x,n.y):void 0,o instanceof cn?this.options=o:(this.options=new cn,this.options.load(o)),this.dragging=!1,this.name=this.options.name,this.opacity=this.options.opacity,this.size=Ht(this.options.size.value)*t.retina.pixelRatio,this.mass=this.size*this.options.size.density*t.retina.reduceFactor;const s=this.options.size.limit;this.limit={radius:s.radius*t.retina.pixelRatio*t.retina.reduceFactor,mass:s.mass},this.color=to(this._engine,this.options.color)??{b:0,g:0,r:0},this.position=(null==(i=this.initialPosition)?void 0:i.copy())??this._calcPosition()}attract(e){const t=this._container,a=this.options;if(a.draggable){const e=t.interactivity.mouse;if(e.clicking&&e.downPosition){Kt(this.position,e.downPosition)<=this.size&&(this.dragging=!0)}else this.dragging=!1;this.dragging&&e.position&&(this.position.x=e.position.x,this.position.y=e.position.y)}const o=e.getPosition(),{dx:n,dy:i,distance:s}=Gt(this.position,o),r=Dt.create(n,i);if(r.length=this.mass/Math.pow(s,2)*t.retina.reduceFactor,s<this.size+e.getRadius()){const o=.033*e.getRadius()*t.retina.pixelRatio;this.size>e.getRadius()&&s<this.size-e.getRadius()||void 0!==e.absorberOrbit&&e.absorberOrbit.length<0?a.destroy?e.destroy():(e.needsNewPosition=!0,this._updateParticlePosition(e,r)):(a.destroy&&(e.size.value-=o),this._updateParticlePosition(e,r)),(this.limit.radius<=0||this.size<this.limit.radius)&&(this.size+=o),(this.limit.mass<=0||this.mass<this.limit.mass)&&(this.mass+=o*this.options.size.density*t.retina.reduceFactor)}else this._updateParticlePosition(e,r)}draw(e){e.translate(this.position.x,this.position.y),e.beginPath(),e.arc(wt,Ct,this.size,0,dn,!1),e.closePath(),e.fillStyle=ro(this.color,this.opacity),e.fill()}resize(){const e=this.initialPosition;this.position=e&&va(e,this._container.canvas.size,Dt.origin)?e:this._calcPosition()}}class hn{constructor(e,t){this._container=e,this._engine=t,this.array=[],this.absorbers=[],this.interactivityAbsorbers=[],e.getAbsorber=e=>void 0===e||Nt(e)?this.array[e??0]:this.array.find(t=>t.name===e),e.addAbsorber=async(e,t)=>this.addAbsorber(e,t)}async addAbsorber(e,t){const a=new un(this,this._container,this._engine,e,t);return this.array.push(a),Promise.resolve(a)}draw(e){for(const t of this.array)t.draw(e)}handleClickMode(e){const t=this.absorbers,a=this.interactivityAbsorbers;if(e===eo.absorber){const e=za(a)??za(t),o=this._container.interactivity.mouse.clickPosition;this.addAbsorber(e,o)}}async init(){this.absorbers=this._container.actualOptions.absorbers,this.interactivityAbsorbers=this._container.actualOptions.interactivity.modes.absorbers;const e=Oa(this.absorbers,async e=>{await this.addAbsorber(e)});e instanceof Array?await Promise.all(e):await e}particleUpdate(e){for(const t of this.array)if(t.attract(e),e.destroyed)break}removeAbsorber(e){const t=this.array.indexOf(e);t>=0&&this.array.splice(t,1)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}}class pn{constructor(e){this.id="absorbers",this._engine=e}async getPlugin(e){return Promise.resolve(new hn(e,this._engine))}loadOptions(e,t){var a,o;(this.needsPlugin(e)||this.needsPlugin(t))&&((null==t?void 0:t.absorbers)&&(e.absorbers=Oa(t.absorbers,e=>{const t=new cn;return t.load(e),t})),e.interactivity.modes.absorbers=Oa(null==(o=null==(a=null==t?void 0:t.interactivity)?void 0:a.modes)?void 0:o.absorbers,e=>{const t=new cn;return t.load(e),t}))}needsPlugin(e){var t,a,o;if(!e)return!1;const n=e.absorbers;return Pt(n)?!!n.length:!!n||!(!(null==(o=null==(a=null==(t=e.interactivity)?void 0:t.events)?void 0:a.onClick)?void 0:o.mode)||!xa(eo.absorber,e.interactivity.events.onClick.mode))}}class mn{load(e){Mt(e)||(void 0!==e.bottom&&(this.bottom=qt(e.bottom)),void 0!==e.left&&(this.left=qt(e.left)),void 0!==e.right&&(this.right=qt(e.right)),void 0!==e.top&&(this.top=qt(e.top)))}}var fn,xn;(xn=fn||(fn={})).none="none",xn.split="split";class gn extends So{constructor(){super(),this.value=3}}class bn extends So{constructor(){super(),this.value={min:4,max:9}}}class yn{constructor(){this.count=1,this.factor=new gn,this.rate=new bn,this.sizeOffset=!0}load(e){Mt(e)||(void 0!==e.color&&(this.color=bo.create(this.color,e.color)),void 0!==e.count&&(this.count=e.count),this.factor.load(e.factor),this.rate.load(e.rate),this.particles=Oa(e.particles,e=>Ca({},e)),void 0!==e.sizeOffset&&(this.sizeOffset=e.sizeOffset),e.colorOffset&&(this.colorOffset=this.colorOffset??{},void 0!==e.colorOffset.h&&(this.colorOffset.h=e.colorOffset.h),void 0!==e.colorOffset.s&&(this.colorOffset.s=e.colorOffset.s),void 0!==e.colorOffset.l&&(this.colorOffset.l=e.colorOffset.l)))}}class vn{constructor(){this.bounds=new mn,this.mode=fn.none,this.split=new yn}load(e){Mt(e)||(e.mode&&(this.mode=e.mode),e.bounds&&this.bounds.load(e.bounds),this.split.load(e.split))}}function wn(e,t,a,o){const n=a.options.destroy;if(!n)return;const i=n.split,s=function(e,t,...a){const o=new en(e,t);return function(e,...t){for(const a of t)e.load(a)}(o,...a),o}(e,t,a.options),r=Ht(i.factor.value),l=a.getFillColor();i.color?s.color.load(i.color):i.colorOffset&&l?s.color.load({value:{hsl:{h:l.h+Ht(i.colorOffset.h??0),s:l.s+Ht(i.colorOffset.s??0),l:l.l+Ht(i.colorOffset.l??0)}}}):s.color.load({value:{hsl:a.getFillColor()}}),s.move.load({center:{x:a.position.x,y:a.position.y,mode:la.precise}}),Nt(s.size.value)?s.size.value/=r:(s.size.value.min/=r,s.size.value.max/=r),s.load(o);const c=i.sizeOffset?qt(-a.size.value,a.size.value):0,d={x:a.position.x+Ut(c),y:a.position.y+Ut(c)};return t.particles.addParticle(d,s,a.group,e=>!(e.size.value<.5)&&(e.velocity.length=Ut(qt(a.velocity.length,e.velocity.length)),e.splitCount=(a.splitCount??0)+1,e.unbreakable=!0,setTimeout(()=>{e.unbreakable=!1},500),!0))}class Cn{constructor(e,t){this.container=t,this.engine=e}init(e){const t=this.container,a=e.options.destroy;if(!a)return;e.splitCount=0;const o=a.bounds;e.destroyBounds||(e.destroyBounds={});const{bottom:n,left:i,right:s,top:r}=o,{destroyBounds:l}=e,c=t.canvas.size;n&&(l.bottom=Ht(n)*c.height/bt),i&&(l.left=Ht(i)*c.width/bt),s&&(l.right=Ht(s)*c.width/bt),r&&(l.top=Ht(r)*c.height/bt)}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.destroy||(e.destroy=new vn);for(const a of t)e.destroy.load(null==a?void 0:a.destroy)}particleDestroyed(e,t){if(t)return;const a=e.options.destroy;a&&a.mode===fn.split&&function(e,t,a){const o=a.options.destroy;if(!o)return;const n=o.split;if(n.count>=0&&(void 0===a.splitCount||a.splitCount++>n.count))return;const i=Ht(n.rate.value),s=za(n.particles);for(let r=0;r<i;r++)wn(e,t,a,s)}(this.engine,this.container,e)}update(e){if(!this.isEnabled(e))return;const t=e.getPosition(),a=e.destroyBounds;a&&(void 0!==a.bottom&&t.y>=a.bottom||void 0!==a.left&&t.x<=a.left||void 0!==a.right&&t.x>=a.right||void 0!==a.top&&t.y<=a.top)&&e.destroy()}}class kn{constructor(){this.wait=!1}load(e){Mt(e)||(void 0!==e.count&&(this.count=e.count),void 0!==e.delay&&(this.delay=qt(e.delay)),void 0!==e.duration&&(this.duration=qt(e.duration)),void 0!==e.wait&&(this.wait=e.wait))}}class jn{constructor(){this.quantity=1,this.delay=.1}load(e){Mt(e)||(void 0!==e.quantity&&(this.quantity=qt(e.quantity)),void 0!==e.delay&&(this.delay=qt(e.delay)))}}class En{constructor(){this.color=!1,this.opacity=!1}load(e){Mt(e)||(void 0!==e.color&&(this.color=e.color),void 0!==e.opacity&&(this.opacity=e.opacity))}}class Sn{constructor(){this.options={},this.replace=new En,this.type="square"}load(e){Mt(e)||(void 0!==e.options&&(this.options=Ca({},e.options??{})),this.replace.load(e.replace),void 0!==e.type&&(this.type=e.type))}}class _n{constructor(){this.mode=la.percent,this.height=0,this.width=0}load(e){Mt(e)||(void 0!==e.mode&&(this.mode=e.mode),void 0!==e.height&&(this.height=e.height),void 0!==e.width&&(this.width=e.width))}}class Fn{constructor(){this.autoPlay=!0,this.fill=!0,this.life=new kn,this.rate=new jn,this.shape=new Sn,this.startCount=0}load(e){Mt(e)||(void 0!==e.autoPlay&&(this.autoPlay=e.autoPlay),void 0!==e.size&&(this.size||(this.size=new _n),this.size.load(e.size)),void 0!==e.direction&&(this.direction=e.direction),this.domId=e.domId,void 0!==e.fill&&(this.fill=e.fill),this.life.load(e.life),this.name=e.name,this.particles=Oa(e.particles,e=>Ca({},e)),this.rate.load(e.rate),this.shape.load(e.shape),void 0!==e.position&&(this.position={},void 0!==e.position.x&&(this.position.x=qt(e.position.x)),void 0!==e.position.y&&(this.position.y=qt(e.position.y))),void 0!==e.spawnColor&&(void 0===this.spawnColor&&(this.spawnColor=new ko),this.spawnColor.load(e.spawnColor)),void 0!==e.startCount&&(this.startCount=e.startCount))}}var On;(On||(On={})).emitter="emitter";function zn(e,t){e.color?e.color.value=t:e.color={value:t}}class Rn{constructor(e,t,a,o,n){var i,s;this.emitters=t,this.container=a,this._destroy=()=>{var e,t;null==(e=this._mutationObserver)||e.disconnect(),this._mutationObserver=void 0,null==(t=this._resizeObserver)||t.disconnect(),this._resizeObserver=void 0,this.emitters.removeEmitter(this),this._engine.dispatchEvent("emitterDestroyed",{container:this.container,data:{emitter:this}})},this._prepareToDie=()=>{var e;if(this._paused)return;const t=void 0!==(null==(e=this.options.life)?void 0:e.duration)?Ht(this.options.life.duration):void 0;(this._lifeCount>0||this._immortal)&&void 0!==t&&t>0&&(this._duration=t*vt)},this._setColorAnimation=(e,t,a,o=1)=>{const n=this.container;if(!e.enable)return t;const i=Ut(e.offset),s=Ht(this.options.rate.delay),r=n.retina.reduceFactor?s*vt/n.retina.reduceFactor:1/0;return(t+Ht(e.speed??0)*n.fpsLimit/r+i*o)%a},this._engine=e,this._currentDuration=0,this._currentEmitDelay=0,this._currentSpawnDelay=0,this._initialPosition=n,o instanceof Fn?this.options=o:(this.options=new Fn,this.options.load(o)),this._spawnDelay=a.retina.reduceFactor?Ht(this.options.life.delay??0)*vt/a.retina.reduceFactor:1/0,this.position=this._initialPosition??this._calcPosition(),this.name=this.options.name,this.fill=this.options.fill,this._firstSpawn=!this.options.life.wait,this._startParticlesAdded=!1;let r=Ca({},this.options.particles);if(r??(r={}),r.move??(r.move={}),(i=r.move).direction??(i.direction=this.options.direction),this.options.spawnColor&&(this.spawnColor=oo(this._engine,this.options.spawnColor)),this._paused=!this.options.autoPlay,this._particlesOptions=r,this._size=this._calcSize(),this.size=Na(this._size,this.container.canvas.size),this._lifeCount=this.options.life.count??-1,this._immortal=this._lifeCount<=0,this.options.domId){const e=document.getElementById(this.options.domId);e&&(this._mutationObserver=new MutationObserver(()=>{this.resize()}),this._resizeObserver=new ResizeObserver(()=>{this.resize()}),this._mutationObserver.observe(e,{attributes:!0,attributeFilter:["style","width","height"]}),this._resizeObserver.observe(e))}const l=this.options.shape,c=null==(s=this._engine.emitterShapeManager)?void 0:s.getShapeGenerator(l.type);c&&(this._shape=c.generate(this.position,this.size,this.fill,l.options)),this._engine.dispatchEvent("emitterCreated",{container:a,data:{emitter:this}}),this.play()}externalPause(){this._paused=!0,this.pause()}externalPlay(){this._paused=!1,this.play()}async init(){var e;await(null==(e=this._shape)?void 0:e.init())}pause(){this._paused||delete this._emitDelay}play(){if(this._paused)return;if(!(this._lifeCount>0||this._immortal)&&this.options.life.count||!(this._firstSpawn||this._currentSpawnDelay>=(this._spawnDelay??0)))return;const e=this.container;if(void 0===this._emitDelay){const t=Ht(this.options.rate.delay);this._emitDelay=e.retina.reduceFactor?t*vt/e.retina.reduceFactor:1/0}(this._lifeCount>0||this._immortal)&&this._prepareToDie()}resize(){var e;const t=this._initialPosition,a=this.container;this.position=t&&va(t,a.canvas.size,Dt.origin)?t:this._calcPosition(),this._size=this._calcSize(),this.size=Na(this._size,a.canvas.size),null==(e=this._shape)||e.resize(this.position,this.size)}update(e){var t;if(this._paused)return;const a=this.container;this._firstSpawn&&(this._firstSpawn=!1,this._currentSpawnDelay=this._spawnDelay??0,this._currentEmitDelay=this._emitDelay??0),this._startParticlesAdded||(this._startParticlesAdded=!0,this._emitParticles(this.options.startCount)),void 0!==this._duration&&(this._currentDuration+=e.value,this._currentDuration>=this._duration&&(this.pause(),void 0!==this._spawnDelay&&delete this._spawnDelay,this._immortal||this._lifeCount--,this._lifeCount>0||this._immortal?(this.position=this._calcPosition(),null==(t=this._shape)||t.resize(this.position,this.size),this._spawnDelay=a.retina.reduceFactor?Ht(this.options.life.delay??0)*vt/a.retina.reduceFactor:1/0):this._destroy(),this._currentDuration-=this._duration,delete this._duration)),void 0!==this._spawnDelay&&(this._currentSpawnDelay+=e.value,this._currentSpawnDelay>=this._spawnDelay&&(this._engine.dispatchEvent("emitterPlay",{container:this.container}),this.play(),this._currentSpawnDelay-=this._currentSpawnDelay,delete this._spawnDelay)),void 0!==this._emitDelay&&(this._currentEmitDelay+=e.value,this._currentEmitDelay>=this._emitDelay&&(this._emit(),this._currentEmitDelay-=this._emitDelay))}_calcPosition(){const e=this.container;if(this.options.domId){const t=document.getElementById(this.options.domId);if(t){const a=t.getBoundingClientRect(),o=e.retina.pixelRatio;return{x:(a.x+.5*a.width)*o,y:(a.y+.5*a.height)*o}}}return Zt({size:e.canvas.size,position:this.options.position})}_calcSize(){const e=this.container;if(this.options.domId){const t=document.getElementById(this.options.domId);if(t){const a=t.getBoundingClientRect();return{width:a.width*e.retina.pixelRatio,height:a.height*e.retina.pixelRatio,mode:la.precise}}}return this.options.size??(()=>{const e=new _n;return e.load({height:0,mode:la.percent,width:0}),e})()}_emit(){if(this._paused)return;const e=Ht(this.options.rate.quantity);this._emitParticles(e)}_emitParticles(e){var t;const a=za(this._particlesOptions),o=this.container.retina.reduceFactor;for(let n=0;n<e*o;n++){const e=Ca({},a);if(this.spawnColor){const a=null==(t=this.options.spawnColor)?void 0:t.animation;if(a){const e={h:360,s:100,l:100},t=3.6;this.spawnColor.h=this._setColorAnimation(a.h,this.spawnColor.h,e.h,t),this.spawnColor.s=this._setColorAnimation(a.s,this.spawnColor.s,e.s),this.spawnColor.l=this._setColorAnimation(a.l,this.spawnColor.l,e.l)}zn(e,this.spawnColor)}const o=this.options.shape;let n=this.position;if(this._shape){const t=this._shape.randomPosition();if(t){n=t.position;const a=o.replace;a.color&&t.color&&zn(e,t.color),a.opacity&&(e.opacity?e.opacity.value=t.opacity:e.opacity={value:t.opacity})}else n=null}n&&this.container.particles.addParticle(n,e)}}}class Nn{constructor(e,t){this.container=t,this._engine=e,this.array=[],this.emitters=[],this.interactivityEmitters={random:{count:1,enable:!1},value:[]};t.getEmitter=e=>void 0===e||Nt(e)?this.array[e??0]:this.array.find(t=>t.name===e),t.addEmitter=async(e,t)=>this.addEmitter(e,t),t.removeEmitter=e=>{const a=t.getEmitter(e);a&&this.removeEmitter(a)},t.playEmitter=e=>{const a=t.getEmitter(e);a&&a.externalPlay()},t.pauseEmitter=e=>{const a=t.getEmitter(e);a&&a.externalPause()}}async addEmitter(e,t){const a=new Fn;a.load(e);const o=new Rn(this._engine,this,this.container,a,t);return await o.init(),this.array.push(o),o}handleClickMode(e){const t=this.emitters,a=this.interactivityEmitters;if(e!==On.emitter)return;let o;if(a&&Pt(a.value)){const e=0;if(a.value.length>e&&a.random.enable){o=[];const e=[];for(let t=0;t<a.random.count;t++){const n=ba(a.value);e.includes(n)&&e.length<a.value.length?t--:(e.push(n),o.push(ya(a.value,n)))}}else o=a.value}else o=null==a?void 0:a.value;const n=o??t,i=this.container.interactivity.mouse.clickPosition;Oa(n,async e=>{await this.addEmitter(e,i)})}async init(){if(this.emitters=this.container.actualOptions.emitters,this.interactivityEmitters=this.container.actualOptions.interactivity.modes.emitters,this.emitters)if(Pt(this.emitters))for(const e of this.emitters)await this.addEmitter(e);else await this.addEmitter(this.emitters)}pause(){for(const e of this.array)e.pause()}play(){for(const e of this.array)e.play()}removeEmitter(e){const t=this.array.indexOf(e);t>=0&&this.array.splice(t,1)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}update(e){for(const t of this.array)t.update(e)}}class In{constructor(e){this._engine=e,this.id="emitters"}getPlugin(e){return Promise.resolve(new Nn(this._engine,e))}loadOptions(e,t){var a,o;if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;(null==t?void 0:t.emitters)&&(e.emitters=Oa(t.emitters,e=>{const t=new Fn;return t.load(e),t}));const n=null==(o=null==(a=null==t?void 0:t.interactivity)?void 0:a.modes)?void 0:o.emitters;if(n)if(Pt(n))e.interactivity.modes.emitters={random:{count:1,enable:!0},value:n.map(e=>{const t=new Fn;return t.load(e),t})};else{const t=n;if(void 0!==t.value){const a=1;if(Pt(t.value))e.interactivity.modes.emitters={random:{count:t.random.count??a,enable:t.random.enable??!1},value:t.value.map(e=>{const t=new Fn;return t.load(e),t})};else{const o=new Fn;o.load(t.value),e.interactivity.modes.emitters={random:{count:t.random.count??a,enable:t.random.enable??!1},value:o}}}else{(e.interactivity.modes.emitters={random:{count:1,enable:!1},value:new Fn}).value.load(n)}}}needsPlugin(e){var t,a,o;if(!e)return!1;const n=e.emitters;return Pt(n)&&!!n.length||void 0!==n||!!(null==(o=null==(a=null==(t=e.interactivity)?void 0:t.events)?void 0:a.onClick)?void 0:o.mode)&&xa(On.emitter,e.interactivity.events.onClick.mode)}}const Pn=new Map;class Mn{constructor(e){this._engine=e}addShapeGenerator(e,t){this.getShapeGenerator(e)||Pn.set(e,t)}getShapeGenerator(e){return Pn.get(e)}getSupportedShapeGenerators(){return Pn.keys()}}class Tn{constructor(e,t,a,o){this.position=e,this.size=t,this.fill=a,this.options=o}resize(e,t){this.position=e,this.size=t}}const Dn=.25,Ln=2*Math.PI;class An extends Tn{constructor(e,t,a,o){super(e,t,a,o)}async init(){}randomPosition(){const e=this.size,t=this.fill,a=this.position,[o,n]=[.5*e.width,.5*e.height],i=((e,t)=>{const a=At()*Dn,o=Math.atan(t/e*Math.tan(Ln*a)),n=At();return n<Dn?o:n<.5?Math.PI-o:n<.75?Math.PI+o:-o})(o,n),s=(d=i,(l=o)*(c=n)/Math.sqrt((c*Math.cos(d))**2+(l*Math.sin(d))**2)),r=t?s*Math.sqrt(At()):s;var l,c,d;return{position:{x:a.x+r*Math.cos(i),y:a.y+r*Math.sin(i)}}}}class Bn{generate(e,t,a,o){return new An(e,t,a,o)}}var $n,Un;function Hn(e,t){return e+t*(At()-yt)}(Un=$n||($n={}))[Un.TopLeft=0]="TopLeft",Un[Un.TopRight=1]="TopRight",Un[Un.BottomRight=2]="BottomRight",Un[Un.BottomLeft=3]="BottomLeft";class Vn extends Tn{constructor(e,t,a,o){super(e,t,a,o)}async init(){}randomPosition(){const e=this.fill,t=this.position,a=this.size;if(e)return{position:{x:Hn(t.x,a.width),y:Hn(t.y,a.height)}};{const e=a.width*yt,o=a.height*yt,n=Math.floor(4*At()),i=2*(At()-yt);switch(n){case $n.TopLeft:return{position:{x:t.x+i*e,y:t.y-o}};case $n.TopRight:return{position:{x:t.x-e,y:t.y+i*o}};case $n.BottomRight:return{position:{x:t.x+i*e,y:t.y+o}};case $n.BottomLeft:default:return{position:{x:t.x+e,y:t.y+i*o}}}}}}class Wn{generate(e,t,a,o){return new Vn(e,t,a,o)}}class qn{constructor(){this.delay=1,this.pauseOnStop=!1,this.quantity=1}load(e){Mt(e)||(void 0!==e.delay&&(this.delay=e.delay),void 0!==e.quantity&&(this.quantity=e.quantity),void 0!==e.particles&&(this.particles=Ca({},e.particles)),void 0!==e.pauseOnStop&&(this.pauseOnStop=e.pauseOnStop))}}const Gn="trail";class Kn extends nn{constructor(e){super(e),this._delay=0}clear(){}init(){}interact(e){var t,a,o,n;const i=this.container,{interactivity:s}=i;if(!i.retina.reduceFactor)return;const r=i.actualOptions.interactivity.modes.trail;if(!r)return;const l=r.delay*vt/this.container.retina.reduceFactor;if(this._delay<l&&(this._delay+=e.value),this._delay<l)return;const c=!(r.pauseOnStop&&(s.mouse.position===this._lastPosition||(null==(t=s.mouse.position)?void 0:t.x)===(null==(a=this._lastPosition)?void 0:a.x)&&(null==(o=s.mouse.position)?void 0:o.y)===(null==(n=this._lastPosition)?void 0:n.y))),d=i.interactivity.mouse.position;d?this._lastPosition={...d}:delete this._lastPosition,c&&i.particles.push(r.quantity,i.interactivity.mouse,r.particles),this._delay-=l}isEnabled(e){const t=this.container,a=t.actualOptions,o=t.interactivity.mouse,n=((null==e?void 0:e.interactivity)??a.interactivity).events;return o.clicking&&o.inside&&!!o.position&&xa(Gn,n.onClick.mode)||o.inside&&!!o.position&&xa(Gn,n.onHover.mode)}loadModeOptions(e,...t){e.trail||(e.trail=new qn);for(const a of t)e.trail.load(null==a?void 0:a.trail)}reset(){}}var Yn,Jn;(Jn=Yn||(Yn={})).both="both",Jn.horizontal="horizontal",Jn.vertical="vertical";const Xn=2*Math.PI;class Zn{constructor(){this.enable=!1,this.value=0}load(e){Mt(e)||(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.value&&(this.value=qt(e.value)))}}class Qn{constructor(){this.darken=new Zn,this.enable=!1,this.enlighten=new Zn,this.mode=Yn.vertical,this.speed=25}load(e){Mt(e)||(void 0!==e.backColor&&(this.backColor=bo.create(this.backColor,e.backColor)),this.darken.load(e.darken),void 0!==e.enable&&(this.enable=e.enable),this.enlighten.load(e.enlighten),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.speed&&(this.speed=qt(e.speed)))}}class ei{constructor(e){this._engine=e}getTransformValues(e){var t;const a=(null==(t=e.roll)?void 0:t.enable)&&e.roll,o=a&&a.horizontal,n=a&&a.vertical;return{a:o?Math.cos(a.angle):void 0,d:n?Math.sin(a.angle):void 0}}init(e){!function(e,t){const a=t.options.roll;if(null==a?void 0:a.enable)if(t.roll={enable:a.enable,horizontal:a.mode===Yn.horizontal||a.mode===Yn.both,vertical:a.mode===Yn.vertical||a.mode===Yn.both,angle:At()*Xn,speed:Ht(a.speed)/360},a.backColor)t.backColor=oo(e,a.backColor);else if(a.darken.enable&&a.enlighten.enable){const e=At()>=yt?Pa.darken:Pa.enlighten;t.roll.alter={type:e,value:Ht(e===Pa.darken?a.darken.value:a.enlighten.value)}}else a.darken.enable?t.roll.alter={type:Pa.darken,value:Ht(a.darken.value)}:a.enlighten.enable&&(t.roll.alter={type:Pa.enlighten,value:Ht(a.enlighten.value)});else t.roll={enable:!1,horizontal:!1,vertical:!1,angle:0,speed:0}}(this._engine,e)}isEnabled(e){const t=e.options.roll;return!e.destroyed&&!e.spawning&&!!(null==t?void 0:t.enable)}loadOptions(e,...t){e.roll||(e.roll=new Qn);for(const a of t)e.roll.load(null==a?void 0:a.roll)}update(e,t){this.isEnabled(e)&&function(e,t){const a=e.options.roll,o=e.roll;if(!o||!(null==a?void 0:a.enable))return;const n=o.speed*t.factor,i=Xn;o.angle+=n,o.angle>i&&(o.angle-=i)}(e,t)}}const ti=2*Math.PI;function ai(e,t,a,o,n,i,s){!function(e,t){var a;const o=e.options,n=o.move.path;if(!n.enable)return;if(e.lastPathTime<=e.pathDelay)return void(e.lastPathTime+=t.value);const i=null==(a=e.pathGenerator)?void 0:a.generate(e,t);i&&e.velocity.addTo(i);n.clamp&&(e.velocity.x=Bt(e.velocity.x,-1,1),e.velocity.y=Bt(e.velocity.y,-1,1));e.lastPathTime-=e.pathDelay}(e,s);const r=e.gravity,l=(null==r?void 0:r.enable)&&r.inverse?-1:1;n&&a&&(e.velocity.x+=n*s.factor/(60*a)),(null==r?void 0:r.enable)&&a&&(e.velocity.y+=l*(r.acceleration*s.factor)/(60*a));const c=e.moveDecay;e.velocity.multTo(c);const d=e.velocity.mult(a);(null==r?void 0:r.enable)&&o>0&&(!r.inverse&&d.y>=0&&d.y>=o||r.inverse&&d.y<=0&&d.y<=-o)&&(d.y=l*o,a&&(e.velocity.y=d.y/a));const u=e.options.zIndex,h=(1-e.zIndexFactor)**u.velocityRate;d.multTo(h),d.multTo(i);const{position:p}=e;p.addTo(d),t.vibrate&&(p.x+=Math.sin(p.x*Math.cos(p.y))*i,p.y+=Math.cos(p.y*Math.sin(p.x))*i)}class oi{init(e){const t=e.options.move.gravity;e.gravity={enable:t.enable,acceleration:Ht(t.acceleration),inverse:t.inverse},function(e){const t=e.container,a=e.options.move.spin;if(!a.enable)return;const o=a.position??{x:50,y:50},n={x:.01*o.x*t.canvas.size.width,y:.01*o.y*t.canvas.size.height},i=Kt(e.getPosition(),n),s=Ht(a.acceleration);e.retina.spinAcceleration=s*t.retina.pixelRatio,e.spin={center:n,direction:e.velocity.x>=0?Ja.clockwise:Ja.counterClockwise,angle:At()*ti,radius:i,acceleration:e.retina.spinAcceleration}}(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,t){var a,o;const n=e.options,i=n.move;if(!i.enable)return;const s=e.container,r=s.retina.pixelRatio;(a=e.retina).moveSpeed??(a.moveSpeed=Ht(i.speed)*r),(o=e.retina).moveDrift??(o.moveDrift=Ht(e.options.move.drift)*r);const l=function(e){return e.slow.inRange?e.slow.factor:1}(e),c=s.retina.reduceFactor,d=e.retina.moveSpeed,u=e.retina.moveDrift,h=Wt(n.size.value)*r,p=d*(i.size?e.getRadius()/h:1)*l*(t.factor||1)/2,m=e.retina.maxSpeed??s.retina.maxSpeed;i.spin.enable?function(e,t,a){const o=e.container;if(!e.spin)return;const n=e.spin.direction===Ja.clockwise,i={x:n?Math.cos:Math.sin,y:n?Math.sin:Math.cos};e.position.x=e.spin.center.x+e.spin.radius*i.x(e.spin.angle)*a,e.position.y=e.spin.center.y+e.spin.radius*i.y(e.spin.angle)*a,e.spin.radius+=e.spin.acceleration*a;const s=Math.max(o.canvas.size.width,o.canvas.size.height),r=.5*s;e.spin.radius>r?(e.spin.radius=r,e.spin.acceleration*=-1):e.spin.radius<0&&(e.spin.radius=0,e.spin.acceleration*=-1),e.spin.angle+=.01*t*(1-e.spin.radius/s)}(e,p,c):ai(e,i,p,m,u,c,t),function(e){const t=e.initialPosition,{dx:a,dy:o}=Gt(t,e.position),n=Math.abs(a),i=Math.abs(o),{maxDistance:s}=e.retina,r=s.horizontal,l=s.vertical;if(!r&&!l)return;if((r&&n>=r||l&&i>=l)&&!e.misplaced)e.misplaced=!!r&&n>r||!!l&&i>l,r&&(e.velocity.x=.5*e.velocity.y-e.velocity.x),l&&(e.velocity.y=.5*e.velocity.x-e.velocity.y);else if((!r||n<r)&&(!l||i<l)&&e.misplaced)e.misplaced=!1;else if(e.misplaced){const a=e.position,o=e.velocity;r&&(a.x<t.x&&o.x<0||a.x>t.x&&o.x>0)&&(o.x*=-At()),l&&(a.y<t.y&&o.y<0||a.y>t.y&&o.y>0)&&(o.y*=-At())}}(e)}}const ni=2*Math.PI,ii=0,si=0;class ri{constructor(){this.validTypes=["circle"]}draw(e){!function(e){const{context:t,particle:a,radius:o}=e;a.circleRange||(a.circleRange={min:0,max:ni});const n=a.circleRange;t.arc(ii,si,o,n.min,n.max,!1)}(e)}getSidesCount(){return 12}particleInit(e,t){const a=t.shapeData,o=(null==a?void 0:a.angle)??{max:360,min:0};t.circleRange=It(o)?{min:Yt(o.min),max:Yt(o.max)}:{min:0,max:Yt(o)}}}class li{constructor(e,t){this._container=e,this._engine=t}init(e){const t=oo(this._engine,e.options.color,e.id,e.options.reduceDuplicates);t&&(e.color=po(t,e.options.color.animation,this._container.retina.reduceFactor))}isEnabled(e){const{h:t,s:a,l:o}=e.options.color.animation,{color:n}=e;return!e.destroyed&&!e.spawning&&(void 0!==(null==n?void 0:n.h.value)&&t.enable||void 0!==(null==n?void 0:n.s.value)&&a.enable||void 0!==(null==n?void 0:n.l.value)&&o.enable)}update(e,t){xo(e.color,t)}}var ci,di;(di=ci||(ci={}))[di.r=1]="r",di[di.g=2]="g",di[di.b=3]="b",di[di.a=4]="a";const ui=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,hi=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i;class pi{constructor(){this.key="hex",this.stringPrefix="#"}handleColor(e){return this._parseString(e.value)}handleRangeColor(e){return this._parseString(e.value)}parseString(e){return this._parseString(e)}_parseString(e){if("string"!=typeof e)return;if(!(null==e?void 0:e.startsWith(this.stringPrefix)))return;const t=e.replace(ui,(e,t,a,o,n)=>t+t+a+a+o+o+(void 0!==n?n+n:"")),a=hi.exec(t);return a?{a:void 0!==a[ci.a]?parseInt(a[ci.a],16)/255:1,b:parseInt(a[ci.b],16),g:parseInt(a[ci.g],16),r:parseInt(a[ci.r],16)}:void 0}}var mi,fi;(fi=mi||(mi={}))[fi.h=1]="h",fi[fi.s=2]="s",fi[fi.l=3]="l",fi[fi.a=5]="a";class xi{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const t=e.value.hsl??e.value;if(void 0!==t.h&&void 0!==t.s&&void 0!==t.l)return io(t)}handleRangeColor(e){const t=e.value.hsl??e.value;if(void 0!==t.h&&void 0!==t.l)return io({h:Ht(t.h),l:Ht(t.l),s:Ht(t.s)})}parseString(e){if(!e.startsWith("hsl"))return;const t=/hsla?\(\s*(\d+)\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i.exec(e);return t?function(e){const t=io(e);return{a:e.a,b:t.b,g:t.g,r:t.r}}({a:t.length>4?Qt(t[mi.a]):1,h:parseInt(t[mi.h],10),l:parseInt(t[mi.l],10),s:parseInt(t[mi.s],10)}):void 0}}class gi{constructor(e){this.container=e}init(e){const t=e.options.opacity;e.opacity=function(e,t){const a=e.value,o=e.animation,n={delayTime:Ht(o.delay)*vt,enable:o.enable,value:Ht(e.value)*t,max:Wt(a)*t,min:Vt(a)*t,loops:0,maxLoops:Ht(o.count),time:0};if(o.enable){switch(n.decay=1-Ht(o.decay),o.mode){case ea.increase:n.status=aa.increasing;break;case ea.decrease:n.status=aa.decreasing;break;case ea.random:n.status=At()>=yt?aa.increasing:aa.decreasing}const e=o.mode===ea.auto;switch(o.startValue){case da.min:n.value=n.min,e&&(n.status=aa.increasing);break;case da.max:n.value=n.max,e&&(n.status=aa.decreasing);break;case da.random:default:n.value=Ut(n),e&&(n.status=At()>=yt?aa.increasing:aa.decreasing)}}return n.initialValue=n.value,n}(t,1);const a=t.animation;a.enable&&(e.opacity.velocity=Ht(a.speed)/bt*this.container.retina.reduceFactor,a.sync||(e.opacity.velocity*=At()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,t){this.isEnabled(e)&&e.opacity&&Ia(e,e.opacity,!0,e.options.opacity.animation.destroy,t)}}class bi{constructor(e){this.container=e,this.modes=[Ba.bounce,Ba.split]}update(e,t,a,o){if(!this.modes.includes(o))return;const n=this.container;let i=!1;for(const u of n.plugins.values())if(void 0!==u.particleBounce&&(i=u.particleBounce(e,a,t)),i)break;if(i)return;const s=e.getPosition(),r=e.offset,l=e.getRadius(),c=wa(s,l),d=n.canvas.size;!function(e){if(e.outMode!==Ba.bounce&&e.outMode!==Ba.split||e.direction!==sa.left&&e.direction!==sa.right)return;e.bounds.right<0&&e.direction===sa.left?e.particle.position.x=e.size+e.offset.x:e.bounds.left>e.canvasSize.width&&e.direction===sa.right&&(e.particle.position.x=e.canvasSize.width-e.size-e.offset.x);const t=e.particle.velocity.x;let a=!1;if(e.direction===sa.right&&e.bounds.right>=e.canvasSize.width&&t>0||e.direction===sa.left&&e.bounds.left<=0&&t<0){const t=Ht(e.particle.options.bounce.horizontal.value);e.particle.velocity.x*=-t,a=!0}if(!a)return;const o=e.offset.x+e.size;e.bounds.right>=e.canvasSize.width&&e.direction===sa.right?e.particle.position.x=e.canvasSize.width-o:e.bounds.left<=0&&e.direction===sa.left&&(e.particle.position.x=o),e.outMode===Ba.split&&e.particle.destroy()}({particle:e,outMode:o,direction:t,bounds:c,canvasSize:d,offset:r,size:l}),function(e){if(e.outMode!==Ba.bounce&&e.outMode!==Ba.split||e.direction!==sa.bottom&&e.direction!==sa.top)return;e.bounds.bottom<0&&e.direction===sa.top?e.particle.position.y=e.size+e.offset.y:e.bounds.top>e.canvasSize.height&&e.direction===sa.bottom&&(e.particle.position.y=e.canvasSize.height-e.size-e.offset.y);const t=e.particle.velocity.y;let a=!1;if(e.direction===sa.bottom&&e.bounds.bottom>=e.canvasSize.height&&t>0||e.direction===sa.top&&e.bounds.top<=0&&t<0){const t=Ht(e.particle.options.bounce.vertical.value);e.particle.velocity.y*=-t,a=!0}if(!a)return;const o=e.offset.y+e.size;e.bounds.bottom>=e.canvasSize.height&&e.direction===sa.bottom?e.particle.position.y=e.canvasSize.height-o:e.bounds.top<=0&&e.direction===sa.top&&(e.particle.position.y=o),e.outMode===Ba.split&&e.particle.destroy()}({particle:e,outMode:o,direction:t,bounds:c,canvasSize:d,offset:r,size:l})}}class yi{constructor(e){this.container=e,this.modes=[Ba.destroy]}update(e,t,a,o){if(!this.modes.includes(o))return;const n=this.container;switch(e.outType){case qa.normal:case qa.outside:if(va(e.position,n.canvas.size,Dt.origin,e.getRadius(),t))return;break;case qa.inside:{const{dx:t,dy:a}=Gt(e.position,e.moveCenter),{x:o,y:n}=e.velocity;if(o<0&&t>e.moveCenter.radius||n<0&&a>e.moveCenter.radius||o>=0&&t<-e.moveCenter.radius||n>=0&&a<-e.moveCenter.radius)return;break}}n.particles.remove(e,e.group,!0)}}class vi{constructor(e){this.container=e,this.modes=[Ba.none]}update(e,t,a,o){if(!this.modes.includes(o))return;if((e.options.move.distance.horizontal&&(t===sa.left||t===sa.right))??(e.options.move.distance.vertical&&(t===sa.top||t===sa.bottom)))return;const n=e.options.move.gravity,i=this.container,s=i.canvas.size,r=e.getRadius();if(n.enable){const a=e.position;(!n.inverse&&a.y>s.height+r&&t===sa.bottom||n.inverse&&a.y<-r&&t===sa.top)&&i.particles.remove(e)}else{if(e.velocity.y>0&&e.position.y<=s.height+r||e.velocity.y<0&&e.position.y>=-r||e.velocity.x>0&&e.position.x<=s.width+r||e.velocity.x<0&&e.position.x>=-r)return;va(e.position,i.canvas.size,Dt.origin,r,t)||i.particles.remove(e)}}}class wi{constructor(e){this.container=e,this.modes=[Ba.out]}update(e,t,a,o){if(!this.modes.includes(o))return;const n=this.container;switch(e.outType){case qa.inside:{const{x:t,y:a}=e.velocity,o=Dt.origin;o.length=e.moveCenter.radius,o.angle=e.velocity.angle+Math.PI,o.addTo(Dt.create(e.moveCenter));const{dx:i,dy:s}=Gt(e.position,o);if(t<=0&&i>=0||a<=0&&s>=0||t>=0&&i<=0||a>=0&&s<=0)return;e.position.x=Math.floor(Ut({min:0,max:n.canvas.size.width})),e.position.y=Math.floor(Ut({min:0,max:n.canvas.size.height}));const{dx:r,dy:l}=Gt(e.position,e.moveCenter);e.direction=Math.atan2(-l,-r),e.velocity.angle=e.direction;break}default:if(va(e.position,n.canvas.size,Dt.origin,e.getRadius(),t))return;switch(e.outType){case qa.outside:{e.position.x=Math.floor(Ut({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(Ut({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:t,dy:a}=Gt(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(a,t),e.velocity.angle=e.direction);break}case qa.normal:{const a=e.options.move.warp,o=n.canvas.size,i={bottom:o.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:o.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},s=e.getRadius(),r=wa(e.position,s);t===sa.right&&r.left>o.width+e.offset.x?(e.position.x=i.left,e.initialPosition.x=e.position.x,a||(e.position.y=At()*o.height,e.initialPosition.y=e.position.y)):t===sa.left&&r.right<-e.offset.x&&(e.position.x=i.right,e.initialPosition.x=e.position.x,a||(e.position.y=At()*o.height,e.initialPosition.y=e.position.y)),t===sa.bottom&&r.top>o.height+e.offset.y?(a||(e.position.x=At()*o.width,e.initialPosition.x=e.position.x),e.position.y=i.top,e.initialPosition.y=e.position.y):t===sa.top&&r.bottom<-e.offset.y&&(a||(e.position.x=At()*o.width,e.initialPosition.x=e.position.x),e.position.y=i.bottom,e.initialPosition.y=e.position.y);break}}}}}class Ci{constructor(e){this._addUpdaterIfMissing=(e,t,a)=>{const o=e.options.move.outModes;!this.updaters.has(t)&&((e,t)=>e.default===t||e.bottom===t||e.left===t||e.right===t||e.top===t)(o,t)&&this.updaters.set(t,a(this.container))},this._updateOutMode=(e,t,a,o)=>{for(const n of this.updaters.values())n.update(e,o,t,a)},this.container=e,this.updaters=new Map}init(e){this._addUpdaterIfMissing(e,Ba.bounce,e=>new bi(e)),this._addUpdaterIfMissing(e,Ba.out,e=>new wi(e)),this._addUpdaterIfMissing(e,Ba.destroy,e=>new yi(e)),this._addUpdaterIfMissing(e,Ba.none,e=>new vi(e))}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,t){const a=e.options.move.outModes;this._updateOutMode(e,t,a.bottom??a.default,sa.bottom),this._updateOutMode(e,t,a.left??a.default,sa.left),this._updateOutMode(e,t,a.right??a.default,sa.right),this._updateOutMode(e,t,a.top??a.default,sa.top)}}var ki;!function(e){e[e.r=1]="r",e[e.g=2]="g",e[e.b=3]="b",e[e.a=5]="a"}(ki||(ki={}));class ji{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const t=e.value.rgb??e.value;if(void 0!==t.r)return t}handleRangeColor(e){const t=e.value.rgb??e.value;if(void 0!==t.r)return{r:Ht(t.r),g:Ht(t.g),b:Ht(t.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const t=/rgba?\(\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i.exec(e);return t?{a:t.length>4?Qt(t[ki.a]):1,b:parseInt(t[ki.b],10),g:parseInt(t[ki.g],10),r:parseInt(t[ki.r],10)}:void 0}}class Ei{init(e){const t=e.container,a=e.options.size.animation;a.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??t.retina.sizeAnimationSpeed)/bt*t.retina.reduceFactor,a.sync||(e.size.velocity*=At()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??0)<=0||(e.size.maxLoops??0)>0&&(e.size.loops??0)<(e.size.maxLoops??0))}reset(e){e.size.loops=0}update(e,t){this.isEnabled(e)&&Ia(e,e.size,!0,e.options.size.animation.destroy,t)}}async function Si(e,t=!0){e.checkVersion("3.9.1"),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addColorManager(new pi,t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addColorManager(new xi,t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addColorManager(new ji,t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addMover("base",()=>Promise.resolve(new oi),t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addShape(new ri,t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addParticleUpdater("color",t=>Promise.resolve(new li(t,e)),t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addParticleUpdater("opacity",e=>Promise.resolve(new gi(e)),t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addParticleUpdater("outModes",e=>Promise.resolve(new Ci(e)),t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addParticleUpdater("size",()=>Promise.resolve(new Ei),t)}(e,!1),await e.refresh(t)}const _i='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"';class Fi{constructor(){this.validTypes=["emoji"],this._emojiShapeDict=new Map}destroy(){for(const[e,t]of this._emojiShapeDict)t instanceof ImageBitmap&&(null==t||t.close()),this._emojiShapeDict.delete(e)}draw(e){const t=e.particle.emojiDataKey;if(!t)return;const a=this._emojiShapeDict.get(t);a&&function(e,t){const{context:a,opacity:o}=e,n=a.globalAlpha;if(!t)return;const i=t.width,s=.5*i;a.globalAlpha=o,a.drawImage(t,-s,-s,i,i),a.globalAlpha=n}(e,a)}async init(e){const t=e.actualOptions,{validTypes:a}=this;if(!a.find(e=>xa(e,t.particles.shape.type)))return;const o=[ga(_i)],n=a.map(e=>t.particles.shape.options[e]).find(e=>!!e);n&&Oa(n,e=>{e.font&&o.push(ga(e.font))}),await Promise.all(o)}particleDestroy(e){e.emojiDataKey=void 0}particleInit(e,t){const a=t.shapeData;if(!(null==a?void 0:a.value))return;const o=za(a.value,t.randomIndexData);if(!o)return;const n="string"==typeof o?{font:a.font??_i,padding:a.padding??0,value:o}:{font:_i,padding:0,...a,...o},i=n.font,s=n.value,r=`${s}_${i}`;if(this._emojiShapeDict.has(r))return void(t.emojiDataKey=r);const l=2*n.padding,c=Wt(t.size.value),d=c+l,u=2*d;let h;if("undefined"!=typeof OffscreenCanvas){const e=new OffscreenCanvas(u,u),t=e.getContext("2d");if(!t)return;t.font=`400 ${2*c}px ${i}`,t.textBaseline="middle",t.textAlign="center",t.fillText(s,d,d),h=e.transferToImageBitmap()}else{const e=document.createElement("canvas");e.width=u,e.height=u;const t=e.getContext("2d");if(!t)return;t.font=`400 ${2*c}px ${i}`,t.textBaseline="middle",t.textAlign="center",t.fillText(s,d,d),h=e}this._emojiShapeDict.set(r,h),t.emojiDataKey=r}}function Oi(e,t,a,o,n,i){const s=t.actualOptions.interactivity.modes.attract;if(!s)return;const r=t.particles.quadTree.query(n,i);for(const l of r){const{dx:t,dy:n,distance:i}=Gt(l.position,a),r=s.speed*s.factor,c=Bt(e.getEasing(s.easing)(1-i/o)*r,1,s.maxSpeed),d=Dt.create(i?t/i*c:r,i?n/i*c:r);l.position.subFrom(d)}}class zi{constructor(){this.distance=200,this.duration=.4,this.easing=Za.easeOutQuad,this.factor=1,this.maxSpeed=50,this.speed=1}load(e){Mt(e)||(void 0!==e.distance&&(this.distance=e.distance),void 0!==e.duration&&(this.duration=e.duration),void 0!==e.easing&&(this.easing=e.easing),void 0!==e.factor&&(this.factor=e.factor),void 0!==e.maxSpeed&&(this.maxSpeed=e.maxSpeed),void 0!==e.speed&&(this.speed=e.speed))}}const Ri="attract";let Ni=class extends nn{constructor(e,t){super(t),this._engine=e,t.attract||(t.attract={particles:[]}),this.handleClickMode=e=>{const a=this.container.actualOptions.interactivity.modes.attract;if(a&&e===Ri){t.attract||(t.attract={particles:[]}),t.attract.clicking=!0,t.attract.count=0;for(const e of t.attract.particles)this.isEnabled(e)&&e.velocity.setTo(e.initialVelocity);t.attract.particles=[],t.attract.finish=!1,setTimeout(()=>{t.destroyed||(t.attract||(t.attract={particles:[]}),t.attract.clicking=!1)},a.duration*vt)}}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.attract;t&&(e.retina.attractModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,a=e.interactivity.status===xt,o=t.interactivity.events,{enable:n,mode:i}=o.onHover,{enable:s,mode:r}=o.onClick;a&&n&&xa(Ri,i)?function(e,t,a){const o=t.interactivity.mouse.position,n=t.retina.attractModeDistance;!n||n<0||!o||Oi(e,t,o,n,new an(o.x,o.y,n),e=>a(e))}(this._engine,this.container,e=>this.isEnabled(e)):s&&xa(Ri,r)&&function(e,t,a){t.attract||(t.attract={particles:[]});const{attract:o}=t;if(o.finish||(o.count||(o.count=0),o.count++,o.count===t.particles.count&&(o.finish=!0)),o.clicking){const o=t.interactivity.mouse.clickPosition,n=t.retina.attractModeDistance;if(!n||n<0||!o)return;Oi(e,t,o,n,new an(o.x,o.y,n),e=>a(e))}else!1===o.clicking&&(o.particles=[])}(this._engine,this.container,e=>this.isEnabled(e))}isEnabled(e){const t=this.container,a=t.actualOptions,o=t.interactivity.mouse,n=((null==e?void 0:e.interactivity)??a.interactivity).events;if(!(o.position&&n.onHover.enable||o.clickPosition&&n.onClick.enable))return!1;const i=n.onHover.mode,s=n.onClick.mode;return xa(Ri,i)||xa(Ri,s)}loadModeOptions(e,...t){e.attract||(e.attract=new zi);for(const a of t)e.attract.load(null==a?void 0:a.attract)}reset(){}};const Ii=.5,Pi=Math.PI*Ii;function Mi(e,t,a,o,n){const i=e.particles.quadTree.query(o,n);for(const s of i)o instanceof an?_a(Sa(s),{position:t,mass:a**2*Pi,velocity:Dt.origin,factor:Dt.origin}):o instanceof on&&Fa(s,wa(t,a))}function Ti(e,t,a,o){ja(a,t,(t,a)=>function(e,t,a,o){const n=document.querySelectorAll(t);n.length&&n.forEach(t=>{const n=t,i=e.retina.pixelRatio,s={x:(n.offsetLeft+n.offsetWidth*Ii)*i,y:(n.offsetTop+n.offsetHeight*Ii)*i},r=n.offsetWidth*Ii*i,l=10*i,c=a.type===Ta.circle?new an(s.x,s.y,r+l):new on(n.offsetLeft*i-l,n.offsetTop*i-l,n.offsetWidth*i+2*l,n.offsetHeight*i+2*l);o(s,r,c)})}(e,t,a,(t,a,n)=>Mi(e,t,a,n,o)))}class Di{constructor(){this.distance=200}load(e){Mt(e)||void 0!==e.distance&&(this.distance=e.distance)}}const Li="bounce";class Ai extends nn{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bounce;t&&(e.retina.bounceModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions.interactivity.events,a=e.interactivity.status===xt,o=t.onHover.enable,n=t.onHover.mode,i=t.onDiv;a&&o&&xa(Li,n)?function(e,t){const a=10*e.retina.pixelRatio,o=e.interactivity.mouse.position,n=e.retina.bounceModeDistance;!n||n<0||!o||Mi(e,o,n,new an(o.x,o.y,n+a),t)}(this.container,e=>this.isEnabled(e)):Ti(this.container,i,Li,e=>this.isEnabled(e))}isEnabled(e){const t=this.container,a=t.actualOptions,o=t.interactivity.mouse,n=((null==e?void 0:e.interactivity)??a.interactivity).events,i=n.onDiv;return!!o.position&&n.onHover.enable&&xa(Li,n.onHover.mode)||ka(Li,i)}loadModeOptions(e,...t){e.bounce||(e.bounce=new Di);for(const a of t)e.bounce.load(null==a?void 0:a.bounce)}reset(){}}class Bi{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(!Mt(e)){if(void 0!==e.distance&&(this.distance=e.distance),void 0!==e.duration&&(this.duration=e.duration),void 0!==e.mix&&(this.mix=e.mix),void 0!==e.opacity&&(this.opacity=e.opacity),void 0!==e.color){const t=Pt(this.color)?void 0:this.color;this.color=Oa(e.color,e=>bo.create(t,e))}void 0!==e.size&&(this.size=e.size)}}}class $i extends Bi{constructor(){super(),this.selectors=[]}load(e){super.load(e),Mt(e)||void 0!==e.selectors&&(this.selectors=e.selectors)}}class Ui extends Bi{load(e){super.load(e),Mt(e)||(this.divs=Oa(e.divs,e=>{const t=new $i;return t.load(e),t}))}}var Hi,Vi;function Wi(e,t,a,o){if(t>=a){return Bt(e+(t-a)*o,e,t)}if(t<a){return Bt(e-(a-t)*o,t,e)}}(Vi=Hi||(Hi={})).color="color",Vi.opacity="opacity",Vi.size="size";const qi="bubble";class Gi extends nn{constructor(e,t){super(e),this._clickBubble=()=>{var e;const t=this.container,a=t.actualOptions,o=t.interactivity.mouse.clickPosition,n=a.interactivity.modes.bubble;if(!n||!o)return;t.bubble||(t.bubble={});const i=t.retina.bubbleModeDistance;if(!i||i<0)return;const s=t.particles.quadTree.queryCircle(o,i,e=>this.isEnabled(e)),{bubble:r}=t;for(const l of s){if(!r.clicking)continue;l.bubble.inRange=!r.durationEnd;const a=Kt(l.getPosition(),o),s=((new Date).getTime()-(t.interactivity.mouse.clickTime??0))/vt;s>n.duration&&(r.durationEnd=!0),s>2*n.duration&&(r.clicking=!1,r.durationEnd=!1);const c={bubbleObj:{optValue:t.retina.bubbleModeSize,value:l.bubble.radius},particlesObj:{optValue:Wt(l.options.size.value)*t.retina.pixelRatio,value:l.size.value},type:Hi.size};this._process(l,a,s,c);const d={bubbleObj:{optValue:n.opacity,value:l.bubble.opacity},particlesObj:{optValue:Wt(l.options.opacity.value),value:(null==(e=l.opacity)?void 0:e.value)??1},type:Hi.opacity};this._process(l,a,s,d),!r.durationEnd&&a<=i?this._hoverBubbleColor(l,a):delete l.bubble.color}},this._hoverBubble=()=>{const e=this.container,t=e.interactivity.mouse.position,a=e.retina.bubbleModeDistance;if(!a||a<0||!t)return;const o=e.particles.quadTree.queryCircle(t,a,e=>this.isEnabled(e));for(const n of o){n.bubble.inRange=!0;const o=Kt(n.getPosition(),t),i=1-o/a;o<=a?i>=0&&e.interactivity.status===xt&&(this._hoverBubbleSize(n,i),this._hoverBubbleOpacity(n,i),this._hoverBubbleColor(n,i)):this.reset(n),"pointerleave"===e.interactivity.status&&this.reset(n)}},this._hoverBubbleColor=(e,t,a)=>{const o=this.container.actualOptions,n=a??o.interactivity.modes.bubble;if(n){if(!e.bubble.finalColor){const t=n.color;if(!t)return;const a=za(t);e.bubble.finalColor=oo(this._engine,a)}if(e.bubble.finalColor)if(n.mix){e.bubble.color=void 0;const a=e.getFillColor();e.bubble.color=a?no(co(a,e.bubble.finalColor,1-t,t)):e.bubble.finalColor}else e.bubble.color=e.bubble.finalColor}},this._hoverBubbleOpacity=(e,t,a)=>{var o,n;const i=this.container.actualOptions,s=(null==a?void 0:a.opacity)??(null==(o=i.interactivity.modes.bubble)?void 0:o.opacity);if(!s)return;const r=e.options.opacity.value,l=Wi((null==(n=e.opacity)?void 0:n.value)??1,s,Wt(r),t);void 0!==l&&(e.bubble.opacity=l)},this._hoverBubbleSize=(e,t,a)=>{const o=this.container,n=(null==a?void 0:a.size)?a.size*o.retina.pixelRatio:o.retina.bubbleModeSize;if(void 0===n)return;const i=Wt(e.options.size.value)*o.retina.pixelRatio,s=Wi(e.size.value,n,i,t);void 0!==s&&(e.bubble.radius=s)},this._process=(e,t,a,o)=>{const n=this.container,i=o.bubbleObj.optValue,s=n.actualOptions.interactivity.modes.bubble;if(!s||void 0===i)return;const r=s.duration,l=n.retina.bubbleModeDistance,c=o.particlesObj.optValue,d=o.bubbleObj.value,u=o.particlesObj.value??0,h=o.type;if(l&&!(l<0)&&i!==c)if(n.bubble||(n.bubble={}),n.bubble.durationEnd)d&&(h===Hi.size&&delete e.bubble.radius,h===Hi.opacity&&delete e.bubble.opacity);else if(t<=l){if((d??u)!==i){const t=u-a*(u-i)/r;h===Hi.size&&(e.bubble.radius=t),h===Hi.opacity&&(e.bubble.opacity=t)}}else h===Hi.size&&delete e.bubble.radius,h===Hi.opacity&&delete e.bubble.opacity},this._singleSelectorHover=(e,t,a)=>{const o=this.container,n=document.querySelectorAll(t),i=o.actualOptions.interactivity.modes.bubble;i&&n.length&&n.forEach(t=>{const n=t,s=o.retina.pixelRatio,r={x:(n.offsetLeft+.5*n.offsetWidth)*s,y:(n.offsetTop+.5*n.offsetHeight)*s},l=.5*n.offsetWidth*s,c=a.type===Ta.circle?new an(r.x,r.y,l):new on(n.offsetLeft*s,n.offsetTop*s,n.offsetWidth*s,n.offsetHeight*s),d=o.particles.quadTree.query(c,e=>this.isEnabled(e));for(const a of d){if(!c.contains(a.getPosition()))continue;a.bubble.inRange=!0;const t=Ea(i.divs,n);a.bubble.div&&a.bubble.div===n||(this.clear(a,e,!0),a.bubble.div=n),this._hoverBubbleSize(a,1,t),this._hoverBubbleOpacity(a,1,t),this._hoverBubbleColor(a,1,t)}})},this._engine=t,e.bubble||(e.bubble={}),this.handleClickMode=t=>{t===qi&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,t,a){e.bubble.inRange&&!a||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bubble;t&&(e.retina.bubbleModeDistance=t.distance*e.retina.pixelRatio,void 0!==t.size&&(e.retina.bubbleModeSize=t.size*e.retina.pixelRatio))}interact(e){const t=this.container.actualOptions.interactivity.events,a=t.onHover,o=t.onClick,n=a.enable,i=a.mode,s=o.enable,r=o.mode,l=t.onDiv;n&&xa(qi,i)?this._hoverBubble():s&&xa(qi,r)?this._clickBubble():ja(qi,l,(t,a)=>this._singleSelectorHover(e,t,a))}isEnabled(e){const t=this.container,a=t.actualOptions,o=t.interactivity.mouse,n=((null==e?void 0:e.interactivity)??a.interactivity).events,{onClick:i,onDiv:s,onHover:r}=n,l=ka(qi,s);return!!(l||r.enable&&o.position||i.enable&&o.clickPosition)&&(xa(qi,r.mode)||xa(qi,i.mode)||l)}loadModeOptions(e,...t){e.bubble||(e.bubble=new Ui);for(const a of t)e.bubble.load(null==a?void 0:a.bubble)}reset(e){e.bubble.inRange=!1}}class Ki{constructor(){this.opacity=.5}load(e){Mt(e)||void 0!==e.opacity&&(this.opacity=e.opacity)}}class Yi{constructor(){this.distance=80,this.links=new Ki,this.radius=60}load(e){Mt(e)||(void 0!==e.distance&&(this.distance=e.distance),this.links.load(e.links),void 0!==e.radius&&(this.radius=e.radius))}}function Ji(e,t,a,o){const n=e.actualOptions.interactivity.modes.connect;if(n)return function(e,t,a,o){const n=Math.floor(a.getRadius()/t.getRadius()),i=t.getFillColor(),s=a.getFillColor();if(!i||!s)return;const r=t.getPosition(),l=a.getPosition(),c=co(i,s,t.getRadius(),a.getRadius()),d=e.createLinearGradient(r.x,r.y,l.x,l.y);return d.addColorStop(0,lo(i,o)),d.addColorStop(Bt(n,0,1),ro(c,o)),d.addColorStop(1,lo(s,o)),d}(t,a,o,n.links.opacity)}function Xi(e,t,a){e.canvas.draw(o=>{const n=Ji(e,o,t,a);if(!n)return;const i=t.getPosition(),s=a.getPosition();var r,l,c;r=o,l=t.retina.linksWidth??0,c=n,go(r,i,s),r.lineWidth=l,r.strokeStyle=c,r.stroke()})}class Zi extends nn{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.connect;t&&(e.retina.connectModeDistance=t.distance*e.retina.pixelRatio,e.retina.connectModeRadius=t.radius*e.retina.pixelRatio)}interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&"pointermove"===e.interactivity.status){const t=e.interactivity.mouse.position,{connectModeDistance:a,connectModeRadius:o}=e.retina;if(!a||a<0||!o||o<0||!t)return;const n=Math.abs(o),i=e.particles.quadTree.queryCircle(t,n,e=>this.isEnabled(e));i.forEach((t,o)=>{const n=t.getPosition();for(const s of i.slice(o+1)){const o=s.getPosition(),i=Math.abs(a),r=Math.abs(n.x-o.x),l=Math.abs(n.y-o.y);r<i&&l<i&&Xi(e,t,s)}})}}isEnabled(e){const t=this.container,a=t.interactivity.mouse,o=((null==e?void 0:e.interactivity)??t.actualOptions.interactivity).events;return!(!o.onHover.enable||!a.position)&&xa("connect",o.onHover.mode)}loadModeOptions(e,...t){e.connect||(e.connect=new Yi);for(const a of t)e.connect.load(null==a?void 0:a.connect)}reset(){}}class Qi{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){Mt(e)||(void 0!==e.blink&&(this.blink=e.blink),void 0!==e.color&&(this.color=bo.create(this.color,e.color)),void 0!==e.consent&&(this.consent=e.consent),void 0!==e.opacity&&(this.opacity=e.opacity))}}class es{constructor(){this.distance=100,this.links=new Qi}load(e){Mt(e)||(void 0!==e.distance&&(this.distance=e.distance),this.links.load(e.links))}}function ts(e,t,a,o,n){e.canvas.draw(e=>{const i=t.getPosition();!function(e,t,a,o,n,i){go(e,a,o),e.strokeStyle=ro(n,i),e.lineWidth=t,e.stroke()}(e,t.retina.linksWidth??0,i,n,a,o)})}class as extends nn{constructor(e,t){super(e),this._engine=t}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.grab;t&&(e.retina.grabModeDistance=t.distance*e.retina.pixelRatio)}interact(){var e;const t=this.container,a=t.actualOptions.interactivity;if(!a.modes.grab||!a.events.onHover.enable||t.interactivity.status!==xt)return;const o=t.interactivity.mouse.position;if(!o)return;const n=t.retina.grabModeDistance;if(!n||n<0)return;const i=t.particles.quadTree.queryCircle(o,n,e=>this.isEnabled(e));for(const s of i){const i=Kt(s.getPosition(),o);if(i>n)continue;const r=a.modes.grab.links,l=r.opacity,c=l-i*l/n;if(c<=0)continue;const d=r.color??(null==(e=s.options.links)?void 0:e.color);if(!t.particles.grabLineColor&&d){const e=a.modes.grab.links;t.particles.grabLineColor=ho(this._engine,d,e.blink,e.consent)}const u=uo(s,void 0,t.particles.grabLineColor);u&&ts(t,s,u,c,o)}}isEnabled(e){const t=this.container,a=t.interactivity.mouse,o=((null==e?void 0:e.interactivity)??t.actualOptions.interactivity).events;return o.onHover.enable&&!!a.position&&xa("grab",o.onHover.mode)}loadModeOptions(e,...t){e.grab||(e.grab=new es);for(const a of t)e.grab.load(null==a?void 0:a.grab)}reset(){}}class os extends nn{constructor(e){super(e),this.handleClickMode=e=>{if("pause"!==e)return;const t=this.container;t.animationStatus?t.pause():t.play()}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}class ns{constructor(){this.default=!0,this.groups=[],this.quantity=4}load(e){if(Mt(e))return;void 0!==e.default&&(this.default=e.default),void 0!==e.groups&&(this.groups=e.groups.map(e=>e)),this.groups.length||(this.default=!0);const t=e.quantity;void 0!==t&&(this.quantity=qt(t)),this.particles=Oa(e.particles,e=>Ca({},e))}}class is extends nn{constructor(e){super(e),this.handleClickMode=e=>{if("push"!==e)return;const t=this.container,a=t.actualOptions.interactivity.modes.push;if(!a)return;const o=Ht(a.quantity);if(o<=0)return;const n=ya([void 0,...a.groups]),i=Ca(void 0!==n?t.actualOptions.particles.groups[n]:void 0,za(a.particles));t.particles.push(o,t.interactivity.mouse,i,n)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.push||(e.push=new ns);for(const a of t)e.push.load(null==a?void 0:a.push)}reset(){}}class ss{constructor(){this.quantity=2}load(e){if(Mt(e))return;const t=e.quantity;void 0!==t&&(this.quantity=qt(t))}}class rs extends nn{constructor(e){super(e),this.handleClickMode=e=>{const t=this.container,a=t.actualOptions;if(!a.interactivity.modes.remove||"remove"!==e)return;const o=Ht(a.interactivity.modes.remove.quantity);t.particles.removeQuantity(o)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.remove||(e.remove=new ss);for(const a of t)e.remove.load(null==a?void 0:a.remove)}reset(){}}class ls{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing=Za.easeOutQuad}load(e){Mt(e)||(void 0!==e.distance&&(this.distance=e.distance),void 0!==e.duration&&(this.duration=e.duration),void 0!==e.easing&&(this.easing=e.easing),void 0!==e.factor&&(this.factor=e.factor),void 0!==e.speed&&(this.speed=e.speed),void 0!==e.maxSpeed&&(this.maxSpeed=e.maxSpeed))}}class cs extends ls{constructor(){super(),this.selectors=[]}load(e){super.load(e),Mt(e)||void 0!==e.selectors&&(this.selectors=e.selectors)}}class ds extends ls{load(e){super.load(e),Mt(e)||(this.divs=Oa(e.divs,e=>{const t=new cs;return t.load(e),t}))}}const us="repulse";class hs extends nn{constructor(e,t){super(t),this._clickRepulse=()=>{const e=this.container,t=e.actualOptions.interactivity.modes.repulse;if(!t)return;const a=e.repulse??{particles:[]};if(a.finish||(a.count||(a.count=0),a.count++,a.count===e.particles.count&&(a.finish=!0)),a.clicking){const o=e.retina.repulseModeDistance;if(!o||o<0)return;const n=Math.pow(o/6,3),i=e.interactivity.mouse.clickPosition;if(void 0===i)return;const s=new an(i.x,i.y,n),r=e.particles.quadTree.query(s,e=>this.isEnabled(e));for(const e of r){const{dx:o,dy:s,distance:r}=Gt(i,e.position),l=r**2,c=-n*t.speed/l;if(l<=n){a.particles.push(e);const t=Dt.create(o,s);t.length=c,e.velocity.setTo(t)}}}else if(!1===a.clicking){for(const e of a.particles)e.velocity.setTo(e.initialVelocity);a.particles=[]}},this._hoverRepulse=()=>{const e=this.container,t=e.interactivity.mouse.position,a=e.retina.repulseModeDistance;!a||a<0||!t||this._processRepulse(t,a,new an(t.x,t.y,a))},this._processRepulse=(e,t,a,o)=>{const n=this.container,i=n.particles.quadTree.query(a,e=>this.isEnabled(e)),s=n.actualOptions.interactivity.modes.repulse;if(!s)return;const{easing:r,speed:l,factor:c,maxSpeed:d}=s,u=this._engine.getEasing(r),h=((null==o?void 0:o.speed)??l)*c;for(const p of i){const{dx:a,dy:o,distance:n}=Gt(p.position,e),i=Bt(u(1-n/t)*h,0,d),s=Dt.create(n?a/n*i:h,n?o/n*i:h);p.position.addTo(s)}},this._singleSelectorRepulse=(e,t)=>{const a=this.container,o=a.actualOptions.interactivity.modes.repulse;if(!o)return;const n=document.querySelectorAll(e);n.length&&n.forEach(e=>{const n=e,i=a.retina.pixelRatio,s={x:(n.offsetLeft+.5*n.offsetWidth)*i,y:(n.offsetTop+.5*n.offsetHeight)*i},r=.5*n.offsetWidth*i,l=t.type===Ta.circle?new an(s.x,s.y,r):new on(n.offsetLeft*i,n.offsetTop*i,n.offsetWidth*i,n.offsetHeight*i),c=Ea(o.divs,n);this._processRepulse(s,r,l,c)})},this._engine=e,t.repulse||(t.repulse={particles:[]}),this.handleClickMode=e=>{const a=this.container.actualOptions.interactivity.modes.repulse;if(!a||e!==us)return;t.repulse||(t.repulse={particles:[]});const o=t.repulse;o.clicking=!0,o.count=0;for(const n of t.repulse.particles)this.isEnabled(n)&&n.velocity.setTo(n.initialVelocity);o.particles=[],o.finish=!1,setTimeout(()=>{t.destroyed||(o.clicking=!1)},a.duration*vt)}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.repulse;t&&(e.retina.repulseModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,a=e.interactivity.status===xt,o=t.interactivity.events,n=o.onHover,i=n.enable,s=n.mode,r=o.onClick,l=r.enable,c=r.mode,d=o.onDiv;a&&i&&xa(us,s)?this._hoverRepulse():l&&xa(us,c)?this._clickRepulse():ja(us,d,(e,t)=>this._singleSelectorRepulse(e,t))}isEnabled(e){const t=this.container,a=t.actualOptions,o=t.interactivity.mouse,n=((null==e?void 0:e.interactivity)??a.interactivity).events,i=n.onDiv,s=n.onHover,r=n.onClick,l=ka(us,i);if(!(l||s.enable&&o.position||r.enable&&o.clickPosition))return!1;const c=s.mode,d=r.mode;return xa(us,c)||xa(us,d)||l}loadModeOptions(e,...t){e.repulse||(e.repulse=new ds);for(const a of t)e.repulse.load(null==a?void 0:a.repulse)}reset(){}}class ps{constructor(){this.factor=3,this.radius=200}load(e){Mt(e)||(void 0!==e.factor&&(this.factor=e.factor),void 0!==e.radius&&(this.radius=e.radius))}}class ms extends nn{constructor(e){super(e)}clear(e,t,a){e.slow.inRange&&!a||(e.slow.factor=1)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.slow;t&&(e.retina.slowModeRadius=t.radius*e.retina.pixelRatio)}interact(){}isEnabled(e){const t=this.container,a=t.interactivity.mouse,o=((null==e?void 0:e.interactivity)??t.actualOptions.interactivity).events;return o.onHover.enable&&!!a.position&&xa("slow",o.onHover.mode)}loadModeOptions(e,...t){e.slow||(e.slow=new ps);for(const a of t)e.slow.load(null==a?void 0:a.slow)}reset(e){e.slow.inRange=!1;const t=this.container,a=t.actualOptions,o=t.interactivity.mouse.position,n=t.retina.slowModeRadius,i=a.interactivity.modes.slow;if(!i||!n||n<0||!o)return;const s=Kt(o,e.getPosition()),r=s/n,l=i.factor,{slow:c}=e;s>n||(c.inRange=!0,c.factor=r/l)}}const fs=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;async function xs(e){return new Promise(t=>{e.loading=!0;const a=new Image;e.element=a,a.addEventListener("load",()=>{e.loading=!1,t()}),a.addEventListener("error",()=>{e.element=void 0,e.error=!0,e.loading=!1,pa().error(`${gt} loading image: ${e.source}`),t()}),a.src=e.source})}async function gs(e){if("svg"!==e.type)return void(await xs(e));e.loading=!0;const t=await fetch(e.source);t.ok?e.svgData=await t.text():(pa().error(`${gt} Image not found`),e.error=!0),e.loading=!1}function bs(e,t,a,o){var n;const i=function(e,t,a){const{svgData:o}=e;if(!o)return"";const n=lo(t,a);if(o.includes("fill"))return o.replace(fs,()=>n);const i=o.indexOf(">");return`${o.substring(0,i)} fill="${n}"${o.substring(i)}`}(e,a,(null==(n=o.opacity)?void 0:n.value)??1),s={color:a,gif:t.gif,data:{...e,svgData:i},loaded:!1,ratio:t.width/t.height,replaceColor:t.replaceColor,source:t.src};return new Promise(t=>{const a=new Blob([i],{type:"image/svg+xml"}),o=URL||window.URL||window.webkitURL||window,n=o.createObjectURL(a),r=new Image;r.addEventListener("load",()=>{s.loaded=!0,s.element=r,t(s),o.revokeObjectURL(n)});r.addEventListener("error",()=>{(async()=>{o.revokeObjectURL(n);const a={...e,error:!1,loading:!0};await xs(a),s.loaded=!0,s.element=a.element,t(s)})()}),r.src=n})}const ys=[0,4,2,1],vs=[8,8,4,2];class ws{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const t=this.data.slice(this.pos,this.pos+e);return this.pos+=t.length,t.reduce((e,t)=>e+String.fromCharCode(t),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",t=0;do{t=this.data[this.pos++];for(let a=t;--a>=0;e+=String.fromCharCode(this.data[this.pos++]));}while(0!==t);return e}readSubBlocksBin(){let e=this.data[this.pos],t=0;for(let o=0;0!==e;o+=e+1,e=this.data[this.pos+o])t+=e;const a=new Uint8Array(t);e=this.data[this.pos++];for(let o=0;0!==e;e=this.data[this.pos++])for(let t=e;--t>=0;a[o++]=this.data[this.pos++]);return a}skipSubBlocks(){for(const e=1,t=0;this.data[this.pos]!==t;this.pos+=this.data[this.pos]+e);this.pos++}}var Cs,ks,js,Es;(ks=Cs||(Cs={}))[ks.Replace=0]="Replace",ks[ks.Combine=1]="Combine",ks[ks.RestoreBackground=2]="RestoreBackground",ks[ks.RestorePrevious=3]="RestorePrevious",ks[ks.UndefinedA=4]="UndefinedA",ks[ks.UndefinedB=5]="UndefinedB",ks[ks.UndefinedC=6]="UndefinedC",ks[ks.UndefinedD=7]="UndefinedD",(Es=js||(js={}))[Es.Extension=33]="Extension",Es[Es.ApplicationExtension=255]="ApplicationExtension",Es[Es.GraphicsControlExtension=249]="GraphicsControlExtension",Es[Es.PlainTextExtension=1]="PlainTextExtension",Es[Es.CommentExtension=254]="CommentExtension",Es[Es.Image=44]="Image",Es[Es.EndOfFile=59]="EndOfFile";const Ss=0,_s=0;function Fs(e,t){const a=[];for(let o=0;o<t;o++)a.push({r:e.data[e.pos],g:e.data[e.pos+1],b:e.data[e.pos+2]}),e.pos+=3;return a}async function Os(e,t,a,o,n,i){switch(e.nextByte()){case js.EndOfFile:return!0;case js.Image:await async function(e,t,a,o,n){const i=t.frames[o(!0)];i.left=e.nextTwoBytes(),i.top=e.nextTwoBytes(),i.width=e.nextTwoBytes(),i.height=e.nextTwoBytes();const s=e.nextByte(),r=!(128&~s),l=!(64&~s);i.sortFlag=!(32&~s),i.reserved=(24&s)>>>3;const c=1<<1+(7&s);r&&(i.localColorTable=Fs(e,c));const d=e=>{const{r:o,g:s,b:l}=(r?i.localColorTable:t.globalColorTable)[e];return e!==n(null)?{r:o,g:s,b:l,a:255}:{r:o,g:s,b:l,a:a?~~((o+s+l)/3):0}},u=(()=>{try{return new ImageData(i.width,i.height,{colorSpace:"srgb"})}catch(e){if(e instanceof DOMException&&"IndexSizeError"===e.name)return null;throw e}})();if(null==u)throw new EvalError("GIF frame size is to large");const h=e.nextByte(),p=e.readSubBlocksBin(),m=1<<h,f=(e,t)=>{const a=e>>>3,o=7&e;return(p[a]+(p[a+1]<<8)+(p[a+2]<<16)&(1<<t)-1<<o)>>>o};if(l){for(let e=0,t=h+1,a=0,o=[[0]],n=0;n<4;n++)if(ys[n]<i.height){let s=0,r=0,l=!1;for(;!l;){const c=e;if(e=f(a,t),a+=t+1,e===m){t=h+1,o.length=m+2;for(let e=0;e<o.length;e++)o[e]=e<m?[e]:[]}else{e>=o.length?o.push(o[c].concat(o[c][0])):c!==m&&o.push(o[c].concat(o[e][0]));for(const t of o[e]){const{r:e,g:a,b:o,a:l}=d(t);u.data.set([e,a,o,l],ys[n]*i.width+vs[n]*r+s%(4*i.width)),s+=4}o.length===1<<t&&t<12&&t++}s===4*i.width*(r+1)&&(r++,ys[n]+vs[n]*r>=i.height&&(l=!0))}}i.image=u,i.bitmap=await createImageBitmap(u)}else{let e=0,t=h+1,a=0,o=-4,n=!1;const s=[[0]];for(;!n;){const i=e;if(e=f(a,t),a+=t,e===m){t=h+1,s.length=m+2;for(let e=0;e<s.length;e++)s[e]=e<m?[e]:[]}else{if(e===m+1){n=!0;break}e>=s.length?s.push(s[i].concat(s[i][0])):i!==m&&s.push(s[i].concat(s[e][0]));for(const t of s[e]){const{r:e,g:a,b:n,a:i}=d(t);u.data.set([e,a,n,i],o+=4)}s.length>=1<<t&&t<12&&t++}}i.image=u,i.bitmap=await createImageBitmap(u)}}(e,t,a,o,n);break;case js.Extension:!function(e,t,a,o){switch(e.nextByte()){case js.GraphicsControlExtension:{const n=t.frames[a(!1)];e.pos++;const i=e.nextByte();n.GCreserved=(224&i)>>>5,n.disposalMethod=(28&i)>>>2,n.userInputDelayFlag=!(2&~i);const s=!(1&~i);n.delayTime=10*e.nextTwoBytes();const r=e.nextByte();s&&o(r),e.pos++;break}case js.ApplicationExtension:{e.pos++;const a={identifier:e.getString(8),authenticationCode:e.getString(3),data:e.readSubBlocksBin()};t.applicationExtensions.push(a);break}case js.CommentExtension:t.comments.push([a(!1),e.readSubBlocks()]);break;case js.PlainTextExtension:if(0===t.globalColorTable.length)throw new EvalError("plain text extension without global color table");e.pos++,t.frames[a(!1)].plainTextData={left:e.nextTwoBytes(),top:e.nextTwoBytes(),width:e.nextTwoBytes(),height:e.nextTwoBytes(),charSize:{width:e.nextTwoBytes(),height:e.nextTwoBytes()},foregroundColor:e.nextByte(),backgroundColor:e.nextByte(),text:e.readSubBlocks()};break;default:e.skipSubBlocks()}}(e,t,o,n);break;default:throw new EvalError("undefined block found")}return!1}async function zs(e){if("gif"===e.type){e.loading=!0;try{e.gifData=await async function(e,t,a){a||(a=!1);const o=await fetch(e);if(!o.ok&&404===o.status)throw new EvalError("file not found");const n=await o.arrayBuffer(),i={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},s=new ws(new Uint8ClampedArray(n));if("GIF89a"!==s.getString(6))throw new Error("not a supported GIF file");i.width=s.nextTwoBytes(),i.height=s.nextTwoBytes();const r=s.nextByte(),l=!(128&~r);i.colorRes=(112&r)>>>4,i.sortFlag=!(8&~r);const c=1<<1+(7&r),d=s.nextByte();i.pixelAspectRatio=s.nextByte(),0!==i.pixelAspectRatio&&(i.pixelAspectRatio=(i.pixelAspectRatio+15)/64),l&&(i.globalColorTable=Fs(s,c));const u=(()=>{try{return new ImageData(i.width,i.height,{colorSpace:"srgb"})}catch(e){if(e instanceof DOMException&&"IndexSizeError"===e.name)return null;throw e}})();if(null==u)throw new Error("GIF frame size is to large");const{r:h,g:p,b:m}=i.globalColorTable[d];u.data.set(l?[h,p,m,255]:[0,0,0,0]);for(let w=4;w<u.data.length;w*=2)u.data.copyWithin(w,0,w);i.backgroundImage=u;let f=-1,x=!0,g=-1;const b=e=>(e&&(x=!0),f),y=e=>(null!=e&&(g=e),g);try{do{x&&(i.frames.push({left:0,top:0,width:0,height:0,disposalMethod:Cs.Replace,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),f++,g=-1,x=!1)}while(!(await Os(s,i,a,b,y)));i.frames.length--;for(const e of i.frames){if(e.userInputDelayFlag&&0===e.delayTime){i.totalTime=1/0;break}i.totalTime+=e.delayTime}return i}catch(v){if(v instanceof EvalError)throw new Error(`error while parsing frame ${f} "${v.message}"`);throw v}}(e.source),e.gifLoopCount=function(e){for(const t of e.applicationExtensions)if(t.identifier+t.authenticationCode==="NETSCAPE2.0")return t.data[1]+(t.data[2]<<8);return NaN}(e.gifData)??0,e.gifLoopCount||(e.gifLoopCount=1/0)}catch{e.error=!0}e.loading=!1}else await xs(e)}class Rs{constructor(e){this.validTypes=["image","images"],this.loadImageShape=async e=>{if(!this._engine.loadImage)throw new Error(`${gt} image shape not initialized`);await this._engine.loadImage({gif:e.gif,name:e.name,replaceColor:e.replaceColor??!1,src:e.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e){const{context:t,radius:a,particle:o,opacity:n}=e,i=o.image,s=null==i?void 0:i.element;if(i){if(t.globalAlpha=n,i.gif&&i.gifData)!function(e){const{context:t,radius:a,particle:o,delta:n}=e,i=o.image;if(!(null==i?void 0:i.gifData)||!i.gif)return;const s=new OffscreenCanvas(i.gifData.width,i.gifData.height),r=s.getContext("2d");if(!r)throw new Error("could not create offscreen canvas context");r.imageSmoothingQuality="low",r.imageSmoothingEnabled=!1,r.clearRect(Ss,_s,s.width,s.height),void 0===o.gifLoopCount&&(o.gifLoopCount=i.gifLoopCount??0);let l=o.gifFrame??0;const c={x:.5*-i.gifData.width,y:.5*-i.gifData.height},d=i.gifData.frames[l];if(void 0===o.gifTime&&(o.gifTime=0),d.bitmap){switch(t.scale(a/i.gifData.width,a/i.gifData.height),d.disposalMethod){case Cs.UndefinedA:case Cs.UndefinedB:case Cs.UndefinedC:case Cs.UndefinedD:case Cs.Replace:r.drawImage(d.bitmap,d.left,d.top),t.drawImage(s,c.x,c.y),r.clearRect(Ss,_s,s.width,s.height);break;case Cs.Combine:r.drawImage(d.bitmap,d.left,d.top),t.drawImage(s,c.x,c.y);break;case Cs.RestoreBackground:r.drawImage(d.bitmap,d.left,d.top),t.drawImage(s,c.x,c.y),r.clearRect(Ss,_s,s.width,s.height),i.gifData.globalColorTable.length?r.putImageData(i.gifData.backgroundImage,c.x,c.y):r.putImageData(i.gifData.frames[0].image,c.x+d.left,c.y+d.top);break;case Cs.RestorePrevious:{const e=r.getImageData(Ss,_s,s.width,s.height);r.drawImage(d.bitmap,d.left,d.top),t.drawImage(s,c.x,c.y),r.clearRect(Ss,_s,s.width,s.height),r.putImageData(e,Ss,_s)}}if(o.gifTime+=n.value,o.gifTime>d.delayTime){if(o.gifTime-=d.delayTime,++l>=i.gifData.frames.length){if(--o.gifLoopCount<=0)return;l=0,r.clearRect(Ss,_s,s.width,s.height)}o.gifFrame=l}t.scale(i.gifData.width/a,i.gifData.height/a)}}(e);else if(s){const e=i.ratio,o={x:-a,y:-a},n=2*a;t.drawImage(s,o.x,o.y,n,n/e)}t.globalAlpha=1}}getSidesCount(){return 12}async init(e){const t=e.actualOptions;if(t.preload&&this._engine.loadImage)for(const a of t.preload)await this._engine.loadImage(a)}loadShape(e){if("image"!==e.shape&&"images"!==e.shape)return;this._engine.images||(this._engine.images=[]);const t=e.shapeData;if(!t)return;this._engine.images.find(e=>e.name===t.name||e.source===t.src)||this.loadImageShape(t).then(()=>{this.loadShape(e)})}particleInit(e,t){if("image"!==t.shape&&"images"!==t.shape)return;this._engine.images||(this._engine.images=[]);const a=this._engine.images,o=t.shapeData;if(!o)return;const n=t.getFillColor(),i=a.find(e=>e.name===o.name||e.source===o.src);if(!i)return;const s=o.replaceColor??i.replaceColor;i.loading?setTimeout(()=>{this.particleInit(e,t)}):(async()=>{let e;e=i.svgData&&n?await bs(i,o,n,t):{color:n,data:i,element:i.element,gif:i.gif,gifData:i.gifData,gifLoopCount:i.gifLoopCount,loaded:!0,ratio:o.width&&o.height?o.width/o.height:i.ratio??1,replaceColor:s,source:o.src},e.ratio||(e.ratio=1);const a={image:e,fill:o.fill??t.shapeFill,close:o.close??t.shapeClose};t.image=a.image,t.shapeFill=a.fill,t.shapeClose=a.close})()}}class Ns{constructor(){this.src="",this.gif=!1}load(e){Mt(e)||(void 0!==e.gif&&(this.gif=e.gif),void 0!==e.height&&(this.height=e.height),void 0!==e.name&&(this.name=e.name),void 0!==e.replaceColor&&(this.replaceColor=e.replaceColor),void 0!==e.src&&(this.src=e.src),void 0!==e.width&&(this.width=e.width))}}class Is{constructor(e){this.id="imagePreloader",this._engine=e}async getPlugin(){return await Promise.resolve(),{}}loadOptions(e,t){if(!(null==t?void 0:t.preload))return;e.preload||(e.preload=[]);const a=e.preload;for(const o of t.preload){const e=a.find(e=>e.name===o.name||e.src===o.src);if(e)e.load(o);else{const e=new Ns;e.load(o),a.push(e)}}}needsPlugin(){return!0}}async function Ps(e,t=!0){e.checkVersion("3.9.1"),function(e){e.loadImage||(e.loadImage=async t=>{if(!t.name&&!t.src)throw new Error(`${gt} no image source provided`);if(e.images||(e.images=[]),!e.images.find(e=>e.name===t.name||e.source===t.src))try{const a={gif:t.gif??!1,name:t.name??t.src,source:t.src,type:t.src.substring(t.src.length-3),error:!1,loading:!0,replaceColor:t.replaceColor,ratio:t.width&&t.height?t.width/t.height:void 0};let o;e.images.push(a),o=t.gif?zs:t.replaceColor?gs:xs,await o(a)}catch{throw new Error(`${gt} ${t.name??t.src} not found`)}})}(e);const a=new Is(e);await e.addPlugin(a,t),await e.addShape(new Rs(e),t)}class Ms extends So{constructor(){super(),this.sync=!1}load(e){Mt(e)||(super.load(e),void 0!==e.sync&&(this.sync=e.sync))}}class Ts extends So{constructor(){super(),this.sync=!1}load(e){Mt(e)||(super.load(e),void 0!==e.sync&&(this.sync=e.sync))}}class Ds{constructor(){this.count=0,this.delay=new Ms,this.duration=new Ts}load(e){Mt(e)||(void 0!==e.count&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}class Ls{constructor(e){this.container=e}init(e){const t=this.container,a=e.options.life;a&&(e.life={delay:t.retina.reduceFactor?Ht(a.delay.value)*(a.delay.sync?1:At())/t.retina.reduceFactor*vt:0,delayTime:0,duration:t.retina.reduceFactor?Ht(a.duration.value)*(a.duration.sync?1:At())/t.retina.reduceFactor*vt:0,time:0,count:a.count},e.life.duration<=0&&(e.life.duration=-1),e.life.count<=0&&(e.life.count=-1),e.life&&(e.spawning=e.life.delay>0))}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.life||(e.life=new Ds);for(const a of t)e.life.load(null==a?void 0:a.life)}update(e,t){this.isEnabled(e)&&e.life&&function(e,t,a){if(!e.life)return;const o=e.life;let n=!1;if(e.spawning){if(o.delayTime+=t.value,!(o.delayTime>=e.life.delay))return;n=!0,e.spawning=!1,o.delayTime=0,o.time=0}if(-1===o.duration)return;if(e.spawning)return;if(n?o.time=0:o.time+=t.value,o.time<o.duration)return;if(o.time=0,e.life.count>0&&e.life.count--,0===e.life.count)return void e.destroy();const i=qt(0,a.width),s=qt(0,a.width);e.position.x=Ut(i),e.position.y=Ut(s),e.spawning=!0,o.delayTime=0,o.time=0,e.reset();const r=e.options.life;r&&(o.delay=Ht(r.delay.value)*vt,o.duration=Ht(r.duration.value)*vt)}(e,t,this.container.canvas.size)}}class As{constructor(){this.validTypes=["line"]}draw(e){!function(e){const{context:t,particle:a,radius:o}=e,n=a.shapeData;t.moveTo(-o,0),t.lineTo(o,0),t.lineCap=(null==n?void 0:n.cap)??"butt"}(e)}getSidesCount(){return 1}}class Bs{init(){}isEnabled(e){return!fa()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const t=e.container,a=t.actualOptions.interactivity.events.onHover.parallax;if(fa()||!a.enable)return;const o=a.force,n=t.interactivity.mouse.position;if(!n)return;const i=t.canvas.size,s=.5*i.width,r=.5*i.height,l=a.smooth,c=e.getRadius()/o,d=(n.x-s)*c,u=(n.y-r)*c,{offset:h}=e;h.x+=(d-h.x)/l,h.y+=(u-h.y)/l}}class $s extends sn{constructor(e){super(e)}clear(){}init(){}interact(e){const t=this.container;void 0===e.attractDistance&&(e.attractDistance=Ht(e.options.move.attract.distance)*t.retina.pixelRatio);const a=e.attractDistance,o=e.getPosition(),n=t.particles.quadTree.queryCircle(o,a);for(const i of n){if(e===i||!i.options.move.attract.enable||i.destroyed||i.spawning)continue;const t=i.getPosition(),{dx:a,dy:n}=Gt(o,t),s=e.options.move.attract.rotate,r=a/(1e3*s.x),l=n/(1e3*s.y),c=i.size.value/e.size.value,d=1/c;e.velocity.x-=r*c,e.velocity.y-=l*c,i.velocity.x+=r*d,i.velocity.y+=l*d}}isEnabled(e){return e.options.move.attract.enable}reset(){}}function Us(e,t,a,o,n,i){const s=Bt(e.options.collisions.absorb.speed*n.factor/10,0,o);e.size.value+=.5*s,a.size.value-=s,o<=i&&(a.size.value=0,a.destroy())}const Hs=e=>{void 0===e.collisionMaxSpeed&&(e.collisionMaxSpeed=Ht(e.options.collisions.maxSpeed)),e.velocity.length>e.collisionMaxSpeed&&(e.velocity.length=e.collisionMaxSpeed)};function Vs(e,t){_a(Sa(e),Sa(t)),Hs(e),Hs(t)}function Ws(e,t,a,o){switch(e.options.collisions.mode){case La.absorb:!function(e,t,a,o){const n=e.getRadius(),i=t.getRadius();void 0===n&&void 0!==i?e.destroy():void 0!==n&&void 0===i?t.destroy():void 0!==n&&void 0!==i&&(n>=i?Us(e,0,t,i,a,o):Us(t,0,e,n,a,o))}(e,t,a,o);break;case La.bounce:Vs(e,t);break;case La.destroy:!function(e,t){e.unbreakable||t.unbreakable||Vs(e,t),void 0===e.getRadius()&&void 0!==t.getRadius()?e.destroy():void 0!==e.getRadius()&&void 0===t.getRadius()?t.destroy():void 0!==e.getRadius()&&void 0!==t.getRadius()&&(e.getRadius()>=t.getRadius()?t:e).destroy()}(e,t)}}class qs extends sn{constructor(e){super(e)}clear(){}init(){}interact(e,t){if(e.destroyed||e.spawning)return;const a=this.container,o=e.getPosition(),n=e.getRadius(),i=a.particles.quadTree.queryCircle(o,2*n);for(const s of i){if(e===s||!s.options.collisions.enable||e.options.collisions.mode!==s.options.collisions.mode||s.destroyed||s.spawning)continue;const i=s.getPosition(),r=s.getRadius();if(Math.abs(Math.round(o.z)-Math.round(i.z))>n+r)continue;Kt(o,i)>n+r||Ws(e,s,t,a.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}class Gs extends an{constructor(e,t,a,o){super(e,t,a),this.canvasSize=o,this.canvasSize={...o}}contains(e){const{width:t,height:a}=this.canvasSize,{x:o,y:n}=e;return super.contains(e)||super.contains({x:o-t,y:n})||super.contains({x:o-t,y:n-a})||super.contains({x:o,y:n-a})}intersects(e){if(super.intersects(e))return!0;const t=e,a=e,o={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(void 0!==a.radius){const e=new an(o.x,o.y,2*a.radius);return super.intersects(e)}if(void 0!==t.size){const e=new on(o.x,o.y,2*t.size.width,2*t.size.height);return super.intersects(e)}return!1}}class Ks{constructor(){this.blur=5,this.color=new bo,this.color.value="#000",this.enable=!1}load(e){Mt(e)||(void 0!==e.blur&&(this.blur=e.blur),this.color=bo.create(this.color,e.color),void 0!==e.enable&&(this.enable=e.enable))}}class Ys{constructor(){this.enable=!1,this.frequency=1}load(e){Mt(e)||(void 0!==e.color&&(this.color=bo.create(this.color,e.color)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.frequency&&(this.frequency=e.frequency),void 0!==e.opacity&&(this.opacity=e.opacity))}}class Js{constructor(){this.blink=!1,this.color=new bo,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new Ks,this.triangles=new Ys,this.width=1,this.warp=!1}load(e){Mt(e)||(void 0!==e.id&&(this.id=e.id),void 0!==e.blink&&(this.blink=e.blink),this.color=bo.create(this.color,e.color),void 0!==e.consent&&(this.consent=e.consent),void 0!==e.distance&&(this.distance=e.distance),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.frequency&&(this.frequency=e.frequency),void 0!==e.opacity&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),void 0!==e.width&&(this.width=e.width),void 0!==e.warp&&(this.warp=e.warp))}}const Xs=0,Zs=0;function Qs(e,t,a,o,n){const{dx:i,dy:s,distance:r}=Gt(e,t);if(!n||r<=a)return r;const l={x:Math.abs(i),y:Math.abs(s)},c=Math.min(l.x,o.width-l.x),d=Math.min(l.y,o.height-l.y);return Math.sqrt(c**2+d**2)}class er extends sn{constructor(e,t){super(e),this._setColor=e=>{if(!e.options.links)return;const t=this._linkContainer,a=e.options.links;let o=void 0===a.id?t.particles.linksColor:t.particles.linksColors.get(a.id);if(o)return;const n=a.color;o=ho(this._engine,n,a.blink,a.consent),void 0===a.id?t.particles.linksColor=o:t.particles.linksColors.set(a.id,o)},this._linkContainer=e,this._engine=t}clear(){}init(){this._linkContainer.particles.linksColor=void 0,this._linkContainer.particles.linksColors=new Map}interact(e){if(!e.options.links)return;e.links=[];const t=e.getPosition(),a=this.container,o=a.canvas.size;if(t.x<Xs||t.y<Zs||t.x>o.width||t.y>o.height)return;const n=e.options.links,i=n.opacity,s=e.retina.linksDistance??0,r=n.warp;let l;l=r?new Gs(t.x,t.y,s,o):new an(t.x,t.y,s);const c=a.particles.quadTree.query(l);for(const d of c){const a=d.options.links;if(e===d||!(null==a?void 0:a.enable)||n.id!==a.id||d.spawning||d.destroyed||!d.links||e.links.some(e=>e.destination===d)||d.links.some(t=>t.destination===e))continue;const l=d.getPosition();if(l.x<Xs||l.y<Zs||l.x>o.width||l.y>o.height)continue;const c=Qs(t,l,s,o,r&&a.warp);if(c>s)continue;const u=(1-c/s)*i;this._setColor(e),e.links.push({destination:d,opacity:u})}}isEnabled(e){var t;return!!(null==(t=e.options.links)?void 0:t.enable)}loadParticlesOptions(e,...t){e.links||(e.links=new Js);for(const a of t)e.links.load(null==a?void 0:a.links)}reset(){}}function tr(e,t){const a=((o=e.map(e=>e.id)).sort((e,t)=>e-t),o.join("_"));var o;let n=t.get(a);return void 0===n&&(n=At(),t.set(a,n)),n}class ar{constructor(e,t){this._drawLinkLine=(e,t)=>{const a=e.options.links;if(!(null==a?void 0:a.enable))return;const o=this._container,n=o.actualOptions,i=t.destination,s=e.getPosition(),r=i.getPosition();let l=t.opacity;o.canvas.draw(t=>{var c;let d;const u=null==(c=e.options.twinkle)?void 0:c.lines;if(null==u?void 0:u.enable){const e=u.frequency,t=to(this._engine,u.color);At()<e&&t&&(d=t,l=Ht(u.opacity))}if(!d){const t=void 0!==a.id?o.particles.linksColors.get(a.id):o.particles.linksColor;d=uo(e,i,t)}if(!d)return;const h=e.retina.linksWidth??0,p=e.retina.linksDistance??0,{backgroundMask:m}=n;!function(e){let t=!1;const{begin:a,end:o,engine:n,maxDistance:i,context:s,canvasSize:r,width:l,backgroundMask:c,colorLine:d,opacity:u,links:h}=e;if(Kt(a,o)<=i)go(s,a,o),t=!0;else if(h.warp){let e,n;const l=Gt(a,{x:o.x-r.width,y:o.y});if(l.distance<=i){const t=a.y-l.dy/l.dx*a.x;e={x:0,y:t},n={x:r.width,y:t}}else{const t=Gt(a,{x:o.x,y:o.y-r.height});if(t.distance<=i){const o=-(a.y-t.dy/t.dx*a.x)/(t.dy/t.dx);e={x:o,y:0},n={x:o,y:r.height}}else{const t=Gt(a,{x:o.x-r.width,y:o.y-r.height});if(t.distance<=i){const o=a.y-t.dy/t.dx*a.x;e={x:-o/(t.dy/t.dx),y:o},n={x:e.x+r.width,y:e.y+r.height}}}}e&&n&&(go(s,a,e),go(s,o,n),t=!0)}if(!t)return;s.lineWidth=l,c.enable&&(s.globalCompositeOperation=c.composite),s.strokeStyle=ro(d,u);const{shadow:p}=h;if(p.enable){const e=to(n,p.color);e&&(s.shadowBlur=p.blur,s.shadowColor=ro(e))}s.stroke()}({context:t,width:h,begin:s,end:r,engine:this._engine,maxDistance:p,canvasSize:o.canvas.size,links:a,backgroundMask:m,colorLine:d,opacity:l})})},this._drawLinkTriangle=(e,t,a)=>{const o=e.options.links;if(!(null==o?void 0:o.enable))return;const n=o.triangles;if(!n.enable)return;const i=this._container,s=i.actualOptions,r=t.destination,l=a.destination,c=n.opacity??.5*(t.opacity+a.opacity);c<=0||i.canvas.draw(t=>{const a=e.getPosition(),d=r.getPosition(),u=l.getPosition(),h=e.retina.linksDistance??0;if(Kt(a,d)>h||Kt(u,d)>h||Kt(u,a)>h)return;let p=to(this._engine,n.color);if(!p){const t=void 0!==o.id?i.particles.linksColors.get(o.id):i.particles.linksColor;p=uo(e,r,t)}p&&function(e){const{context:t,pos1:a,pos2:o,pos3:n,backgroundMask:i,colorTriangle:s,opacityTriangle:r}=e;!function(e,t,a,o){e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(a.x,a.y),e.lineTo(o.x,o.y),e.closePath()}(t,a,o,n),i.enable&&(t.globalCompositeOperation=i.composite),t.fillStyle=ro(s,r),t.fill()}({context:t,pos1:a,pos2:d,pos3:u,backgroundMask:s.backgroundMask,colorTriangle:p,opacityTriangle:c})})},this._drawTriangles=(e,t,a,o)=>{var n,i,s;const r=a.destination;if(!(null==(n=e.links)?void 0:n.triangles.enable)||!(null==(i=r.options.links)?void 0:i.triangles.enable))return;const l=null==(s=r.links)?void 0:s.filter(e=>{const t=this._getLinkFrequency(r,e.destination);return r.options.links&&t<=r.options.links.frequency&&o.findIndex(t=>t.destination===e.destination)>=0});if(null==l?void 0:l.length)for(const c of l){const o=c.destination;this._getTriangleFrequency(t,r,o)>e.links.triangles.frequency||this._drawLinkTriangle(t,a,c)}},this._getLinkFrequency=(e,t)=>tr([e,t],this._freqs.links),this._getTriangleFrequency=(e,t,a)=>tr([e,t,a],this._freqs.triangles),this._container=e,this._engine=t,this._freqs={links:new Map,triangles:new Map}}drawParticle(e,t){const{links:a,options:o}=t;if(!(null==a?void 0:a.length))return;const n=a.filter(e=>o.links&&(o.links.frequency>=1||this._getLinkFrequency(t,e.destination)<=o.links.frequency));for(const i of n)this._drawTriangles(o,t,i,n),i.opacity>0&&(t.retina.linksWidth??0)>0&&this._drawLinkLine(t,i)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map,await Promise.resolve()}particleCreated(e){if(e.links=[],!e.options.links)return;const t=this._container.retina.pixelRatio,{retina:a}=e,{distance:o,width:n}=e.options.links;a.linksDistance=o*t,a.linksWidth=n*t}particleDestroyed(e){e.links=[]}}class or{constructor(e){this.id="links",this._engine=e}getPlugin(e){return Promise.resolve(new ar(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function nr(e,t=!0){e.checkVersion("3.9.1"),await async function(e,t=!0){await e.addInteractor("particlesLinks",async t=>Promise.resolve(new er(t,e)),t)}(e,t),await async function(e,t=!0){const a=new or(e);await e.addPlugin(a,t)}(e,t)}const ir=0,sr=0;class rr{draw(e){const{particle:t,radius:a}=e;!function(e,t,a){const{context:o}=e,n=a.count.numerator*a.count.denominator,i=a.count.numerator/a.count.denominator,s=180*(i-2)/i,r=Math.PI-Yt(s);if(o){o.beginPath(),o.translate(t.x,t.y),o.moveTo(ir,sr);for(let e=0;e<n;e++)o.lineTo(a.length,sr),o.translate(a.length,sr),o.rotate(r)}}(e,this.getCenter(t,a),this.getSidesData(t,a))}getSidesCount(e){const t=e.shapeData;return Math.round(Ht((null==t?void 0:t.sides)??5))}}class lr extends rr{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(e,t){return{x:-t/(e.sides/3.5),y:-t/.76}}getSidesData(e,t){const a=e.sides;return{count:{denominator:1,numerator:a},length:2.66*t/(a/3)}}}class cr extends rr{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(e,t){return{x:-t,y:t/1.66}}getSidesCount(){return 3}getSidesData(e,t){return{count:{denominator:2,numerator:3},length:2*t}}}async function dr(e,t=!0){e.checkVersion("3.9.1"),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addShape(new lr,t)}(e,t),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addShape(new cr,t)}(e,t)}class ur{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){Mt(e)||(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.speed&&(this.speed=qt(e.speed)),void 0!==e.decay&&(this.decay=qt(e.decay)),void 0!==e.sync&&(this.sync=e.sync))}}class hr extends So{constructor(){super(),this.animation=new ur,this.direction=Ja.clockwise,this.path=!1,this.value=0}load(e){Mt(e)||(super.load(e),void 0!==e.direction&&(this.direction=e.direction),this.animation.load(e.animation),void 0!==e.path&&(this.path=e.path))}}const pr=2*Math.PI;class mr{constructor(e){this.container=e}init(e){const t=e.options.rotate;if(!t)return;e.rotate={enable:t.animation.enable,value:Yt(Ht(t.value)),min:0,max:pr},e.pathRotation=t.path;let a=t.direction;if(a===Ja.random){a=Math.floor(2*At())>0?Ja.counterClockwise:Ja.clockwise}switch(a){case Ja.counterClockwise:case"counterClockwise":e.rotate.status=aa.decreasing;break;case Ja.clockwise:e.rotate.status=aa.increasing}const o=t.animation;o.enable&&(e.rotate.decay=1-Ht(o.decay),e.rotate.velocity=Ht(o.speed)/360*this.container.retina.reduceFactor,o.sync||(e.rotate.velocity*=At())),e.rotation=e.rotate.value}isEnabled(e){const t=e.options.rotate;return!!t&&(!e.destroyed&&!e.spawning&&(!!t.value||t.animation.enable||t.path))}loadOptions(e,...t){e.rotate||(e.rotate=new hr);for(const a of t)e.rotate.load(null==a?void 0:a.rotate)}update(e,t){this.isEnabled(e)&&(e.isRotating=!!e.rotate,e.rotate&&(Ia(e,e.rotate,!1,na.none,t),e.rotation=e.rotate.value))}}const fr=Math.sqrt(2);class xr{constructor(){this.validTypes=["edge","square"]}draw(e){!function(e){const{context:t,radius:a}=e,o=a/fr,n=2*o;t.rect(-o,-o,n,n)}(e)}getSidesCount(){return 4}}const gr=0,br=0;class yr{constructor(){this.validTypes=["star"]}draw(e){!function(e){const{context:t,particle:a,radius:o}=e,n=a.sides,i=a.starInset??2;t.moveTo(gr,br-o);for(let s=0;s<n;s++)t.rotate(Math.PI/n),t.lineTo(gr,br-o*i),t.rotate(Math.PI/n),t.lineTo(gr,br-o)}(e)}getSidesCount(e){const t=e.shapeData;return Math.round(Ht((null==t?void 0:t.sides)??5))}particleInit(e,t){const a=t.shapeData;t.starInset=Ht((null==a?void 0:a.inset)??2)}}class vr{constructor(e,t){this._container=e,this._engine=t}init(e){var t;const a=this._container,o=e.options,n=za(o.stroke,e.id,o.reduceDuplicates);e.strokeWidth=Ht(n.width)*a.retina.pixelRatio,e.strokeOpacity=Ht(n.opacity??1),e.strokeAnimation=null==(t=n.color)?void 0:t.animation;const i=oo(this._engine,n.color)??e.getFillColor();i&&(e.strokeColor=po(i,e.strokeAnimation,a.retina.reduceFactor))}isEnabled(e){const t=e.strokeAnimation,{strokeColor:a}=e;return!e.destroyed&&!e.spawning&&!!t&&(void 0!==(null==a?void 0:a.h.value)&&a.h.enable||void 0!==(null==a?void 0:a.s.value)&&a.s.enable||void 0!==(null==a?void 0:a.l.value)&&a.l.enable)}update(e,t){this.isEnabled(e)&&xo(e.strokeColor,t)}}async function wr(e,t=!0){e.checkVersion("3.9.1"),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addMover("parallax",()=>Promise.resolve(new Bs),t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addInteractor("externalAttract",t=>Promise.resolve(new Ni(e,t)),t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addInteractor("externalBounce",e=>Promise.resolve(new Ai(e)),t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addInteractor("externalBubble",t=>Promise.resolve(new Gi(t,e)),t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addInteractor("externalConnect",e=>Promise.resolve(new Zi(e)),t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addInteractor("externalGrab",t=>Promise.resolve(new as(t,e)),t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addInteractor("externalPause",e=>Promise.resolve(new os(e)),t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addInteractor("externalPush",e=>Promise.resolve(new is(e)),t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addInteractor("externalRemove",e=>Promise.resolve(new rs(e)),t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addInteractor("externalRepulse",t=>Promise.resolve(new hs(e,t)),t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addInteractor("externalSlow",e=>Promise.resolve(new ms(e)),t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addInteractor("particlesAttract",e=>Promise.resolve(new $s(e)),t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addInteractor("particlesCollisions",e=>Promise.resolve(new qs(e)),t)}(e,!1),await nr(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addEasing(Za.easeInQuad,e=>e**2,!1),await e.addEasing(Za.easeOutQuad,e=>1-(1-e)**2,!1),await e.addEasing(Za.easeInOutQuad,e=>e<.5?2*e**2:1-(-2*e+2)**2/2,!1),await e.refresh(t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addShape(new Fi,t)}(e,!1),await Ps(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addShape(new As,t)}(e,!1),await dr(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addShape(new xr,t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addShape(new yr,t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addParticleUpdater("life",async e=>Promise.resolve(new Ls(e)),t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addParticleUpdater("rotate",e=>Promise.resolve(new mr(e)),t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addParticleUpdater("strokeColor",t=>Promise.resolve(new vr(t,e)),t)}(e,!1),await Si(e,t)}function Cr(e,t,a,o,n,i){const s={x:-(t.length*a*.5),y:.5*a},r=2*a;i?e.fillText(t,s.x,s.y+r*n):e.strokeText(t,s.x,s.y+r*n)}class kr{constructor(){this.validTypes=["text","character","char","multiline-text"]}draw(e){!function(e){const{context:t,particle:a,radius:o,opacity:n}=e,i=a.shapeData;if(!i)return;const s=i.value;if(void 0===s)return;void 0===a.text&&(a.text=za(s,a.randomIndexData));const r=a.text,l=i.style??"",c=i.weight??"400",d=2*Math.round(o),u=i.font??"Verdana",h=a.shapeFill,p=null==r?void 0:r.split("\n");if(p){t.font=`${l} ${c} ${d}px "${u}"`,t.globalAlpha=n;for(let e=0;e<p.length;e++)Cr(t,p[e],o,0,e,h);t.globalAlpha=1}}(e)}async init(e){const t=e.actualOptions,{validTypes:a}=this;if(a.find(e=>xa(e,t.particles.shape.type))){const e=a.map(e=>t.particles.shape.options[e]).find(e=>!!e),o=[];Oa(e,e=>{o.push(ga(e.font,e.weight))}),await Promise.all(o)}}particleInit(e,t){if(!t.shape||!this.validTypes.includes(t.shape))return;const a=t.shapeData;if(void 0===a)return;const o=a.value;void 0!==o&&(t.text=za(o,t.randomIndexData))}}var jr,Er;(Er=jr||(jr={})).clockwise="clockwise",Er.counterClockwise="counter-clockwise",Er.random="random";class Sr{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){Mt(e)||(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.speed&&(this.speed=qt(e.speed)),void 0!==e.decay&&(this.decay=qt(e.decay)),void 0!==e.sync&&(this.sync=e.sync))}}class _r extends So{constructor(){super(),this.animation=new Sr,this.direction=jr.clockwise,this.enable=!1,this.value=0}load(e){super.load(e),Mt(e)||(this.animation.load(e.animation),void 0!==e.direction&&(this.direction=e.direction),void 0!==e.enable&&(this.enable=e.enable))}}const Fr=2*Math.PI;class Or{constructor(e){this.container=e}getTransformValues(e){var t;const a=(null==(t=e.tilt)?void 0:t.enable)&&e.tilt;return{b:a?Math.cos(a.value)*a.cosDirection:void 0,c:a?Math.sin(a.value)*a.sinDirection:void 0}}init(e){var t;const a=e.options.tilt;if(!a)return;e.tilt={enable:a.enable,value:Yt(Ht(a.value)),sinDirection:At()>=yt?1:-1,cosDirection:At()>=yt?1:-1,min:0,max:Fr};let o=a.direction;if(o===jr.random){o=Math.floor(2*At())>0?jr.counterClockwise:jr.clockwise}switch(o){case jr.counterClockwise:case"counterClockwise":e.tilt.status=aa.decreasing;break;case jr.clockwise:e.tilt.status=aa.increasing}const n=null==(t=e.options.tilt)?void 0:t.animation;(null==n?void 0:n.enable)&&(e.tilt.decay=1-Ht(n.decay),e.tilt.velocity=Ht(n.speed)/360*this.container.retina.reduceFactor,n.sync||(e.tilt.velocity*=At()))}isEnabled(e){var t;const a=null==(t=e.options.tilt)?void 0:t.animation;return!e.destroyed&&!e.spawning&&!!(null==a?void 0:a.enable)}loadOptions(e,...t){e.tilt||(e.tilt=new _r);for(const a of t)e.tilt.load(null==a?void 0:a.tilt)}async update(e,t){this.isEnabled(e)&&e.tilt&&(Ia(e,e.tilt,!1,na.none,t),await Promise.resolve())}}class zr{constructor(){this.enable=!1,this.frequency=.05,this.opacity=1}load(e){Mt(e)||(void 0!==e.color&&(this.color=bo.create(this.color,e.color)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.frequency&&(this.frequency=e.frequency),void 0!==e.opacity&&(this.opacity=qt(e.opacity)))}}class Rr{constructor(){this.lines=new zr,this.particles=new zr}load(e){Mt(e)||(this.lines.load(e.lines),this.particles.load(e.particles))}}class Nr{constructor(e){this._engine=e}getColorStyles(e,t,a,o){const n=e.options.twinkle;if(!n)return{};const i=n.particles,s=i.enable&&At()<i.frequency,r=e.options.zIndex,l=(1-e.zIndexFactor)**r.opacityRate,c=s?Ht(i.opacity)*l:o,d=oo(this._engine,i.color),u=d?lo(d,c):void 0,h={},p=s&&u;return h.fill=p?u:void 0,h.stroke=p?u:void 0,h}async init(){await Promise.resolve()}isEnabled(e){const t=e.options.twinkle;return!!t&&t.particles.enable}loadOptions(e,...t){e.twinkle||(e.twinkle=new Rr);for(const a of t)e.twinkle.load(null==a?void 0:a.twinkle)}async update(){await Promise.resolve()}}class Ir{constructor(){this.angle=50,this.move=10}load(e){Mt(e)||(void 0!==e.angle&&(this.angle=qt(e.angle)),void 0!==e.move&&(this.move=qt(e.move)))}}class Pr{constructor(){this.distance=5,this.enable=!1,this.speed=new Ir}load(e){if(!Mt(e)&&(void 0!==e.distance&&(this.distance=qt(e.distance)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.speed))if(Nt(e.speed))this.speed.load({angle:e.speed});else{const t=e.speed;void 0!==t.min?this.speed.load({angle:t}):this.speed.load(e.speed)}}}const Mr=2*Math.PI;const Tr=2*Math.PI;class Dr{constructor(e){this.container=e}init(e){const t=e.options.wobble;(null==t?void 0:t.enable)?e.wobble={angle:At()*Tr,angleSpeed:Ht(t.speed.angle)/360,moveSpeed:Ht(t.speed.move)/10}:e.wobble={angle:0,angleSpeed:0,moveSpeed:0},e.retina.wobbleDistance=Ht((null==t?void 0:t.distance)??0)*this.container.retina.pixelRatio}isEnabled(e){var t;return!e.destroyed&&!e.spawning&&!!(null==(t=e.options.wobble)?void 0:t.enable)}loadOptions(e,...t){e.wobble||(e.wobble=new Pr);for(const a of t)e.wobble.load(null==a?void 0:a.wobble)}update(e,t){this.isEnabled(e)&&function(e,t){const{wobble:a}=e.options,{container:o,wobble:n}=e;if(!(null==a?void 0:a.enable)||!n)return;const i=o.retina.reduceFactor,s=n.angleSpeed*t.factor*i,r=n.moveSpeed*t.factor*i*(e.retina.wobbleDistance??0)/16.666666666666668,l=Mr,{position:c}=e;n.angle+=s,n.angle>l&&(n.angle-=l),c.x+=r*Math.cos(n.angle),c.y+=r*Math.abs(Math.sin(n.angle))}(e,t)}}async function Lr(e,t=!0){e.checkVersion("3.9.1"),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addParticleUpdater("destroy",t=>Promise.resolve(new Cn(e,t)),t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addParticleUpdater("roll",()=>Promise.resolve(new ei(e)),t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addParticleUpdater("tilt",e=>Promise.resolve(new Or(e)),t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addParticleUpdater("twinkle",()=>Promise.resolve(new Nr(e)),t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addParticleUpdater("wobble",e=>Promise.resolve(new Dr(e)),t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addShape(new kr,t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addInteractor("externalTrail",e=>Promise.resolve(new Kn(e)),t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),await e.addPlugin(new pn(e),t)}(e,!1),await async function(e,t=!0){e.checkVersion("3.9.1"),e.emitterShapeManager||(e.emitterShapeManager=new Mn(e)),e.addEmitterShapeGenerator||(e.addEmitterShapeGenerator=(t,a)=>{var o;null==(o=e.emitterShapeManager)||o.addShapeGenerator(t,a)});const a=new In(e);await e.addPlugin(a,t)}(e,!1),await async function(e,t=!0){var a;const o=e;o.checkVersion("3.9.1"),null==(a=o.addEmitterShapeGenerator)||a.call(o,"circle",new Bn),await o.refresh(t)}(e,!1),await async function(e,t=!0){var a;const o=e;o.checkVersion("3.9.1"),null==(a=o.addEmitterShapeGenerator)||a.call(o,"square",new Wn),await o.refresh(t)}(e,!1),await wr(e,t)}const Ar={API_KEY:"4Vj8eK4rloUd272L48hsrarnUA",MERCHANT_ID:"508029",CURRENCIES:{USD:{amount:"185.00",accountId:"512321",symbol:"$",url:"https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/",country:"CO",language:"en"},COP:{amount:"735000.00",accountId:"512321",symbol:"$",url:"https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/",country:"CO",language:"en"}},BEATO16_CURRENCIES:{USD:{amount:"250.00",accountId:"512321",symbol:"$",url:"https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/",country:"CO",language:"en"},COP:{amount:"1000000.00",accountId:"512321",symbol:"$",url:"https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/",country:"CO",language:"en"}},KNOBO_CURRENCIES:{USD:{amount:"100.00",accountId:"512321",symbol:"$",url:"https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/",country:"CO",language:"en"},COP:{amount:"400000.00",accountId:"512321",symbol:"$",url:"https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/",country:"CO",language:"en"}},MIXO_CURRENCIES:{USD:{amount:"200.00",accountId:"512321",symbol:"$",url:"https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/",country:"CO",language:"en"},COP:{amount:"800000.00",accountId:"512321",symbol:"$",url:"https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/",country:"CO",language:"en"}},LOOPO_CURRENCIES:{USD:{amount:"110.00",accountId:"512321",symbol:"$",url:"https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/",country:"CO",language:"en"},COP:{amount:"440000.00",accountId:"512321",symbol:"$",url:"https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/",country:"CO",language:"en"}},FADO_CURRENCIES:{USD:{amount:"150.00",accountId:"512321",symbol:"$",url:"https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/",country:"CO",language:"en"},COP:{amount:"600000.00",accountId:"512321",symbol:"$",url:"https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/",country:"CO",language:"en"}},DEFAULT_CURRENCY:"USD",CONFIRMATION_URL:"https://1992e3fe606e.ngrok-free.app/api/payu/confirmation",RESPONSE_URL:"https://1992e3fe606e.ngrok-free.app/pago-finalizado"},Br=e=>Ar.CURRENCIES[e]||Ar.CURRENCIES[Ar.DEFAULT_CURRENCY],$r=e=>Ar.BEATO16_CURRENCIES[e]||Ar.BEATO16_CURRENCIES[Ar.DEFAULT_CURRENCY],Ur=e=>Ar.KNOBO_CURRENCIES[e]||Ar.KNOBO_CURRENCIES[Ar.DEFAULT_CURRENCY],Hr=e=>Ar.MIXO_CURRENCIES[e]||Ar.MIXO_CURRENCIES[Ar.DEFAULT_CURRENCY],Vr=e=>Ar.LOOPO_CURRENCIES[e]||Ar.LOOPO_CURRENCIES[Ar.DEFAULT_CURRENCY],Wr=e=>Ar.FADO_CURRENCIES[e]||Ar.FADO_CURRENCIES[Ar.DEFAULT_CURRENCY],qr=({onProductChange:t})=>{const[v,w]=E.useState(""),[C,k]=E.useState(""),j=E.useRef(null),S=E.useRef(null),_=E.useRef(null),F=E.useRef(null),T=E.useRef(null),D=E.useRef(null),L=E.useRef(null),[A,B]=E.useState("normal"),[$,U]=E.useState(null),[H,V]=E.useState(()=>{const e=localStorage.getItem("beato_chosenColors");if(e)try{return JSON.parse(e)}catch(Cl){}return{type:"configUpdate",chasis:"Gris",buttons:{},knobs:{}}}),[W,q]=E.useState({chasis:[],buttons:[],knobs:[]}),[G,K]=E.useState(!1),[Y,J]=E.useState(null),[X,Z]=E.useState(!1),Q=E.useRef(A),[ee,te]=E.useState([]),[ae,oe]=E.useState([]),ne={chasis:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},buttons:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},knobs:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}}},ie={normal:{pos:new h(2,1,-.1),target:new h(0,-.5,-.1)},top:{pos:new h(1,1.65,-.3),target:new h(-.35,-.9,-.3)}},se=E.useRef(null),re=E.useRef(null);E.useCallback(async()=>{if(j.current)try{const e=j.current.querySelector("canvas");if(e){const t=e.toDataURL("image/png");J(t)}}catch(e){}K(!0)},[H]),E.useCallback(()=>{},[]);const[le,ce]=E.useState(null);E.useEffect(()=>{(new o).load("public/textures/blackhole.jpg.avif",e=>{e.mapping=n,ce(e)})},[]);const de=E.useCallback((e,t)=>{const a=new i(16777215,.9);e.add(a);const o=new s(16777215,1.2);o.position.set(5,4,-1),o.castShadow=!0,o.shadow.mapSize.width=4096,o.shadow.mapSize.height=4096,o.shadow.camera.near=.5,o.shadow.camera.far=50,o.shadow.normalBias=.02,e.add(o);const n=new s(10079487,1);n.position.set(-8,3,-9),e.add(n);const l=new s(10079487,1);l.position.set(-8,3,15),e.add(l);const c=new r(16777215,.7,.5);c.position.set(0,5,5),e.add(c);const d=new s(16777215,1.2);d.position.set(-5,30,0),d.castShadow=!0,d.shadow.mapSize.width=2048,d.shadow.mapSize.height=2048,d.shadow.camera.near=.5,d.shadow.camera.far=50,d.shadow.normalBias=.02,e.add(d)},[]),ue=E.useCallback(e=>{const t={chasis:[],buttons:[],knobs:[]},a={type:"configUpdate",chasis:"Gris",buttons:{},knobs:{}};e.traverse(e=>{var o;if(!(e instanceof l))return;e.castShadow=!0,e.receiveShadow=!0;const n="string"==typeof e.name?e.name.toLowerCase():"";if((n.includes("logo")||n.includes("beato")||n.includes("crearttech")||n.includes("custom midi"))&&e.material&&"map"in e.material&&e.material.map&&(e.material.transparent=!0,e.material.alphaTest=.9),n.includes("cubechasis"))e.material=new c({color:ne.chasis.Gris.hex,metalness:.8,roughness:.35,clearcoat:.85,clearcoatRoughness:.1}),t.chasis.push(e),a.chasis="Gris";else if(n.includes("boton")){const o="Negro";e.material=new c({color:ne.buttons[o].hex,metalness:.4,roughness:.68,clearcoat:.85,clearcoatRoughness:.08,reflectivity:.3,sheen:.5,sheenColor:1842204}),t.buttons.push(e),a.buttons[e.name]=o}else if(n.includes("knob")){if(null==(o=e.material)?void 0:o.color){const o=e.material;if((o.color.r+o.color.g+o.color.b)/3<.5){const o="Negro";e.material=new d({color:ne.knobs[o].hex,metalness:0,roughness:1}),t.knobs.push(e),a.knobs[e.name]=o}else e.material=new d({color:16777215})}}else n.includes("aro")&&(e.material=new c({color:0,metalness:0,roughness:.2,clearcoat:.8,clearcoatRoughness:.1,reflectivity:.5,transmission:.3,thickness:.5,ior:1.4,attenuationDistance:1,attenuationColor:16777215,transparent:!0,opacity:.7}),t.buttons.push(e),a.buttons[e.name]="Negro")}),q(t),V(a)},[le]),he=E.useCallback(e=>{const t=(new u).setFromObject(e),a=t.getSize(new h),o=t.getCenter(new h),n=1.8/Math.max(a.x,a.y,a.z);e.scale.set(n,n,n),e.position.copy(o).multiplyScalar(-n),e.position.y-=a.y/2*n},[]),pe=E.useCallback(async()=>{try{const{GLTFLoader:e}=await a(async()=>{const{GLTFLoader:e}=await import("./GLTFLoader-L0pBLRUW.js");return{GLTFLoader:e}},__vite__mapDeps([7,1,2]));(new e).load("./models/BEATO3.glb",e=>{var t;const a=e.scene;D.current=a,ue(a),he(a),null==(t=S.current)||t.add(a),L.current||(L.current=a.position.clone());a.traverse(e=>{e.isMesh&&("string"==typeof e.name&&e.name.toLowerCase().includes("boton")||"string"==typeof e.name&&e.name.toLowerCase().includes("aro"))&&e.material&&"color"in e.material&&e.material.color.setHex(1842204),e.isMesh&&"string"==typeof e.name&&e.name.toLowerCase().includes("aro")&&(e.material=e.material.clone())}),D.current.traverse(e=>{})},void 0,e=>{})}catch(e){}},[ue,he]);E.useEffect(()=>{if(!j.current)return;const e=new p;e.background=null,S.current=e;const t=new m({antialias:!0,alpha:!0,preserveDrawingBuffer:!0});t.setSize(j.current.clientWidth,j.current.clientHeight),t.setPixelRatio(Math.min(window.devicePixelRatio,2)),t.outputColorSpace=f,t.shadowMap.enabled=!0,t.shadowMap.type=x,_.current=t,j.current.appendChild(t.domElement);const o=new g(45,j.current.clientWidth/j.current.clientHeight,.1,200);let n;o.position.copy(ie.normal.pos),F.current=o,a(async()=>{const{OrbitControls:e}=await import("./OrbitControls-DFclDx1A.js");return{OrbitControls:e}},__vite__mapDeps([8,1,2])).then(({OrbitControls:e})=>{const a=new e(o,t.domElement);a.target.copy(ie.normal.target),a.enableDamping=!0,a.minDistance=2,a.maxDistance=5,T.current=a}),de(e,t),pe();const i=()=>{n=requestAnimationFrame(i),T.current&&T.current.update(),t.render(e,o)};return i(),()=>{n&&cancelAnimationFrame(n),j.current&&t.domElement&&j.current.removeChild(t.domElement),t.dispose()}},[de,pe]),E.useEffect(()=>{const e=()=>{if(j.current&&F.current&&_.current){const e=j.current.clientWidth,t=j.current.clientHeight;F.current.aspect=e/t,F.current.updateProjectionMatrix(),_.current.setSize(e,t)}};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),E.useEffect(()=>{localStorage.setItem("beato_currentView",A)},[A]),E.useEffect(()=>{localStorage.setItem("beato_chosenColors",JSON.stringify(H))},[H]),E.useEffect(()=>{if(W.chasis.length>0||W.buttons.length>0||W.knobs.length>0){if(H.chasis&&ne.chasis[H.chasis]){const e=ne.chasis[H.chasis].hex;W.chasis.forEach(t=>{t.material&&"color"in t.material&&t.material.color.setHex(parseInt(e.replace("#",""),16))})}Object.entries(H.buttons).forEach(([e,t])=>{if(ne.buttons[t]){const a=ne.buttons[t].hex,o=W.buttons.find(t=>t.name===e);o&&o.material&&"color"in o.material&&o.material.color.setHex(parseInt(a.replace("#",""),16))}}),Object.entries(H.knobs).forEach(([e,t])=>{if(ne.knobs[t]){const a=ne.knobs[t].hex,o=W.knobs.find(t=>t.name===e);o&&o.material&&"color"in o.material&&o.material.color.setHex(parseInt(a.replace("#",""),16))}})}},[W,H]);const me=E.useCallback((e,t=0)=>{var a;e&&(null==(a=e.material)?void 0:a.emissive)&&e.material.emissive.setHex(t)},[]),fe=E.useCallback(e=>{var t;if(!F.current||!_.current)return;if("chasis"===A)return U(null),void te([]);const a=new b,o=new y,n=_.current.domElement.getBoundingClientRect();o.x=(e.clientX-n.left)/n.width*2-1,o.y=-(e.clientY-n.top)/n.height*2+1,a.setFromCamera(o,F.current);let i=[];if("buttons"===A?i=W.buttons:"knobs"===A?i=W.knobs:"normal"===A&&(i=W.buttons),0===i.length)return;const s=a.intersectObjects(i,!1);if("buttons"===A&&W.buttons.forEach(e=>me(e,0)),$&&"normal"!==A&&me($,0),s.length>0){const a=s[0].object;if("normal"===A)return;if("buttons"===A&&e.shiftKey)0===ee.length&&$&&$!==a?(te([$,a]),U(null),me($,4473924),me(a,4473924)):(U(null),te(e=>{if(0===e.length)return me(a,4473924),[a];let t;return e.includes(a)?(t=e.filter(e=>e!==a),me(a,0)):(t=[...e,a],me(a,4473924)),t.forEach(e=>me(e,4473924)),t}));else if(te([]),"buttons"===A&&a.name.toLowerCase().includes("aro")){const e=parseInt((null==(t=a.name.match(/\d+/))?void 0:t[0])||"1",10),o=W.buttons.find(t=>t.name.toLowerCase().includes("boton")&&t.name.includes(e.toString()));if(!o)return void U(null);U(o),me(o,4473924)}else U(a),me(a,4473924)}else U(null),te([])},[A,W,$,me,ee]),xe=E.useCallback(e=>{var t;if(!D.current)return null;let a=null;const o=null==(t=e.match(/\d+/))?void 0:t[0];return o?(D.current.traverse(e=>{var t;if(e instanceof l&&e.name.toLowerCase().includes("aro")){(null==(t=e.name.match(/\d+/))?void 0:t[0])===o&&(a=e)}}),a):null},[]),ge=E.useCallback(e=>{if(B(e),"chasis"===e&&W.chasis.length>0?U(W.chasis[0]):U(null),!F.current||!T.current)return;let t,a;"normal"===e?(t=ie.normal,a=!0):(t=ie.top,a=!1),T.current.enabled=a,O.to(F.current.position,{duration:1.2,ease:"power3.inOut",...t.pos}),O.to(T.current.target,{duration:1.2,ease:"power3.inOut",...t.target,onUpdate:()=>T.current.update()})},[W]),be=E.useCallback((e,t)=>{if("chasis"===A)return W.chasis.forEach(e=>{e.material.color.set(t.hex)}),void V(t=>({...t,chasis:e}));if("buttons"===A&&ee.length>0){const a={...H,buttons:{...H.buttons}};return ee.forEach(o=>{o.material.color.set(t.hex),a.buttons[o.name]=e;const n=xe(o.name);n&&n.material&&n.material.color.set(t.hex)}),V(a),ee.forEach(e=>me(e,0)),void te([])}if("knobs"===A&&ae.length>0){const a={...H,knobs:{...H.knobs}};return ae.forEach(o=>{o.material.color.set(t.hex),a.knobs[o.name]=e}),V(a),ae.forEach(e=>me(e,0)),void oe([])}if(!$)return void z.fire({title:"Selecciona una parte",text:"Haz clic en una pieza del controlador para aplicar el color.",imageUrl:"models/logo.png",imageWidth:120,imageHeight:120,background:"#232846",color:"#FFFFFF",confirmButtonColor:"#a259ff",confirmButtonText:"Entendido"});$.material.color.set(t.hex);const a={...H},o=$.name;if(W.buttons.includes($)){if(a.buttons[o]=e,o.toLowerCase().includes("boton")){const e=xe(o);e&&e.material&&e.material.color.set(t.hex)}me($,0)}else W.knobs.includes($)&&(a.knobs[o]=e);V(a)},[$,ee,H,W,A,xe,ae]),ye=E.useCallback(()=>{if(!_.current||!S.current||!F.current)return;const e=F.current.position.clone(),t=T.current?T.current.target.clone():null,a=F.current.fov,o=ie.normal.pos.clone(),n=ie.normal.target.clone();F.current.position.copy(o),F.current.fov=35,F.current.updateProjectionMatrix(),T.current&&(T.current.target.copy(n),T.current.update()),setTimeout(()=>{_.current.render(S.current,F.current);const o=_.current.domElement.toDataURL("image/png");J(o),F.current.position.copy(e),F.current.fov=a,F.current.updateProjectionMatrix(),T.current&&t&&(T.current.target.copy(t),T.current.update()),K(!0)},50)},[_,S,F,T,ie,J,K]);E.useEffect(()=>{Q.current=A},[A]),E.useEffect(()=>{setTimeout(()=>{F.current&&T.current&&(se.current=F.current.position.clone(),re.current=T.current.target.clone())},100)},[]);const[ve,we]=E.useState("USD"),[Ce,ke]=E.useState({referenceCode:"controlador123",amount:"185.00",currency:"USD",signature:"",description:"Beato 8 Configurator",buyerEmail:"customer@email.com"});E.useEffect(()=>{const e=Br(ve);ke(t=>({...t,amount:e.amount,currency:ve,description:`Beato 8 Configurator - ${ve} ${e.symbol}${e.amount}`}))},[ve]),E.useEffect(()=>{!async function(){const e=await async function({referenceCode:e,amount:t,currency:a}){return""}({referenceCode:Ce.referenceCode,amount:Ce.amount,currency:Ce.currency});ke(t=>({...t,signature:e}))}()},[Ce.referenceCode,Ce.amount,Ce.currency]),E.useEffect(()=>{if(X){const e=`controlador${Date.now()}`;ke(t=>({...t,referenceCode:e}))}},[X]),E.useEffect(()=>{if(G){const e=`BEATO8-${Date.now()}`;ke(t=>({...t,referenceCode:e}))}},[G]);const[je,Ee]=E.useState([]);E.useCallback(async()=>{try{const t=`payu_checkout_${Date.now()}`;let a=null;try{a=window.open("",t)}catch(e){a=null}const o="http://localhost:4000".replace(/\/$/,""),n={modelo:"BEATO8",color:H.chasis,extras:null,buyerEmail:"",amount:"185.00",currency:"USD",botones:Object.values(H.buttons),perillas:Object.values(H.knobs),screenshot:Y||null,description:"Controlador MIDI personalizado"},i=await fetch(`${o}/api/payu/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!i.ok){await i.text();if(a&&!a.closed)try{a.close()}catch(e){}return void z.fire({icon:"error",title:"Error con PayU",text:"No se pudo crear la orden (backend)."})}const{action:s,fields:r}=await i.json();if(!s||!r){if(a&&!a.closed)try{a.close()}catch(e){}return void z.fire({icon:"error",title:"Error con PayU",text:"Respuesta inválida del backend."})}const l=document.createElement("form");l.action=s,l.method="post",l.target=a?t:"_self";const c=(e,t)=>{const a=document.createElement("input");a.type="hidden",a.name=e,a.value=t,l.appendChild(a)};Object.entries(r||{}).forEach(([e,t])=>c(e,String(t))),c("lng","es"),document.body.appendChild(l),l.submit(),document.body.removeChild(l)}catch(t){try{window.openWindows}catch(e){}z.fire({icon:"error",title:"Error",text:"No se pudo iniciar el pago con PayU."})}},[H,Y]);return e.jsxs(I,{options:{clientId:"sb",currency:"USD"},children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:-1,backgroundImage:"url(/textures/fondo.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"}}),e.jsxs("div",{className:"w-full h-screen text-gray-200 overflow-hidden relative",style:{background:"transparent"},children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:0,pointerEvents:"none",background:"transparent"}}),e.jsx(R,{id:"tsparticles",init:async e=>{await Lr(e)},options:{fullScreen:{enable:!1},background:{color:{value:"transparent"}},fpsLimit:60,particles:{color:{value:"#a259ff"},links:{enable:!0,color:"#a259ff",distance:120},move:{enable:!0,speed:1},number:{value:50},opacity:{value:.5},shape:{type:"circle"},size:{value:3}},interactivity:{events:{onhover:{enable:!0,mode:"repulse"}},modes:{repulse:{distance:100,duration:.4}}}},style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:0,pointerEvents:"none"}}),e.jsx("div",{style:{position:"fixed",top:16,left:6,zIndex:51,display:"flex",alignItems:"center",gap:"12px"},children:e.jsx("button",{onClick:()=>window.location.href="https://www.crearttech.com/",className:"relative px-5 py-2 rounded-full font-bold text-sm uppercase tracking-wider text-white transition-all duration-300 hover:-translate-y-0.5",style:{background:"linear-gradient(90deg, rgba(0,255,255,0.18) 0%, rgba(122,0,255,0.18) 50%, rgba(255,0,255,0.18) 100%)",border:"1px solid rgba(0, 255, 255, 0.55)"},children:e.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:[e.jsx("path",{d:"M3 10.5L12 3l9 7.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M5 9.5V21h14V9.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("span",{children:"Home"})]})})}),e.jsx("div",{className:"absolute top-10 left-0 right-0 z-30 flex justify-center items-center",children:e.jsx("h1",{className:"text-2xl font-bold leading-none m-0",style:{fontFamily:"Gotham Black, Arial, sans-serif",color:"#FFFFFF",textShadow:"0 0 12px #a259ff, 0 0 24px #0ff, 0 0 2px #FFFFFF",letterSpacing:"0.04em"},children:"BEATO8"})}),e.jsx("main",{className:"flex w-full h-full",style:{minHeight:"100vh",height:"100vh",position:"relative",zIndex:1,overflow:"hidden",background:"transparent"},children:e.jsx("div",{className:"flex-grow h-full",style:{position:"relative",zIndex:1,background:"transparent"},children:e.jsx("div",{ref:j,className:"w-full h-full transition-all duration-300",onClick:fe,style:{position:"relative",zIndex:1}})})}),e.jsxs("div",{className:"fixed top-0 right-0 h-screen border-l border-gray-700 shadow-2xl transition-all duration-400 flex overflow-hidden z-10 "+("normal"===A?"w-28":"w-[320px]"),style:{backgroundColor:"rgba(255, 255, 0, 0.8)",background:"transparent",boxShadow:"0 0 16px 2px rgba(0, 255, 255, 0.4), -6px 0 16px 0 rgba(0, 255, 255, 0.3), inset 0 0 10px rgba(0,0,0,0.8)",borderLeft:"2px solid rgba(0, 255, 255, 0.8)",backdropFilter:"blur(10px)",zIndex:10},children:[e.jsx("div",{className:"w-28 p-4 flex-shrink-0",style:{paddingTop:"160px"},children:e.jsxs("div",{className:"flex flex-col gap-1.5",children:[[{id:"normal",icon:"M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5M12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17M12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z"},{id:"chasis",icon:"./textures/beato.png",isImage:!0},{id:"buttons",icon:"M12 1.999c5.524 0 10.002 4.478 10.002 10.002c0 5.523-4.478 10.001-10.002 10.001S1.998 17.524 1.998 12.001C1.998 6.477 6.476 1.999 12 1.999m0 1.5a8.502 8.502 0 1 0 0 17.003A8.502 8.502 0 0 0 12 3.5M11.996 6a5.998 5.998 0 1 1 0 11.996a5.998 5.998 0 0 1 0-11.996"},{id:"knobs",icon:"M9.42 4.074a.56.56 0 0 0-.56.56v.93c0 .308.252.56.56.56s.56-.252.56-.56v-.93a.56.56 0 0 0-.56-.56M11.554 8.8a.5.5 0 0 1 0 .707l-1.78 1.78a.5.5 0 1 1-.708-.707l1.78-1.78a.5.5 0 0 1 .708 0 M9.42 15.444c-1.16 0-2.32-.44-3.2-1.32a4.527 4.527 0 0 1 0-6.39a4.527 4.527 0 0 1 6.39 0a4.527 4.527 0 0 1 0 6.39c-.88.88-2.03 1.32-3.19 1.32m0-1.1a3.41 3.41 0 1 0 0-6.82a3.41 3.41 0 0 0 0 6.82M6.757 5.2a.56.56 0 1 0-.965.567l.465.809l.005.006a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.075a.566.566 0 0 0 .205-.753zm5.315.012a.55.55 0 0 1 .761-.206c.277.152.36.5.203.764l-.458.797a.56.56 0 0 1-.478.277a.564.564 0 0 1-.487-.834zm7.598 5.722a.5.5 0 0 1 .5-.5h2.52a.5.5 0 1 1 0 1h-2.52a.5.5 0 0 1-.5-.5 M22.69 15.454c2.49 0 4.52-2.03 4.52-4.52s-2.03-4.52-4.52-4.52s-4.52 2.03-4.52 4.52s2.03 4.52 4.52 4.52m0-1.11a3.41 3.41 0 1 1 0-6.82a3.41 3.41 0 0 1 0 6.82m-.56-9.7c0-.308.252-.56.56-.56s.56.252.56.56v.945a.566.566 0 0 1-.56.535a.56.56 0 0 1-.56-.56zm-2.103.566a.557.557 0 0 0-.763-.202a.566.566 0 0 0-.204.753l.468.815l.004.006a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.075a.566.566 0 0 0 .205-.753zm6.086-.204a.55.55 0 0 0-.761.206l-.458.795a.55.55 0 0 0 .194.759c.1.067.217.078.282.078a.6.6 0 0 0 .478-.262l.005-.006l.463-.806a.55.55 0 0 0-.203-.764M11.93 22.636H9.42a.5.5 0 0 0 0 1h2.51a.5.5 0 1 0 0-1 M4.9 23.136c0 2.49 2.03 4.52 4.52 4.52s4.52-2.03 4.52-4.52s-2.03-4.52-4.52-4.52s-4.52 2.03-4.52 4.52m7.93 0a3.41 3.41 0 1 1-6.82 0a3.41 3.41 0 0 1 6.82 0m-3.41-6.86a.56.56 0 0 0-.56.56v.93c0 .308.252.56.56.56s.56-.252.56-.56v-.93a.56.56 0 0 0-.56-.56m-3.418.93a.566.566 0 0 1 .755.206l.464.807c.137.258.06.6-.205.753a.53.53 0 0 1-.276.074a.58.58 0 0 1-.478-.261l-.005-.007l-.468-.814a.566.566 0 0 1 .207-.755zm6.08.209a.55.55 0 0 1 .761-.206c.277.151.36.499.203.764l-.462.802a.567.567 0 0 1-.766.194a.55.55 0 0 1-.194-.76zm8.475 3.588a.5.5 0 0 1 .707 0l1.78 1.78a.5.5 0 0 1-.707.707l-1.78-1.78a.5.5 0 0 1 0-.707 M22.69 27.656c-1.16 0-2.32-.44-3.2-1.32a4.527 4.527 0 0 1 0-6.39a4.527 4.527 0 0 1 6.39 0a4.527 4.527 0 0 1 0 6.39c-.88.88-2.04 1.32-3.19 1.32m0-1.11a3.41 3.41 0 1 0 0-6.82a3.41 3.41 0 0 0 0 6.82 M22.13 16.836c0-.308.252-.56.56-.56s.56.252.56.56v.945a.57.57 0 0 1-.56.545a.56.56 0 0 1-.56-.56zm-2.103.576a.566.566 0 0 0-.755-.206l-.006.003a.565.565 0 0 0-.206.755l.468.814l.004.007a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.074a.566.566 0 0 0 .205-.753zm6.086-.203a.55.55 0 0 0-.761.206l-.458.795a.55.55 0 0 0 .194.759a.5.5 0 0 0 .282.077a.6.6 0 0 0 .478-.261l.005-.007l.463-.805a.55.55 0 0 0-.203-.764 M1 5.75A4.75 4.75 0 0 1 5.75 1h20.52a4.75 4.75 0 0 1 4.75 4.75v20.48a4.75 4.75 0 0 1-4.75 4.75H5.75A4.75 4.75 0 0 1 1 26.23zM5.75 3A2.75 2.75 0 0 0 3 5.75v20.48a2.75 2.75 0 0 0 2.75 2.75h20.52a2.75 2.75 0 0 0 2.75-2.75V5.75A2.75 2.75 0 0 0 26.27 3z"}].map(t=>e.jsx("button",{onClick:"faders"===t.id?void 0:()=>ge(t.id),className:"w-full aspect-square border-2 rounded-lg flex items-center justify-center p-2 transition-all duration-300 text-white relative "+(A===t.id?"bg-gradient-to-br from-[#00FFFF] to-[#0080FF] border-[#00FFFF] shadow-lg":"border-[#00FFFF] bg-gradient-to-br from-[#000000] to-[#1a1a1a] hover:from-[#00FFFF] hover:to-[#0080FF] hover:border-[#00FFFF] hover:shadow-lg"),disabled:"faders"===t.id,style:"faders"===t.id?{cursor:"not-allowed"}:{},children:t.isImage?e.jsx("img",{src:t.icon,alt:"Menu icon",className:"w-full h-full mx-auto my-auto object-contain"}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"chasis"===t.id||"knobs"===t.id?"0 0 32 32":"faders"===t.id?"0 0 256 256":"0 0 24 24",className:"w-4/5 h-4/5 mx-auto my-auto fill-white text-white",fill:"#FFFFFF",children:e.jsx("path",{d:t.icon})})},t.id)),e.jsx("input",{id:"sidebar-upload",type:"file",accept:"image/*,application/pdf",multiple:!0,style:{display:"none"},onChange:e=>{e.target.files&&Ee(Array.from(e.target.files))}}),e.jsx("button",{type:"button",onClick:()=>{var e;return null==(e=document.getElementById("sidebar-upload"))?void 0:e.click()},className:"w-full aspect-square border-2 rounded-lg flex items-center justify-center p-2 transition-all duration-300 text-white bg-gradient-to-br from-[#000000] to-[#1a1a1a] border-[#00FFFF] hover:from-[#00FFFF] hover:to-[#0080FF] hover:border-[#00FFFF] hover:shadow-lg",title:"Subir archivos de personalización",children:e.jsx("svg",{width:"28",height:"28",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 16V4m0 0l-4 4m4-4l4 4M4 20h16",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),je.length>0&&e.jsxs("span",{className:"text-xs text-white mt-2",children:["Archivos: ",je.map(e=>e.name).join(", ")]})]})}),e.jsxs("div",{className:"flex-1 p-2 flex flex-col",children:[e.jsx("div",{className:"flex items-center pb-5 border-b border-gray-600 pl-0 "+("normal"===A?"justify-center items-center gap-0":"justify-center gap-2"),style:"normal"===A?{minHeight:"48px"}:{},children:"normal"===A?e.jsx("img",{src:"models/logo.png",alt:"Logo",className:"h-6 w-auto",style:{filter:"drop-shadow(0 0 8px #a259ff) drop-shadow(0 0 16px #0ff)"}}):e.jsx("img",{src:"models/logo.png",alt:"Logo",className:"h-8 w-auto",style:{filter:"drop-shadow(0 0 8px #a259ff) drop-shadow(0 0 16px #0ff)"}})}),e.jsxs("div",{className:"mt-6 animate-fadeIn",children:[e.jsx("p",{className:"font-black text-sm tracking-wide uppercase m-0 mb-3 text-gray-200 text-left animate-fadeIn",children:(()=>{switch(A){case"chasis":return"CHOOSE THE CHASSIS COLOR";case"buttons":return"CUSTOMIZE THE BUTTONS";case"knobs":return"CHOOSE FOR THE KNOBS";default:return"CHOOSE A COLOR"}})()}),e.jsx("div",{className:"grid grid-cols-2 gap-x-0 gap-y-0 p-0 justify-items-end ml-auto animate-scaleIn",children:Object.entries((()=>{switch(A){case"chasis":return ne.chasis;case"buttons":return ne.buttons;case"knobs":return ne.knobs;default:return{}}})()).map(([t,a],o)=>e.jsx("div",{className:"w-10 h-10 rounded-full cursor-pointer border border-[#a259ff] shadow-[0_0_6px_1px_#a259ff55] transition-all duration-200 hover:scale-110 animate-fadeInUp",style:{backgroundColor:a.hex,animationDelay:50*o+"ms"},title:t,onClick:()=>be(t,a)},t))})]})]})]}),"normal"===A&&e.jsx("button",{onClick:ye,className:"fixed bottom-10 left-1/2 transform -translate-x-1/2 z-50 px-6 py-3 text-lg font-bold uppercase tracking-wide text-black bg-purple-400 border-none rounded cursor-pointer transition-all duration-200 shadow-lg hover:bg-yellow-200 hover:scale-105 hover:shadow-xl shadow-[0_0_8px_2px_#a259ff80,0_0_16px_4px_#0ff5]",children:"ADD TO CART"}),G&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:e.jsxs("div",{className:"relative bg-[#3a4060] rounded-2xl shadow-2xl border-2 border-[#a259ff] p-4 md:py-4 md:px-8 w-full max-w-4xl mx-4 animate-fade-in",children:[e.jsx("button",{onClick:()=>K(!1),className:"absolute top-3 right-3 text-gray-400 hover:text-pink-400 text-2xl font-bold",children:"×"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-purple-400 mb-4 text-center tracking-widest",children:"PAGO SEGURO"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center mb-4",children:[e.jsx("div",{className:"w-full max-w-[320px] md:max-w-[380px] aspect-[4/3] flex items-center justify-center ml-16 md:ml-24",children:Y&&e.jsx("img",{src:Y,alt:"Controlador personalizado",className:"w-full h-full object-contain",style:{background:"none",boxShadow:"none",border:"none"}})}),e.jsxs("div",{className:"flex-1 mt-8 md:mt-0",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2 text-cyan-400",children:"Your Configuration:"}),e.jsxs("ul",{className:"text-base space-y-1",children:[e.jsxs("li",{children:[e.jsx("b",{children:"Chassis:"})," ",H.chasis]}),e.jsxs("li",{children:[e.jsx("b",{children:"Buttons:"})," ",Object.values(H.buttons).join(", ")||"Default"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Knobs:"})," ",Object.values(H.knobs).join(", ")||"Default"]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-cyan-400",children:"Select your currency:"}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx("button",{onClick:()=>we("USD"),className:"px-6 py-3 rounded-lg font-bold text-lg transition-all "+("USD"===ve?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-[0_0_12px_2px_#3b82f6]":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:"USD $185.00"}),e.jsx("button",{onClick:()=>we("COP"),className:"px-6 py-3 rounded-lg font-bold text-lg transition-all "+("COP"===ve?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-[0_0_12px_2px_#3b82f6]":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:"COP $735,000"})]}),e.jsxs("p",{className:"text-center text-sm text-gray-400 mt-2",children:["Selected price: ",ve," ",Br(ve).symbol,Br(ve).amount]})]}),e.jsxs("div",{className:"flex flex-col gap-4 mt-4",children:[e.jsx(P,{style:{layout:"horizontal",color:"blue",shape:"rect",label:"paypal",height:48},createOrder:async()=>{try{const e=await fetch("http://localhost:4000/api/create-paypal-order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customization:H})});if(!e.ok)throw new Error("Error en el servidor al crear la orden.");return(await e.json()).id}catch(e){return alert("No se pudo iniciar el pago. Inténtalo de nuevo."),Promise.reject(e)}},onApprove:async e=>{await(async e=>{try{if(!(await fetch("http://localhost:4000/api/verify-paypal-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderID:e,customization:H,screenshot:Y})})).ok)throw new Error("La verificación del pago falló en el servidor.");return!0}catch(t){return alert("Hubo un problema al verificar tu pago. Por favor, contacta a soporte."),!1}})(e.orderID)?(alert("¡Pago verificado y completado! Recibirás un correo de confirmación."),K(!1)):alert("Error en la verificación del pago. Por favor, contacta a soporte.")},onError:e=>{alert("Error en el pago con PayPal: "+e)}}),e.jsxs("button",{onClick:async()=>{if(!Ce.buyerEmail||!Ce.buyerEmail.includes("@"))return void alert("Por favor ingresa un email válido");let e="";try{const t=document.querySelector("canvas");if(t){e=(await N(t,{useCORS:!0,allowTaint:!0})).toDataURL("image/jpeg",.6),localStorage.setItem("payu_screenshot",e)}}catch(d){}const t="payu-popup";if(!window.open("",t,"width=800,height=600,scrollbars=yes,resizable=yes"))return void alert("Por favor permite popups para continuar con el pago");const a=Br(ve),o=`${Ar.API_KEY}~${Ar.MERCHANT_ID}~${Ce.referenceCode}~${a.amount}~${ve}`,n=M(o).toString(),i=document.createElement("form");i.method="POST",i.action=a.url,i.target=t;const s=Object.values(H.buttons||{}).join(", ")||"Sin configurar",r=Object.values(H.knobs||{}).join(", ")||"Sin configurar",l=`${`Beato8 - Chasis: ${H.chasis||"Personalizado"}, Botones: ${Object.keys(H.buttons||{}).length}, Knobs: ${Object.keys(H.knobs||{}).length}`} | Botones: ${s} | Perillas: ${r} | Email: ${Ce.buyerEmail}`,c={merchantId:Ar.MERCHANT_ID,accountId:a.accountId,description:`Beato 8 Configurator - ${ve} ${a.symbol}${a.amount}`,referenceCode:Ce.referenceCode,amount:a.amount,currency:ve,buyerEmail:Ce.buyerEmail,signature:n,test:"1",confirmationUrl:Ar.CONFIRMATION_URL,responseUrl:Ar.RESPONSE_URL,lng:a.language,extra1:"Beato8",extra2:H.chasis||"Custom",extra3:l,extra4:`Beato 8 Configurator - ${ve} ${a.symbol}${a.amount}`,extra5:e.substring(0,100)+"...",payerCountry:"CO",payerCity:"Bogota",payerPhone:"+57-300-1234567",country:"CO"};Object.entries(c).forEach(([e,t])=>{const a=document.createElement("input");a.type="hidden",a.name=e,a.value=t,i.appendChild(a)}),document.body.appendChild(i),i.submit(),document.body.removeChild(i)},className:"w-full py-3 rounded-lg bg-gradient-to-r from-green-400 to-cyan-400 text-white font-bold text-lg shadow-[0_0_12px_2px_#0ff580] hover:scale-105 transition-all mt-2",children:["Pay with PayU (",ve," ",Br(ve).symbol,Br(ve).amount,")"]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-6 text-center",children:"Your purchase is 100% safe and protected."})]})}),X&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:e.jsxs("div",{className:"relative bg-[#232846] rounded-2xl shadow-2xl border-2 border-[#a259ff] p-6 w-full max-w-2xl mx-4 animate-fade-in flex flex-col items-center",children:[e.jsx("button",{onClick:()=>Z(!1),className:"absolute top-3 right-3 text-gray-400 hover:text-pink-400 text-2xl font-bold",children:"×"}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-purple-400 mb-4 text-center tracking-widest",children:"Product Added!"}),e.jsx("p",{className:"text-white text-center mb-4",children:"Your custom product has been added to the Wix cart. You can continue shopping or complete your purchase on the main site."}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center w-full",children:[e.jsx("div",{className:"w-full max-w-[220px] aspect-[4/3] flex items-center justify-center",children:Y&&e.jsx("img",{src:Y,alt:"Custom controller",className:"w-full h-full object-contain",style:{background:"none",boxShadow:"none",border:"none"}})}),e.jsxs("div",{className:"flex-1 mt-4 md:mt-0 w-full",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-cyan-400",children:"Your Product:"}),e.jsxs("ul",{className:"text-base space-y-1 mb-2",children:[e.jsxs("li",{children:[e.jsx("b",{children:"Chassis:"})," ",H.chasis]}),e.jsxs("li",{children:[e.jsx("b",{children:"Buttons:"})," ",Object.values(H.buttons).join(", ")||"Default"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Knobs:"})," ",Object.values(H.knobs).join(", ")||"Default"]})]})]})]}),e.jsx("div",{className:"flex flex-col gap-4 mt-6 w-full",children:e.jsx("button",{onClick:()=>Z(!1),className:"w-full py-3 rounded-lg bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold text-lg shadow-[0_0_12px_2px_#ff00ff80] hover:scale-105 transition-all mt-2",children:"Continue Customizing"})})]})})]})]})},Gr=Object.freeze(Object.defineProperty({__proto__:null,default:qr},Symbol.toStringTag,{value:"Module"})),Kr=({className:t="",style:a={}})=>{const[o,n]=E.useState(!1),[i]=E.useState(Date.now());return E.useEffect(()=>{const e=setTimeout(()=>{n(!0)},3e3);return()=>clearTimeout(e)},[]),e.jsxs("div",{className:t,style:a,children:[e.jsx(ut,{isVisible:!o}),e.jsx("div",{style:{width:"100%",height:"100%",opacity:o?1:0},children:e.jsx(qr,{})})]})},Yr=Object.freeze(Object.defineProperty({__proto__:null,default:Kr},Symbol.toStringTag,{value:"Module"})),Jr=({isVisible:t})=>{const[a,o]=E.useState(0),[n]=E.useState(Date.now());return E.useEffect(()=>{if(t){const e=setInterval(()=>{const e=Date.now()-n,t=Math.min(e/3e3*100,100);o(t)},50);return()=>clearInterval(e)}o(0)},[t,n]),e.jsx(_,{children:t&&e.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundImage:"url(/textures/carga.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:9999,color:"white",fontFamily:"Arial, sans-serif"},children:[e.jsx(F.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},style:{fontSize:"32px",fontWeight:"bold",marginBottom:"20px",color:"#00FFFF",textShadow:"0 0 20px #00FFFF, 0 0 40px #0080FF"},children:"BEATO16"}),e.jsx(F.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8,ease:"easeOut"},style:{fontSize:"18px",fontWeight:"bold",marginBottom:"40px",color:"#ffffff",textShadow:"0 0 10px #ffffff"},children:"Features: Metal body, 16 ARCADE buttons, and 4 assignable knobs."}),e.jsx(F.div,{animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"},style:{width:"100px",height:"100px",border:"6px solid rgba(0, 255, 255, 0.1)",borderTop:"6px solid #00FFFF",borderRadius:"50%",marginBottom:"40px",boxShadow:"0 0 30px rgba(0, 255, 255, 0.4)"}}),e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},style:{fontSize:"20px",fontWeight:"bold",textAlign:"center",marginBottom:"20px",color:"#00FFFF"},children:["Cargando BEATO16... ",Math.round(a),"%"]}),a>=100&&e.jsx(F.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.8},style:{fontSize:"18px",color:"#00FF80",fontWeight:"bold",marginBottom:"30px",textShadow:"0 0 10px #00FF80"},children:"¡BEATO16 listo para configurar!"}),e.jsx(F.div,{style:{width:"400px",height:"8px",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"4px",overflow:"hidden",boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.3)",marginBottom:"40px"},children:e.jsx(F.div,{initial:{width:0},animate:{width:`${a}%`},transition:{duration:.1,ease:"linear"},style:{width:"100%",height:"100%",background:"linear-gradient(90deg, #00FFFF, #0080FF, #00FFFF)",borderRadius:"4px",boxShadow:"0 0 15px rgba(0, 255, 255, 0.6)",backgroundSize:"200% 100%",animation:"shimmer 2s infinite"}})}),e.jsx(F.div,{style:{display:"flex",gap:"12px",marginTop:"20px"},children:[0,1,2].map(t=>e.jsx(F.div,{animate:{scale:[1,1.3,1],opacity:[.4,1,.4]},transition:{duration:2,repeat:1/0,delay:.3*t,ease:"easeInOut"},style:{width:"12px",height:"12px",backgroundColor:"#00FFFF",borderRadius:"50%",boxShadow:"0 0 10px rgba(0, 255, 255, 0.6)"}},t))}),e.jsx("style",{children:"\n            @keyframes shimmer {\n              0% { background-position: -200% 0; }\n              100% { background-position: 200% 0; }\n            }\n          "})]})})},Xr=({onProductChange:t})=>{const[v,w]=E.useState(""),[C,k]=E.useState(""),j=E.useRef(null),S=E.useRef(null),_=E.useRef(null),F=E.useRef(null),P=E.useRef(null),T=E.useRef(null),D=E.useRef(null),[L,A]=E.useState("normal"),[B,$]=E.useState(null),[U,H]=E.useState(()=>{const e=localStorage.getItem("beato16_chosenColors");if(e)try{return JSON.parse(e)}catch(Cl){}return{type:"configUpdate",chasis:"Gris",buttons:{},knobs:{},teclas:{},faders:{}}}),[V,W]=E.useState({chasis:[],buttons:[],knobs:[],teclas:[],faders:[]}),[q,G]=E.useState(!1),[K,Y]=E.useState(null),[J,X]=E.useState(!1),Z=E.useRef(L),[Q,ee]=E.useState([]),[te,ae]=E.useState([]),[oe,ne]=E.useState([]),[ie,se]=E.useState([]),re={chasis:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},buttons:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},knobs:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},teclas:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},faders:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}}},le={normal:{pos:new h(2,1,-.1),target:new h(0,-.5,-.1)},top:{pos:new h(1,1.95,-.3),target:new h(-.35,-1.2,-.3)}},ce=E.useRef(null),de=E.useRef(null),ue=E.useCallback(async()=>{if(j.current)try{const e=j.current.querySelector("canvas");if(e){const t=e.toDataURL("image/png");Y(t)}}catch(e){}G(!0)},[U]),[he,pe]=E.useState(null);E.useEffect(()=>{(new o).load("public/textures/blackhole.jpg.avif",e=>{e.mapping=n,pe(e)})},[]);const me=E.useCallback((e,t)=>{const a=new i(16777215,.9);e.add(a);const o=new s(16777215,1.2);o.position.set(5,4,-1),o.castShadow=!0,e.add(o);const n=new s(10079487,1);n.position.set(-8,3,-9),e.add(n);const l=new s(10079487,1);l.position.set(-8,3,15),e.add(l);const c=new r(16777215,.7,.5);c.position.set(0,5,5),e.add(c);const d=new s(16777215,1.2);d.position.set(-5,30,0),d.castShadow=!0,e.add(d)},[]),fe=E.useCallback(e=>{const t={chasis:[],buttons:[],knobs:[],teclas:[],faders:[]},a={type:"configUpdate",chasis:"Gris",buttons:{},knobs:{},teclas:{},faders:{}};e.traverse(e=>{var o;if(!(e instanceof l))return;e.castShadow=!0,e.receiveShadow=!0;const n="string"==typeof e.name?e.name.toLowerCase():"";if((n.includes("logo")||n.includes("beato")||n.includes("crearttech")||n.includes("custom midi"))&&e.material&&"map"in e.material&&e.material.map&&(e.material.transparent=!0,e.material.alphaTest=.9),n.includes("cubechasis"))e.material=new c({color:re.chasis.Gris.hex,metalness:.8,roughness:.35,clearcoat:.85,clearcoatRoughness:.1}),t.chasis.push(e),a.chasis="Gris";else if(n.includes("boton")){const o="Negro";e.material=new c({color:re.buttons[o].hex,metalness:.4,roughness:.68,clearcoat:.85,clearcoatRoughness:.08,reflectivity:.3,sheen:.5,sheenColor:1842204}),t.buttons.push(e),a.buttons[e.name]=o}else if(n.includes("aro")||n.includes("fader")&&(n.includes("ring")||n.includes("circle")))e.material=new c({color:0,metalness:0,roughness:.2,clearcoat:.8,clearcoatRoughness:.1,reflectivity:.5,transmission:.3,thickness:.5,ior:1.4,attenuationDistance:1,attenuationColor:16777215,transparent:!0,opacity:.7}),t.buttons.push(e),a.buttons[e.name]="Negro";else if(n.includes("knob")){if(null==(o=e.material)?void 0:o.color){const o=e.material;if((o.color.r+o.color.g+o.color.b)/3<.5){const o="Negro";e.material=new d({color:re.knobs[o].hex,metalness:0,roughness:1}),t.knobs.push(e),a.knobs[e.name]=o}else e.material=new d({color:16777215})}}else if(n.includes("tecla")){const o="Negro";e.material=new c({color:re.teclas[o].hex,metalness:.4,roughness:.68,clearcoat:.85,clearcoatRoughness:.08,reflectivity:.3,sheen:.5,sheenColor:1842204}),t.teclas.push(e),a.teclas[e.name]=o}else if(n.includes("fader"))if("fader1_1"===n||"fader2_1"===n||"fader3_1"===n||"fader4_1"===n){const o="Negro";e.material=new d({color:re.knobs[o].hex,metalness:0,roughness:1}),t.faders.push(e),a.faders[e.name]=o}else if(e.material){const o=e.material;if(o.color){if((o.color.r+o.color.g+o.color.b)/3<.8){const n="Negro";o.color.setHex(parseInt(re.knobs[n].hex.replace("#",""),16)),t.faders.push(e),a.faders[e.name]=n}}}}),W(t),H(a)},[he]),xe=E.useCallback(e=>{const t=(new u).setFromObject(e),a=t.getSize(new h),o=t.getCenter(new h),n=1.8/Math.max(a.x,a.y,a.z);e.scale.set(n,n,n),e.position.copy(o).multiplyScalar(-n),e.position.y-=a.y/2*n},[]),ge=E.useCallback(async()=>{try{const{GLTFLoader:e}=await a(async()=>{const{GLTFLoader:e}=await import("./GLTFLoader-L0pBLRUW.js");return{GLTFLoader:e}},__vite__mapDeps([7,1,2]));(new e).load("./models/beato16.glb",e=>{var t;const a=e.scene;T.current=a,fe(a),xe(a),null==(t=S.current)||t.add(a),D.current||(D.current=a.position.clone());a.traverse(e=>{var t;const a=(null==(t=e.name)?void 0:t.toLowerCase())||"",o=a.includes("aro"),n=a.includes("fader")&&(a.includes("ring")||a.includes("circle"));e.isMesh&&"string"==typeof e.name&&(o||n)&&(e.material&&"color"in e.material&&e.material.color.setHex(1842204),e.material=e.material.clone()),e.isMesh&&"string"==typeof e.name&&a.includes("fader")})},void 0,e=>{})}catch(e){}},[fe,xe]);E.useEffect(()=>{if(!j.current)return;const e=new p;e.background=null,S.current=e;const t=new m({antialias:!0,alpha:!0,preserveDrawingBuffer:!0});t.setSize(j.current.clientWidth,j.current.clientHeight),t.setPixelRatio(Math.min(window.devicePixelRatio,2)),t.outputColorSpace=f,t.shadowMap.enabled=!0,t.shadowMap.type=x,_.current=t,j.current.appendChild(t.domElement);const o=new g(45,j.current.clientWidth/j.current.clientHeight,.1,200);let n;o.position.copy(le.normal.pos),F.current=o,a(async()=>{const{OrbitControls:e}=await import("./OrbitControls-DFclDx1A.js");return{OrbitControls:e}},__vite__mapDeps([8,1,2])).then(({OrbitControls:e})=>{const a=new e(o,t.domElement);a.target.copy(le.normal.target),a.enableDamping=!0,a.minDistance=2,a.maxDistance=5,P.current=a}),me(e,t),ge();const i=()=>{n=requestAnimationFrame(i),P.current&&P.current.update(),t.render(e,o)};return i(),()=>{n&&cancelAnimationFrame(n),j.current&&t.domElement&&j.current.removeChild(t.domElement),t.dispose()}},[me,ge]),E.useEffect(()=>{const e=()=>{if(j.current&&F.current&&_.current){const e=j.current.clientWidth,t=j.current.clientHeight;F.current.aspect=e/t,F.current.updateProjectionMatrix(),_.current.setSize(e,t)}};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),E.useEffect(()=>{localStorage.setItem("beato16_currentView",L)},[L]),E.useEffect(()=>{localStorage.setItem("beato16_chosenColors",JSON.stringify(U))},[U]),E.useEffect(()=>{if(V.chasis.length>0){if(U.chasis&&re.chasis[U.chasis]){const e=re.chasis[U.chasis].hex;V.chasis.forEach(t=>{t.material&&"color"in t.material&&t.material.color.setHex(parseInt(e.replace("#",""),16))})}Object.entries(U.buttons).forEach(([e,t])=>{if(re.buttons[t]){const a=re.buttons[t].hex,o=V.buttons.find(t=>t.name===e);o&&o.material&&"color"in o.material&&o.material.color.setHex(parseInt(a.replace("#",""),16))}}),Object.entries(U.knobs).forEach(([e,t])=>{if(re.knobs[t]){const a=re.knobs[t].hex,o=V.knobs.find(t=>t.name===e);o&&o.material&&"color"in o.material&&o.material.color.setHex(parseInt(a.replace("#",""),16))}})}},[V,U]);const be=E.useCallback((e,t=0)=>{var a;e&&(null==(a=e.material)?void 0:a.emissive)&&e.material.emissive.setHex(t)},[]),ye=E.useCallback(e=>{if(!F.current||!_.current)return;if("chasis"===L)return $(null),void ee([]);const t=new b,a=new y,o=_.current.domElement.getBoundingClientRect();a.x=(e.clientX-o.left)/o.width*2-1,a.y=-(e.clientY-o.top)/o.height*2+1,t.setFromCamera(a,F.current);let n=[];if("buttons"===L?n=V.buttons:"knobs"===L?n=V.knobs:"teclas"===L?n=V.teclas:"faders"===L?n=V.faders:"normal"===L&&(n=V.buttons),0===n.length)return;const i=t.intersectObjects(n,!1);if("normal"!==L&&[...V.buttons,...V.knobs,...V.teclas,...V.faders].forEach(e=>be(e,0)),i.length>0){const t=i[0].object;if("normal"===L)return;const a=(a,o)=>{$(null);const n=o.find(e=>e.uuid===t.uuid);let i;i=e.shiftKey?n?o.filter(e=>e.uuid!==t.uuid):[...o,t]:[t],a(i),i.forEach(e=>be(e,4473924))};"buttons"===L?a(ee,Q):"knobs"===L?a(ae,te):"teclas"===L?a(ne,oe):"faders"===L?a(se,ie):($(t),be(t,4473924))}else $(null),ee([]),ae([]),ne([]),se([])},[L,V,be,Q,te,oe,ie]),ve=E.useCallback(e=>{var t;if(!T.current)return null;let a=null;const o=null==(t=e.match(/\d+/))?void 0:t[0];return o?(T.current.traverse(e=>{var t;if(e instanceof l&&e.name.toLowerCase().includes("aro")){(null==(t=e.name.match(/\d+/))?void 0:t[0])===o&&(a=e)}}),a):null},[]),we=E.useCallback(e=>{if(A(e),"chasis"===e&&V.chasis.length>0?$(V.chasis[0]):$(null),!F.current||!P.current)return;let t,a;"normal"===e?(t=le.normal,a=!0):(t=le.top,a=!1),P.current.enabled=a,O.to(F.current.position,{duration:1.2,ease:"power3.inOut",...t.pos}),O.to(P.current.target,{duration:1.2,ease:"power3.inOut",...t.target,onUpdate:()=>P.current.update()})},[V]),Ce=E.useCallback((e,t)=>{const a=(a,o,n)=>{const i={...U,[o]:{...U[o]}};a.forEach(a=>{a.material.color.set(t.hex),i[o][a.name]=e}),H(i),a.forEach(e=>be(e,0)),n([])};if("chasis"===L)return V.chasis.forEach(e=>e.material.color.set(t.hex)),void H(t=>({...t,chasis:e}));if("buttons"===L&&Q.length>0)return a(Q,"buttons",ee);if("knobs"===L&&te.length>0)return a(te,"knobs",ae);if("teclas"===L&&oe.length>0)return a(oe,"teclas",ne);if("faders"===L&&ie.length>0)return a(ie,"faders",se);if(B){B.material.color.set(t.hex);const a=B.name;let o;V.buttons.includes(B)?o="buttons":V.knobs.includes(B)?o="knobs":V.teclas.includes(B)?o="teclas":V.faders.includes(B)&&(o="faders"),o&&H(t=>({...t,[o]:{...t[o],[a]:e}})),be(B,0)}else z.fire({title:"Selecciona una parte",text:"Haz clic en una pieza del controlador para aplicar el color.",imageUrl:"models/logo.png",imageWidth:120,imageHeight:120,background:"#232846",color:"#fff",confirmButtonColor:"#a259ff",confirmButtonText:"Entendido"})},[B,Q,te,oe,ie,U,V,L,ve]);E.useCallback(()=>{if(!_.current||!S.current||!F.current)return;const e=F.current.position.clone(),t=P.current?P.current.target.clone():null,a=F.current.fov,o=le.normal.pos.clone(),n=le.normal.target.clone();F.current.position.copy(o),F.current.fov=35,F.current.updateProjectionMatrix(),P.current&&(P.current.target.copy(n),P.current.update()),setTimeout(()=>{_.current.render(S.current,F.current);const o=_.current.domElement.toDataURL("image/png");Y(o),F.current.position.copy(e),F.current.fov=a,F.current.updateProjectionMatrix(),P.current&&t&&(P.current.target.copy(t),P.current.update()),G(!0)},50)},[_,S,F,P,le,Y,G]);E.useEffect(()=>{Z.current=L},[L]),E.useEffect(()=>{setTimeout(()=>{F.current&&P.current&&(ce.current=F.current.position.clone(),de.current=P.current.target.clone())},100)},[]);const[ke,je]=E.useState("USD"),[Ee,Se]=E.useState({referenceCode:`controlador_${Date.now()}`,amount:"250.00",currency:"USD",signature:"",description:"Beato 16 Configurator",buyerEmail:"customer@email.com"});E.useEffect(()=>{const e=$r(ke);Se(t=>({...t,amount:e.amount,currency:ke,description:`Beato 16 Configurator - ${ke} ${e.symbol}${e.amount}`}))},[ke]),E.useEffect(()=>{if(J||q){const e=`beato16-${Date.now()}`;Se(t=>({...t,referenceCode:e}))}},[J,q]);const[_e,Fe]=E.useState([]);return e.jsxs(I,{options:{clientId:"sb",currency:"USD"},children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:-1,backgroundImage:"url(/textures/fondo.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"}}),e.jsxs("div",{className:"w-full h-screen text-gray-200 overflow-hidden relative",style:{background:"transparent"},children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:0,pointerEvents:"none",background:"transparent"}}),e.jsx(R,{id:"tsparticles",init:async e=>{await Lr(e)},options:{fullScreen:{enable:!1},background:{color:{value:"transparent"}},fpsLimit:60,particles:{color:{value:"#a259ff"},links:{enable:!0,color:"#a259ff",distance:120},move:{enable:!0,speed:1},number:{value:50},opacity:{value:.5},shape:{type:"circle"},size:{value:3}},interactivity:{events:{onhover:{enable:!0,mode:"repulse"}},modes:{repulse:{distance:100,duration:.4}}}},style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:0,pointerEvents:"none"}}),e.jsx("div",{style:{position:"fixed",top:16,left:6,zIndex:51,display:"flex",alignItems:"center",gap:"12px"},children:e.jsx("button",{onClick:()=>window.location.href="https://www.crearttech.com/",className:"relative px-5 py-2 rounded-full font-bold text-sm uppercase tracking-wider text-white transition-all duration-300 hover:-translate-y-0.5",style:{background:"linear-gradient(90deg, rgba(0,255,255,0.18) 0%, rgba(122,0,255,0.18) 50%, rgba(255,0,255,0.18) 100%)",border:"1px solid rgba(0, 255, 255, 0.55)"},children:e.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:[e.jsx("path",{d:"M3 10.5L12 3l9 7.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M5 9.5V21h14V9.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("span",{children:"Home"})]})})}),e.jsx("div",{className:"absolute top-6 left-1/2 transform -translate-x-1/2 z-10 flex items-center gap-3",children:e.jsx("h1",{className:"text-2xl font-bold leading-none m-0",style:{fontFamily:"Gotham Black, Arial, sans-serif",color:"#fff",textShadow:"0 0 12px #a259ff, 0 0 24px #0ff, 0 0 2px #fff",letterSpacing:"0.04em"},children:"BEATO16"})}),e.jsx("main",{className:"flex w-full h-full",style:{minHeight:"100vh",height:"100vh",position:"relative",zIndex:1,overflow:"hidden",background:"transparent"},children:e.jsx("div",{className:"flex-grow h-full",style:{position:"relative",zIndex:1,background:"transparent"},children:e.jsx("div",{ref:j,className:"w-full h-full transition-all duration-300",onClick:ye,style:{position:"relative",zIndex:1}})})}),e.jsxs("div",{className:"fixed top-0 right-0 h-screen border-l border-gray-700 shadow-2xl transition-all duration-400 flex overflow-hidden z-10 "+("normal"===L?"w-28":"w-[320px]"),style:{backgroundColor:"rgba(255, 255, 0, 0.8)",background:"transparent",boxShadow:"0 0 16px 2px rgba(0, 255, 255, 0.4), -6px 0 16px 0 rgba(0, 255, 255, 0.3), inset 0 0 10px rgba(0,0,0,0.8)",borderLeft:"2px solid rgba(0, 255, 255, 0.8)",backdropFilter:"blur(10px)",zIndex:10},children:[e.jsx("div",{className:"w-28 p-4 flex-shrink-0",style:{paddingTop:"45px"},children:e.jsxs("div",{className:"flex flex-col gap-1.5",children:[[{id:"normal",icon:"M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5M12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17M12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z"},{id:"chasis",icon:"./textures/beato16.png",isImage:!0},,{id:"buttons",icon:"M12 1.999c5.524 0 10.002 4.478 10.002 10.002c0 5.523-4.478 10.001-10.002 10.001S1.998 17.524 1.998 12.001C1.998 6.477 6.476 1.999 12 1.999m0 1.5a8.502 8.502 0 1 0 0 17.003A8.502 8.502 0 0 0 12 3.5M11.996 6a5.998 5.998 0 1 1 0 11.996a5.998 5.998 0 0 1 0-11.996"},{id:"knobs",icon:"M9.42 4.074a.56.56 0 0 0-.56.56v.93c0 .308.252.56.56.56s.56-.252.56-.56v-.93a.56.56 0 0 0-.56-.56M11.554 8.8a.5.5 0 0 1 0 .707l-1.78 1.78a.5.5 0 1 1-.708-.707l1.78-1.78a.5.5 0 0 1 .708 0 M9.42 15.444c-1.16 0-2.32-.44-3.2-1.32a4.527 4.527 0 0 1 0-6.39a4.527 4.527 0 0 1 6.39 0a4.527 4.527 0 0 1 0 6.39c-.88.88-2.03 1.32-3.19 1.32m0-1.1a3.41 3.41 0 1 0 0-6.82a3.41 3.41 0 0 0 0 6.82M6.757 5.2a.56.56 0 1 0-.965.567l.465.809l.005.006a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.075a.566.566 0 0 0 .205-.753zm5.315.012a.55.55 0 0 1 .761-.206c.277.152.36.5.203.764l-.458.797a.56.56 0 0 1-.478.277a.564.564 0 0 1-.487-.834zm7.598 5.722a.5.5 0 0 1 .5-.5h2.52a.5.5 0 1 1 0 1h-2.52a.5.5 0 0 1-.5-.5 M22.69 15.454c2.49 0 4.52-2.03 4.52-4.52s-2.03-4.52-4.52-4.52s-4.52 2.03-4.52 4.52s2.03 4.52 4.52 4.52m0-1.11a3.41 3.41 0 1 1 0-6.82a3.41 3.41 0 0 1 0 6.82m-.56-9.7c0-.308.252-.56.56-.56s.56.252.56.56v.945a.566.566 0 0 1-.56.535a.56.56 0 0 1-.56-.56zm-2.103.566a.557.557 0 0 0-.763-.202a.566.566 0 0 0-.204.753l.468.815l.004.006a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.075a.566.566 0 0 0 .205-.753zm6.086-.204a.55.55 0 0 0-.761.206l-.458.795a.55.55 0 0 0 .194.759c.1.067.217.078.282.078a.6.6 0 0 0 .478-.262l.005-.006l.463-.806a.55.55 0 0 0-.203-.764M11.93 22.636H9.42a.5.5 0 0 0 0 1h2.51a.5.5 0 1 0 0-1 M4.9 23.136c0 2.49 2.03 4.52 4.52 4.52s4.52-2.03 4.52-4.52s-2.03-4.52-4.52-4.52s-4.52 2.03-4.52 4.52m7.93 0a3.41 3.41 0 1 1-6.82 0a3.41 3.41 0 0 1 6.82 0m-3.41-6.86a.56.56 0 0 0-.56.56v.93c0 .308.252.56.56.56s.56-.252.56-.56v-.93a.56.56 0 0 0-.56-.56m-3.418.93a.566.566 0 0 1 .755.206l.464.807c.137.258.06.6-.205.753a.53.53 0 0 1-.276.074a.58.58 0 0 1-.478-.261l-.005-.007l-.468-.814a.566.566 0 0 1 .207-.755zm6.08.209a.55.55 0 0 1 .761-.206c.277.151.36.499.203.764l-.462.802a.567.567 0 0 1-.766.194a.55.55 0 0 1-.194-.76zm8.475 3.588a.5.5 0 0 1 .707 0l1.78 1.78a.5.5 0 0 1-.707.707l-1.78-1.78a.5.5 0 0 1 0-.707 M22.69 27.656c-1.16 0-2.32-.44-3.2-1.32a4.527 4.527 0 0 1 0-6.39a4.527 4.527 0 0 1 6.39 0a4.527 4.527 0 0 1 0 6.39c-.88.88-2.04 1.32-3.19 1.32m0-1.11a3.41 3.41 0 1 0 0-6.82a3.41 3.41 0 0 0 0 6.82 M22.13 16.836c0-.308.252-.56.56-.56s.56.252.56.56v.945a.57.57 0 0 1-.56.545a.56.56 0 0 1-.56-.56zm-2.103.576a.566.566 0 0 0-.755-.206l-.006.003a.565.565 0 0 0-.206.755l.468.814l.004.007a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.074a.566.566 0 0 0 .205-.753zm6.086-.203a.55.55 0 0 0-.761.206l-.458.795a.55.55 0 0 0 .194.759a.5.5 0 0 0 .282.077a.6.6 0 0 0 .478-.261l.005-.007l.463-.805a.55.55 0 0 0-.203-.764 M1 5.75A4.75 4.75 0 0 1 5.75 1h20.52a4.75 4.75 0 0 1 4.75 4.75v20.48a4.75 4.75 0 0 1-4.75 4.75H5.75A4.75 4.75 0 0 1 1 26.23zM5.75 3A2.75 2.75 0 0 0 3 5.75v20.48a2.75 2.75 0 0 0 2.75 2.75h20.52a2.75 2.75 0 0 0 2.75-2.75V5.75A2.75 2.75 0 0 0 26.27 3z"},{id:"teclas",icon:"M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V6zm3-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H6zm2 2h8v4H8V8z"},{id:"faders",icon:"M3 6h18v2H3V6zm0 5h18v2H3v-2zm0 5h18v2H3v-2z"}].map(t=>e.jsx("button",{onClick:()=>we(t.id),className:"w-full aspect-square border-2 rounded-lg flex items-center justify-center p-2 transition-all duration-300 text-white relative "+(L===t.id?"bg-gradient-to-br from-[#00FFFF] to-[#0080FF] border-[#00FFFF] shadow-lg":"border-[#00FFFF] bg-gradient-to-br from-[#000000] to-[#1a1a1a] hover:from-[#00FFFF] hover:to-[#0080FF] hover:border-[#00FFFF] hover:shadow-lg"),children:t.isImage?e.jsx("img",{src:t.icon,alt:"Menu icon",className:"w-full h-full mx-auto my-auto object-contain"}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"chasis"===t.id||"knobs"===t.id?"0 0 32 32":(t.id,"0 0 24 24"),className:"w-4/5 h-4/5 mx-auto my-auto fill-white text-white",fill:"#fff",children:e.jsx("path",{d:t.icon})})},t.id)),e.jsx("input",{id:"sidebar-upload",type:"file",accept:"image/*,application/pdf",multiple:!0,style:{display:"none"},onChange:e=>{e.target.files&&Fe(Array.from(e.target.files))}}),e.jsx("button",{type:"button",onClick:()=>{var e;return null==(e=document.getElementById("sidebar-upload"))?void 0:e.click()},className:"w-full aspect-square border-2 rounded-lg flex items-center justify-center p-2 transition-all duration-300 text-white bg-gradient-to-br from-[#000000] to-[#1a1a1a] border-[#00FFFF] hover:from-[#00FFFF] hover:to-[#0080FF] hover:border-[#00FFFF] hover:shadow-lg",title:"Subir archivos de personalización",children:e.jsx("svg",{width:"28",height:"28",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 16V4m0 0l-4 4m4-4l4 4M4 20h16",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),_e.length>0&&e.jsxs("span",{className:"text-xs text-white mt-2",children:["Archivos: ",_e.map(e=>e.name).join(", ")]})]})}),e.jsxs("div",{className:"flex-1 p-2 flex flex-col",children:[e.jsx("div",{className:"flex items-center pb-5 border-b border-gray-600 pl-0 "+("normal"===L?"justify-center items-center gap-0":"justify-center gap-2"),style:"normal"===L?{minHeight:"48px"}:{},children:"normal"===L?e.jsx("img",{src:"models/logo.png",alt:"Logo",className:"h-6 w-auto",style:{filter:"drop-shadow(0 0 8px #a259ff) drop-shadow(0 0 16px #0ff)"}}):e.jsx("img",{src:"models/logo.png",alt:"Logo",className:"h-8 w-auto",style:{filter:"drop-shadow(0 0 8px #a259ff) drop-shadow(0 0 16px #0ff)"}})}),e.jsxs("div",{className:"mt-6 animate-fadeIn",children:[e.jsx("p",{className:"font-black text-sm tracking-wide uppercase m-0 mb-3 text-gray-200 text-left animate-fadeIn",children:(()=>{switch(L){case"chasis":return"CHOOSE THE CHASSIS COLOR";case"buttons":return"CUSTOMIZE THE BUTTONS";case"knobs":return"CHOOSE FOR THE KNOBS";case"teclas":return"CUSTOMIZE THE KEYS";case"faders":return"CUSTOMIZE THE FADERS";default:return"CHOOSE A COLOR"}})()}),e.jsx("div",{className:"grid grid-cols-2 gap-x-0 gap-y-0 p-0 justify-items-end ml-auto animate-scaleIn",children:Object.entries(re[L]||{}).map(([t,a],o)=>e.jsx("div",{className:"w-10 h-10 rounded-full cursor-pointer border border-[#a259ff] shadow-[0_0_6px_1px_#a259ff55] transition-all duration-200 hover:scale-110 animate-fadeInUp",style:{backgroundColor:a.hex,animationDelay:50*o+"ms"},title:t,onClick:()=>Ce(t,a)},t))})]})]})]}),"normal"===L&&e.jsx("button",{onClick:ue,className:"fixed bottom-10 left-1/2 transform -translate-x-1/2 z-50 px-6 py-3 text-lg font-bold uppercase tracking-wide text-black bg-purple-400 border-none rounded cursor-pointer transition-all duration-200 shadow-lg hover:bg-yellow-200 hover:scale-105 hover:shadow-xl shadow-[0_0_8px_2px_#a259ff80,0_0_16px_4px_#0ff5]",children:"ADD TO CART"}),q&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:e.jsxs("div",{className:"relative bg-[#3a4060] rounded-2xl shadow-2xl border-2 border-[#a259ff] p-4 md:py-4 md:px-8 w-full max-w-4xl mx-4 animate-fade-in",children:[e.jsx("button",{onClick:()=>G(!1),className:"absolute top-3 right-3 text-gray-400 hover:text-pink-400 text-2xl font-bold",children:"×"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-purple-400 mb-4 text-center tracking-widest",children:"PAGO SEGURO"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center mb-4",children:[e.jsx("div",{className:"w-full max-w-[320px] md:max-w-[380px] aspect-[4/3] flex items-center justify-center ml-16 md:ml-24",children:K&&e.jsx("img",{src:K,alt:"Custom controller",className:"w-full h-full object-contain",style:{background:"none",boxShadow:"none",border:"none"}})}),e.jsxs("div",{className:"flex-1 mt-8 md:mt-0",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2 text-cyan-400",children:"Your Configuration:"}),e.jsxs("ul",{className:"text-base space-y-1",children:[e.jsxs("li",{children:[e.jsx("b",{children:"Chassis:"})," ",U.chasis]}),e.jsxs("li",{children:[e.jsx("b",{children:"Buttons:"})," ",Object.values(U.buttons).join(", ")||"Default"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Knobs:"})," ",Object.values(U.knobs).join(", ")||"Default"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Keys:"})," ",Object.values(U.teclas).join(", ")||"Default"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Faders:"})," ",Object.values(U.faders).join(", ")||"Default"]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-cyan-400",children:"Select your currency:"}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx("button",{onClick:()=>je("USD"),className:"px-6 py-3 rounded-lg font-bold text-lg transition-all "+("USD"===ke?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-[0_0_12px_2px_#3b82f6]":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:"USD $250.00"}),e.jsx("button",{onClick:()=>je("COP"),className:"px-6 py-3 rounded-lg font-bold text-lg transition-all "+("COP"===ke?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-[0_0_12px_2px_#3b82f6]":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:"COP $1,000,000"})]}),e.jsxs("p",{className:"text-center text-sm text-gray-400 mt-2",children:["Selected price: ",ke," ",$r(ke).symbol,$r(ke).amount]})]}),e.jsxs("div",{className:"flex flex-col gap-4 mt-4",children:[e.jsx("div",{className:"w-full py-3 rounded-lg bg-gray-600 text-gray-400 font-bold text-lg text-center",children:"PayPal temporarily unavailable"}),e.jsxs("button",{onClick:async()=>{if(!Ee.buyerEmail||!Ee.buyerEmail.includes("@"))return void alert("Please enter a valid email");let e="";try{const t=document.querySelector("canvas");if(t){e=(await N(t,{useCORS:!0,allowTaint:!0})).toDataURL("image/jpeg",.6),localStorage.setItem("payu_screenshot",e)}}catch(d){}const t="payu-popup";if(!window.open("",t,"width=800,height=600,scrollbars=yes,resizable=yes"))return void alert("Por favor permite popups para continuar con el pago");const a=$r(ke),o=`${Ar.API_KEY}~${Ar.MERCHANT_ID}~${Ee.referenceCode}~${a.amount}~${ke}`,n=M(o).toString(),i=document.createElement("form");i.method="POST",i.action=a.url,i.target=t,Object.values(U.buttons||{}).join(", "),Object.values(U.knobs||{}).join(", ");const s=Object.values(U.faders||{}).join(", ")||"Sin configurar",r=Object.values(U.teclas||{}).join(", ")||"Sin configurar",l=`Beato16-${U.chasis||"Custom"}-${Object.keys(U.buttons||{}).length}b-${Object.keys(U.knobs||{}).length}k-${Object.keys(U.faders||{}).length}f-${Object.keys(U.teclas||{}).length}t`,c={merchantId:Ar.MERCHANT_ID,accountId:a.accountId,description:`Beato 16 Configurator - ${ke} ${a.symbol}${a.amount}`,referenceCode:Ee.referenceCode,amount:a.amount,currency:ke,buyerEmail:Ee.buyerEmail,signature:n,test:"1",confirmationUrl:Ar.CONFIRMATION_URL,responseUrl:Ar.RESPONSE_URL,lng:a.language,extra1:"Beato16",extra2:U.chasis||"Custom",extra3:l,extra4:`Beato 16 Configurator - ${ke} ${a.symbol}${a.amount}`,extra5:"screenshot_available",extra8:s,extra9:r,payerCountry:"CO",payerCity:"Bogota",payerPhone:"+57-300-1234567",country:"CO"};Object.entries(c).forEach(([e,t])=>{const a=document.createElement("input");a.type="hidden",a.name=e,a.value=t,i.appendChild(a)}),document.body.appendChild(i),i.submit(),document.body.removeChild(i)},className:"w-full py-3 rounded-lg bg-gradient-to-r from-green-400 to-cyan-400 text-white font-bold text-lg shadow-[0_0_12px_2px_#0ff580] hover:scale-105 transition-all mt-2",children:["Pay with PayU (",ke," ",$r(ke).symbol,$r(ke).amount,")"]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-6 text-center",children:"Your purchase is 100% safe and protected."})]})}),J&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:e.jsxs("div",{className:"relative bg-[#232846] rounded-2xl shadow-2xl border-2 border-[#a259ff] p-6 w-full max-w-2xl mx-4 animate-fade-in flex flex-col items-center",children:[e.jsx("button",{onClick:()=>X(!1),className:"absolute top-3 right-3 text-gray-400 hover:text-pink-400 text-2xl font-bold",children:"×"}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-purple-400 mb-4 text-center tracking-widest",children:"Product Added!"}),e.jsx("p",{className:"text-white text-center mb-4",children:"Your configuration has been added to the Wix cart. You can complete your purchase from there."}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center w-full",children:[e.jsx("div",{className:"w-full max-w-[220px] aspect-[4/3] flex items-center justify-center",children:K&&e.jsx("img",{src:K,alt:"Custom controller",className:"w-full h-full object-contain",style:{background:"none",boxShadow:"none",border:"none"}})}),e.jsxs("div",{className:"flex-1 mt-4 md:mt-0 w-full",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-cyan-400",children:"Your Product:"}),e.jsxs("ul",{className:"text-base space-y-1 mb-2",children:[e.jsxs("li",{children:[e.jsx("b",{children:"Chassis:"})," ",U.chasis]}),e.jsxs("li",{children:[e.jsx("b",{children:"Buttons:"})," ",Object.values(U.buttons).join(", ")||"Default"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Knobs:"})," ",Object.values(U.knobs).join(", ")||"Default"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Keys:"})," ",Object.values(U.teclas).join(", ")||"Default"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Faders:"})," ",Object.values(U.faders).join(", ")||"Default"]})]})]})]}),e.jsx("div",{className:"flex flex-col gap-4 mt-6 w-full",children:e.jsx("button",{onClick:()=>X(!1),className:"w-full py-3 rounded-lg bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold text-lg shadow-[0_0_12px_2px_#ff00ff80] hover:scale-105 transition-all mt-2",children:"Continue Customizing"})})]})})]})]})},Zr=Object.freeze(Object.defineProperty({__proto__:null,default:Xr},Symbol.toStringTag,{value:"Module"})),Qr=({className:t="",style:a={}})=>{const[o,n]=E.useState(!1),[i]=E.useState(Date.now());return E.useEffect(()=>{const e=setTimeout(()=>{n(!0)},3e3);return()=>clearTimeout(e)},[]),e.jsxs("div",{className:t,style:a,children:[e.jsx(Jr,{isVisible:!o}),e.jsx("div",{style:{width:"100%",height:"100%",opacity:o?1:0},children:e.jsx(Xr,{})})]})},el=Object.freeze(Object.defineProperty({__proto__:null,default:Qr},Symbol.toStringTag,{value:"Module"})),tl=({isVisible:t})=>{const[a,o]=E.useState(0),[n]=E.useState(Date.now());return E.useEffect(()=>{if(t){const e=setInterval(()=>{const e=Date.now()-n,t=Math.min(e/3e3*100,100);o(t)},50);return()=>clearInterval(e)}o(0)},[t,n]),e.jsx(_,{children:t&&e.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundImage:"url(/textures/carga.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:9999,color:"white",fontFamily:"Arial, sans-serif"},children:[e.jsx(F.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},style:{fontSize:"32px",fontWeight:"bold",marginBottom:"20px",color:"#9B59B6",textShadow:"0 0 20px #9B59B6, 0 0 40px #8E44AD"},children:"KNOBO"}),e.jsx(F.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8,ease:"easeOut"},style:{fontSize:"18px",fontWeight:"bold",marginBottom:"40px",color:"#ffffff",textShadow:"0 0 10px #ffffff"},children:"Features: Metal body, 8 assignable knobs."}),e.jsx(F.div,{animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"},style:{width:"100px",height:"100px",border:"6px solid rgba(155, 89, 182, 0.1)",borderTop:"6px solid #9B59B6",borderRadius:"50%",marginBottom:"40px",boxShadow:"0 0 30px rgba(155, 89, 182, 0.4)"}}),e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},style:{fontSize:"20px",fontWeight:"bold",textAlign:"center",marginBottom:"20px",color:"#9B59B6"},children:["Cargando KNOBO... ",Math.round(a),"%"]}),a>=100&&e.jsx(F.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.8},style:{fontSize:"18px",color:"#E74C3C",fontWeight:"bold",marginBottom:"30px",textShadow:"0 0 10px #E74C3C"},children:"¡KNOBO listo para configurar!"}),e.jsx(F.div,{style:{width:"400px",height:"8px",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"4px",overflow:"hidden",boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.3)",marginBottom:"40px"},children:e.jsx(F.div,{initial:{width:0},animate:{width:`${a}%`},transition:{duration:.1,ease:"linear"},style:{width:"100%",height:"100%",background:"linear-gradient(90deg, #9B59B6, #8E44AD, #9B59B6)",borderRadius:"4px",boxShadow:"0 0 15px rgba(155, 89, 182, 0.6)",backgroundSize:"200% 100%",animation:"shimmer 2s infinite"}})}),e.jsx(F.div,{style:{display:"flex",gap:"12px",marginTop:"20px"},children:[0,1,2].map(t=>e.jsx(F.div,{animate:{scale:[1,1.3,1],opacity:[.4,1,.4]},transition:{duration:2,repeat:1/0,delay:.3*t,ease:"easeInOut"},style:{width:"12px",height:"12px",backgroundColor:"#9B59B6",borderRadius:"50%",boxShadow:"0 0 10px rgba(155, 89, 182, 0.6)"}},t))}),e.jsx("style",{children:"\n            @keyframes shimmer {\n              0% { background-position: -200% 0; }\n              100% { background-position: 200% 0; }\n            }\n          "})]})})},al=({onProductChange:t})=>{const[v,w]=E.useState(""),[C,k]=E.useState(""),j=E.useRef(null),S=E.useRef(null),_=E.useRef(null),F=E.useRef(null),N=E.useRef(null),T=E.useRef(null),D=E.useRef(null),[L,A]=E.useState("normal"),[B,$]=E.useState(null),[U,H]=E.useState(()=>{const e=localStorage.getItem("knobo_chosenColors");if(e)try{return JSON.parse(e)}catch(Cl){}return{type:"configUpdate",chasis:"Gris",buttons:{},knobs:{}}}),[V,W]=E.useState({chasis:[],buttons:[],knobs:[]}),[q,G]=E.useState(!1),[K,Y]=E.useState(null),[J,X]=E.useState(!1),Z=E.useRef(L),[Q,ee]=E.useState([]),[te,ae]=E.useState([]),oe={chasis:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},buttons:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},knobs:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}}},ne={normal:{pos:new h(2,1,-.1),target:new h(0,-.5,-.1)},top:{pos:new h(1,1.65,-.4),target:new h(-.35,-.9,-.4)}},ie=E.useRef(null),se=E.useRef(null);E.useCallback(()=>{const e={productId:"3d58a487-8b74-2a0b-7e04-43fca04e5333",quantity:1,options:{choices:{"Tipo de Configuración":"Paquete Pro"},customTextFields:[{title:"Especificaciones",value:`Chasis: ${U.chasis}, Botones: ${Object.values(U.buttons).join(", ")}, Knobs: ${Object.values(U.knobs).join(", ")}`}]}};window.parent&&window.parent.postMessage(e,"*"),G(!1),X(!0)},[U]);const re=E.useCallback(()=>{window.parent&&window.parent.postMessage(U,"*")},[U]),[le,ce]=E.useState(null);E.useEffect(()=>{(new o).load("public/textures/blackhole.jpg.avif",e=>{e.mapping=n,ce(e)})},[]);const de=E.useCallback((e,t)=>{const a=new i(16777215,.9);e.add(a);const o=new s(16777215,1.2);o.position.set(5,4,-1),o.castShadow=!0,o.shadow.mapSize.width=4096,o.shadow.mapSize.height=4096,o.shadow.camera.near=.5,o.shadow.camera.far=50,o.shadow.normalBias=.02,e.add(o);const n=new s(10079487,1);n.position.set(-8,3,-9),e.add(n);const l=new s(10079487,1);l.position.set(-8,3,15),e.add(l);const c=new r(16777215,.7,.5);c.position.set(0,5,5),e.add(c);const d=new s(16777215,1.2);d.position.set(-5,30,0),d.castShadow=!0,d.shadow.mapSize.width=2048,d.shadow.mapSize.height=2048,d.shadow.camera.near=.5,d.shadow.camera.far=50,d.shadow.normalBias=.02,e.add(d)},[]),ue=E.useCallback(e=>{const t={chasis:[],buttons:[],knobs:[]},a={type:"configUpdate",chasis:"Azul",buttons:{},knobs:{}};e.traverse(e=>{var o;if(!(e instanceof l))return;e.castShadow=!0,e.receiveShadow=!0;const n="string"==typeof e.name?e.name.toLowerCase():"";if((n.includes("logo")||n.includes("beato")||n.includes("knobo02")||n.includes("knobo-02")||n.includes("crearttech")||n.includes("custom midi"))&&e.material&&"map"in e.material&&e.material.map&&(e.material.transparent=!0,e.material.alphaTest=.9),n.includes("cubechasis"))e.material=new c({color:oe.chasis.Gris.hex,metalness:.8,roughness:.35,clearcoat:.85,clearcoatRoughness:.1}),t.chasis.push(e),a.chasis="Gris";else if(n.includes("boton")){const o="Negro";e.material=new c({color:oe.buttons[o].hex,metalness:.4,roughness:.68,clearcoat:.85,clearcoatRoughness:.08,reflectivity:.3,sheen:.5,sheenColor:1842204}),t.buttons.push(e),a.buttons[e.name]=o}else if(n.includes("aro"))e.material=new c({color:0,metalness:0,roughness:.2,clearcoat:.8,clearcoatRoughness:.1,reflectivity:.5,transmission:.3,thickness:.5,ior:1.4,attenuationDistance:1,attenuationColor:16777215,transparent:!0,opacity:.7}),t.buttons.push(e),a.buttons[e.name]="Negro";else if(n.includes("knob")&&!n.includes("knobo-02")&&(null==(o=e.material)?void 0:o.color)){const o=e.material;if((o.color.r+o.color.g+o.color.b)/3<.5){const o="Negro";e.material=new d({color:oe.knobs[o].hex,metalness:0,roughness:1}),t.knobs.push(e),a.knobs[e.name]=o}else e.material=new d({color:16777215})}}),W(t),H(a)},[le]),he=E.useCallback(e=>{const t=(new u).setFromObject(e),a=t.getSize(new h),o=t.getCenter(new h),n=1.8/Math.max(a.x,a.y,a.z);e.scale.set(n,n,n),e.position.copy(o).multiplyScalar(-n),e.position.y-=a.y/2*n},[]),pe=E.useCallback(async()=>{try{const{GLTFLoader:e}=await a(async()=>{const{GLTFLoader:e}=await import("./GLTFLoader-L0pBLRUW.js");return{GLTFLoader:e}},__vite__mapDeps([7,1,2]));(new e).load("./models/knobo2.glb",e=>{var t;const a=e.scene;T.current=a,ue(a),he(a),null==(t=S.current)||t.add(a),D.current||(D.current=a.position.clone());a.traverse(e=>{e.isMesh&&"string"==typeof e.name&&e.name.toLowerCase().includes("aro")&&e.material&&"color"in e.material&&e.material.color.setHex(1842204),e.isMesh&&"string"==typeof e.name&&e.name.toLowerCase().includes("aro")&&(e.material=e.material.clone())})},void 0,e=>{})}catch(e){}},[ue,he]);E.useEffect(()=>{if(!j.current)return;const e=new p;e.background=null,S.current=e;const t=new m({antialias:!0,alpha:!0,preserveDrawingBuffer:!0});t.setSize(j.current.clientWidth,j.current.clientHeight),t.setPixelRatio(Math.min(window.devicePixelRatio,2)),t.outputColorSpace=f,t.shadowMap.enabled=!0,t.shadowMap.type=x,_.current=t,j.current.appendChild(t.domElement);const o=new g(45,j.current.clientWidth/j.current.clientHeight,.1,200);let n;o.position.copy(ne.normal.pos),F.current=o,a(async()=>{const{OrbitControls:e}=await import("./OrbitControls-DFclDx1A.js");return{OrbitControls:e}},__vite__mapDeps([8,1,2])).then(({OrbitControls:e})=>{const a=new e(o,t.domElement);a.target.copy(ne.normal.target),a.enableDamping=!0,a.minDistance=2,a.maxDistance=5,N.current=a}),de(e,t),pe();const i=()=>{n=requestAnimationFrame(i),N.current&&N.current.update(),t.render(e,o)};return i(),()=>{n&&cancelAnimationFrame(n),j.current&&t.domElement&&j.current.removeChild(t.domElement),t.dispose()}},[de,pe]),E.useEffect(()=>{const e=()=>{if(j.current&&F.current&&_.current){const e=j.current.clientWidth,t=j.current.clientHeight;F.current.aspect=e/t,F.current.updateProjectionMatrix(),_.current.setSize(e,t)}};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),E.useEffect(()=>{localStorage.setItem("knobo_currentView",L)},[L]),E.useEffect(()=>{localStorage.setItem("knobo_chosenColors",JSON.stringify(U))},[U]),E.useEffect(()=>{if(V.chasis.length>0||V.buttons.length>0||V.knobs.length>0){if(U.chasis&&oe.chasis[U.chasis]){const e=oe.chasis[U.chasis].hex;V.chasis.forEach(t=>{t.material&&"color"in t.material&&t.material.color.setHex(parseInt(e.replace("#",""),16))})}Object.entries(U.buttons).forEach(([e,t])=>{if(oe.buttons[t]){const a=oe.buttons[t].hex,o=V.buttons.find(t=>t.name===e);o&&o.material&&"color"in o.material&&o.material.color.setHex(parseInt(a.replace("#",""),16))}}),Object.entries(U.knobs).forEach(([e,t])=>{if(oe.knobs[t]){const a=oe.knobs[t].hex,o=V.knobs.find(t=>t.name===e);o&&o.material&&"color"in o.material&&o.material.color.setHex(parseInt(a.replace("#",""),16))}})}},[V,U]),E.useCallback(()=>{localStorage.removeItem("knobo_currentView"),localStorage.removeItem("knobo_chosenColors"),A("normal"),H({type:"configUpdate",chasis:"Gris",buttons:{},knobs:{}}),ee([]),ae([]),$(null),z.fire({title:"Configuración reseteada",text:"Todas las configuraciones han sido restauradas a los valores por defecto",icon:"success",confirmButtonText:"OK"})},[]);const me=E.useCallback((e,t=0)=>{var a;e&&(null==(a=e.material)?void 0:a.emissive)&&e.material.emissive.setHex(t)},[]),fe=E.useCallback(e=>{var t;if(!F.current||!_.current)return;if("chasis"===L)return $(null),void ee([]);const a=new b,o=new y,n=_.current.domElement.getBoundingClientRect();o.x=(e.clientX-n.left)/n.width*2-1,o.y=-(e.clientY-n.top)/n.height*2+1,a.setFromCamera(o,F.current);let i=[];if("buttons"===L?i=V.buttons:"knobs"===L?i=V.knobs:"normal"===L&&(i=V.buttons),0===i.length)return;const s=a.intersectObjects(i,!1);if("buttons"===L&&V.buttons.forEach(e=>me(e,0)),B&&"normal"!==L&&me(B,0),s.length>0){const a=s[0].object;if("normal"===L)return;if("buttons"===L&&e.shiftKey)0===Q.length&&B&&B!==a?(ee([B,a]),$(null),me(B,4473924),me(a,4473924)):($(null),ee(e=>{if(0===e.length)return me(a,4473924),[a];let t;return e.includes(a)?(t=e.filter(e=>e!==a),me(a,0)):(t=[...e,a],me(a,4473924)),t.forEach(e=>me(e,4473924)),t}));else if(ee([]),"buttons"===L&&a.name.toLowerCase().includes("aro")){const e=parseInt((null==(t=a.name.match(/\d+/))?void 0:t[0])||"1",10),o=V.buttons.find(t=>t.name.toLowerCase().includes("boton")&&t.name.includes(e.toString()));if(!o)return void $(null);$(o),me(o,4473924)}else $(a),me(a,4473924)}else $(null),ee([])},[L,V,B,me,Q]),xe=E.useCallback(e=>{var t;if(!T.current)return null;let a=null;const o=null==(t=e.match(/\d+/))?void 0:t[0];return o?(T.current.traverse(e=>{var t;if(e instanceof l&&e.name.toLowerCase().includes("aro")){(null==(t=e.name.match(/\d+/))?void 0:t[0])===o&&(a=e)}}),a):null},[]),ge=E.useCallback(e=>{if(A(e),"chasis"===e&&V.chasis.length>0?$(V.chasis[0]):$(null),!F.current||!N.current)return;let t,a;"normal"===e?(t=ne.normal,a=!0):(t=ne.top,a=!1),N.current.enabled=a,O.to(F.current.position,{duration:1.2,ease:"power3.inOut",...t.pos}),O.to(N.current.target,{duration:1.2,ease:"power3.inOut",...t.target,onUpdate:()=>N.current.update()})},[V]),be=E.useCallback((e,t)=>{if("chasis"===L)return V.chasis.forEach(e=>{e.material.color.set(t.hex)}),void H(t=>({...t,chasis:e}));if("buttons"===L&&Q.length>0){const a={...U,buttons:{...U.buttons}};return Q.forEach(o=>{o.material.color.set(t.hex),a.buttons[o.name]=e;const n=xe(o.name);n&&n.material&&n.material.color.set(t.hex)}),H(a),Q.forEach(e=>me(e,0)),void ee([])}if("knobs"===L&&te.length>0){const a={...U,knobs:{...U.knobs}};return te.forEach(o=>{o.material.color.set(t.hex),a.knobs[o.name]=e}),H(a),te.forEach(e=>me(e,0)),void ae([])}if(!B)return void z.fire({title:"Selecciona una parte",text:"Haz clic en una pieza del controlador para aplicar el color.",imageUrl:"models/logo.png",imageWidth:120,imageHeight:120,background:"#232846",color:"#fff",confirmButtonColor:"#a259ff",confirmButtonText:"Entendido"});B.material.color.set(t.hex);const a={...U},o=B.name;if(V.buttons.includes(B)){if(a.buttons[o]=e,o.toLowerCase().includes("boton")){const e=xe(o);e&&e.material&&e.material.color.set(t.hex)}me(B,0)}else V.knobs.includes(B)&&(a.knobs[o]=e);H(a)},[B,Q,U,V,L,xe,te]),ye=E.useCallback(()=>{if(!_.current||!S.current||!F.current)return;const e=F.current.position.clone(),t=N.current?N.current.target.clone():null,a=F.current.fov,o=ne.normal.pos.clone(),n=ne.normal.target.clone();F.current.position.copy(o),F.current.fov=35,F.current.updateProjectionMatrix(),N.current&&(N.current.target.copy(n),N.current.update()),setTimeout(()=>{_.current.render(S.current,F.current);const o=_.current.domElement.toDataURL("image/png");Y(o),F.current.position.copy(e),F.current.fov=a,F.current.updateProjectionMatrix(),N.current&&t&&(N.current.target.copy(t),N.current.update()),G(!0)},50)},[_,S,F,N,ne,Y,G]);E.useEffect(()=>{re()},[re]),E.useEffect(()=>{Z.current=L},[L]),E.useEffect(()=>{setTimeout(()=>{F.current&&N.current&&(ie.current=F.current.position.clone(),se.current=N.current.target.clone())},100)},[]);const[ve,we]=E.useState("USD"),[Ce,ke]=E.useState({referenceCode:`knobo_${Date.now()}`,amount:"100.00",currency:"USD",signature:"",description:"Knobo Configurator",buyerEmail:"customer@email.com"});E.useEffect(()=>{const e=Ur(ve);ke(t=>({...t,amount:e.amount,currency:ve,description:`Knobo Configurator - ${ve} ${e.symbol}${e.amount}`}))},[ve]),E.useEffect(()=>{if(J||q){const e=`knobo-${Date.now()}`;ke(t=>({...t,referenceCode:e}))}},[J,q]);const[je,Ee]=E.useState([]);return e.jsxs(I,{options:{clientId:"sb",currency:"USD"},children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:-1,backgroundImage:"url(/textures/fondo.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"}}),e.jsxs("div",{className:"w-full h-screen text-gray-200 overflow-hidden relative",style:{background:"transparent"},children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:0,pointerEvents:"none",background:"transparent"}}),e.jsx(R,{id:"tsparticles",init:async e=>{await Lr(e)},options:{fullScreen:{enable:!1},background:{color:{value:"transparent"}},fpsLimit:60,particles:{color:{value:"#a259ff"},links:{enable:!0,color:"#a259ff",distance:120},move:{enable:!0,speed:1},number:{value:50},opacity:{value:.5},shape:{type:"circle"},size:{value:3}},interactivity:{events:{onhover:{enable:!0,mode:"repulse"}},modes:{repulse:{distance:100,duration:.4}}}},style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:0,pointerEvents:"none"}}),e.jsx("div",{style:{position:"fixed",top:16,left:6,zIndex:51,display:"flex",alignItems:"center",gap:"12px"},children:e.jsx("button",{className:"px-5 py-2 bg-purple-400 text-black border border-purple-400 rounded font-bold text-sm uppercase tracking-wide transition-all duration-200 hover:bg-yellow-200 hover:border-yellow-200 hover:-translate-y-0.5 hover:shadow-lg shadow-[0_0_8px_2px_#a259ff80,0_0_16px_4px_#0ff5]",onClick:()=>window.location.href="https://www.crearttech.com/",children:"Home"})}),e.jsx("div",{className:"absolute top-6 left-1/2 transform -translate-x-1/2 z-10 flex items-center gap-3",children:e.jsx("h1",{className:"text-2xl font-bold leading-none m-0",style:{fontFamily:"Gotham Black, Arial, sans-serif",color:"#fff",textShadow:"0 0 12px #a259ff, 0 0 24px #0ff, 0 0 2px #fff",letterSpacing:"0.04em"},children:"KNOBO"})}),e.jsx("main",{className:"flex w-full h-full",style:{minHeight:"100vh",height:"100vh",position:"relative",zIndex:1,overflow:"hidden",background:"transparent"},children:e.jsx("div",{className:"flex-grow h-full",style:{position:"relative",zIndex:1,background:"transparent"},children:e.jsx("div",{ref:j,className:"w-full h-full transition-all duration-300",onClick:fe,style:{position:"relative",zIndex:1}})})}),e.jsxs("div",{className:"fixed top-0 right-0 h-screen border-l border-gray-700 shadow-2xl transition-all duration-400 flex overflow-hidden z-10 "+("normal"===L?"w-28":"w-[320px]"),style:{backgroundColor:"rgba(255, 255, 0, 0.8)",background:"linear-gradient(135deg, rgba(0, 0, 0, 0.2) 0%, rgba(26, 26, 26, 0.2) 25%, rgba(10, 10, 10, 0.2) 50%, rgba(26, 26, 26, 0.2) 75%, rgba(0, 0, 0, 0.2) 100%)",boxShadow:"0 0 16px 2px rgba(0, 255, 255, 0.4), -6px 0 16px 0 rgba(0, 255, 255, 0.3), inset 0 0 10px rgba(0,0,0,0.8)",borderLeft:"2px solid rgba(0, 255, 255, 0.8)",backdropFilter:"blur(10px)",zIndex:10},children:[e.jsx("div",{className:"w-28 p-4 flex-shrink-0",style:{paddingTop:"140px"},children:e.jsxs("div",{className:"flex flex-col gap-1.5",children:[[{id:"normal",icon:"M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5M12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17M12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z",title:"Vista General"},{id:"chasis",icon:"knobo.png",title:"Chasis",isImage:!0},{id:"knobs",icon:"M9.42 4.074a.56.56 0 0 0-.56.56v.93c0 .308.252.56.56.56s.56-.252.56-.56v-.93a.56.56 0 0 0-.56-.56M11.554 8.8a.5.5 0 0 1 0 .707l-1.78 1.78a.5.5 0 1 1-.708-.707l1.78-1.78a.5.5 0 0 1 .708 0 M9.42 15.444c-1.16 0-2.32-.44-3.2-1.32a4.527 4.527 0 0 1 0-6.39a4.527 4.527 0 0 1 6.39 0a4.527 4.527 0 0 1 0 6.39c-.88.88-2.03 1.32-3.19 1.32m0-1.1a3.41 3.41 0 1 0 0-6.82a3.41 3.41 0 0 0 0 6.82M6.757 5.2a.56.56 0 1 0-.965.567l.465.809l.005.006a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.075a.566.566 0 0 0 .205-.753zm5.315.012a.55.55 0 0 1 .761-.206c.277.152.36.5.203.764l-.458.797a.56.56 0 0 1-.478.277a.564.564 0 0 1-.487-.834zm7.598 5.722a.5.5 0 0 1 .5-.5h2.52a.5.5 0 1 1 0 1h-2.52a.5.5 0 0 1-.5-.5 M22.69 15.454c2.49 0 4.52-2.03 4.52-4.52s-2.03-4.52-4.52-4.52s-4.52 2.03-4.52 4.52s2.03 4.52 4.52 4.52m0-1.11a3.41 3.41 0 1 1 0-6.82a3.41 3.41 0 0 1 0 6.82m-.56-9.7c0-.308.252-.56.56-.56s.56.252.56.56v.945a.566.566 0 0 1-.56.535a.56.56 0 0 1-.56-.56zm-2.103.566a.557.557 0 0 0-.763-.202a.566.566 0 0 0-.204.753l.468.815l.004.006a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.075a.566.566 0 0 0 .205-.753zm6.086-.204a.55.55 0 0 0-.761.206l-.458.795a.55.55 0 0 0 .194.759a.5.5 0 0 0 .282.077a.6.6 0 0 0 .478-.261l.005-.007l.463-.805a.55.55 0 0 0-.203-.764 M11.93 22.636H9.42a.5.5 0 0 0 0 1h2.51a.5.5 0 1 0 0-1 M4.9 23.136c0 2.49 2.03 4.52 4.52 4.52s4.52-2.03 4.52-4.52s-2.03-4.52-4.52-4.52s-4.52 2.03-4.52 4.52m7.93 0a3.41 3.41 0 1 1-6.82 0a3.41 3.41 0 0 1 6.82 0m-3.41-6.86a.56.56 0 0 0-.56.56v.93c0 .308.252.56.56.56s.56-.252.56-.56v-.93a.56.56 0 0 0-.56-.56m-3.418.93a.566.566 0 0 1 .755.206l.464.807c.137.258.06.6-.205.753a.53.53 0 0 1-.276.074a.58.58 0 0 1-.478-.261l-.005-.007l-.468-.814a.566.566 0 0 1 .207-.755zm6.08.209a.55.55 0 0 1 .761-.206c.277.151.36.499.203.764l-.462.802a.567.567 0 0 1-.766.194a.55.55 0 0 1-.194-.76zm8.475 3.588a.5.5 0 0 1 .707 0l1.78 1.78a.5.5 0 0 1-.707.707l-1.78-1.78a.5.5 0 0 1 0-.707 M22.69 27.656c-1.16 0-2.32-.44-3.2-1.32a4.527 4.527 0 0 1 0-6.39a4.527 4.527 0 0 1 6.39 0a4.527 4.527 0 0 1 0 6.39c-.88.88-2.04 1.32-3.19 1.32m0-1.11a3.41 3.41 0 1 0 0-6.82a3.41 3.41 0 0 0 0 6.82 M22.13 16.836c0-.308.252-.56.56-.56s.56.252.56.56v.945a.57.57 0 0 1-.56.545a.56.56 0 0 1-.56-.56zm-2.103.576a.566.566 0 0 0-.755-.206l-.006.003a.565.565 0 0 0-.206.755l.468.814l.004.007a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.074a.566.566 0 0 0 .205-.753zm6.086-.203a.55.55 0 0 0-.761.206l-.458.795a.55.55 0 0 0 .194.759a.5.5 0 0 0 .282.077a.6.6 0 0 0 .478-.261l.005-.007l.463-.805a.55.55 0 0 0-.203-.764 M1 5.75A4.75 4.75 0 0 1 5.75 1h20.52a4.75 4.75 0 0 1 4.75 4.75v20.48a4.75 4.75 0 0 1-4.75 4.75H5.75A4.75 4.75 0 0 1 1 26.23zM5.75 3A2.75 2.75 0 0 0 3 5.75v20.48a2.75 2.75 0 0 0 2.75 2.75h20.52a2.75 2.75 0 0 0 2.75-2.75V5.75A2.75 2.75 0 0 0 26.27 3z",title:"Knobs"}].map(({id:t,icon:a,title:o,isImage:n})=>e.jsx("button",{onClick:"faders"===t?void 0:()=>ge(t),className:"w-full aspect-square border-2 rounded-lg flex items-center justify-center p-2 transition-all duration-300 text-white relative "+(L===t?"bg-gradient-to-br from-[#00FFFF] to-[#0080FF] border-[#00FFFF] shadow-lg":"border-[#00FFFF] bg-gradient-to-br from-[#000000] to-[#1a1a1a] hover:from-[#00FFFF] hover:to-[#0080FF] hover:border-[#00FFFF] hover:shadow-lg"),title:o,disabled:"faders"===t,style:"faders"===t?{cursor:"not-allowed"}:{},children:n?e.jsx("img",{src:`textures/${a}`,alt:o,className:"w-full h-full mx-auto my-auto object-contain",style:{},onError:e=>{}}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"knobs"===t?"0 0 32 32":"faders"===t?"0 0 256 256":"0 0 24 24",className:"w-4/5 h-4/5 mx-auto my-auto fill-white text-white",fill:"#fff",children:e.jsx("path",{d:a})})},t)),e.jsx("input",{id:"sidebar-upload",type:"file",accept:"image/*,application/pdf",multiple:!0,style:{display:"none"},onChange:e=>{e.target.files&&Ee(Array.from(e.target.files))}}),e.jsx("button",{type:"button",onClick:()=>{var e;return null==(e=document.getElementById("sidebar-upload"))?void 0:e.click()},className:"w-full aspect-square border-2 rounded-lg flex items-center justify-center p-2 transition-all duration-300 text-white bg-gradient-to-br from-[#000000] to-[#1a1a1a] border-[#00FFFF] hover:from-[#00FFFF] hover:to-[#0080FF] hover:border-[#00FFFF] hover:shadow-lg",title:"Subir archivos de personalización",children:e.jsx("svg",{width:"28",height:"28",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 16V4m0 0l-4 4m4-4l4 4M4 20h16",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),je.length>0&&e.jsxs("span",{className:"text-xs text-white mt-2",children:["Archivos: ",je.map(e=>e.name).join(", ")]})]})}),e.jsxs("div",{className:"flex-1 p-4 flex flex-col",children:[e.jsx("div",{className:"flex items-center pb-5 border-b border-gray-600 pl-0 "+("normal"===L?"justify-center items-center gap-0":"justify-center gap-2"),style:"normal"===L?{minHeight:"48px"}:{},children:"normal"===L?e.jsx("img",{src:"models/logo.png",alt:"Logo",className:"h-6 w-auto",style:{filter:"drop-shadow(0 0 8px #a259ff) drop-shadow(0 0 16px #0ff)"}}):e.jsx(e.Fragment,{children:e.jsx("img",{src:"models/logo.png",alt:"Logo",className:"h-8 w-auto",style:{filter:"drop-shadow(0 0 8px #a259ff) drop-shadow(0 0 16px #0ff)"}})})}),e.jsxs("div",{className:"mt-6 animate-fadeIn",children:[e.jsx("p",{className:"font-black text-sm tracking-wide uppercase m-0 mb-3 text-gray-200 text-left animate-fadeIn",children:(()=>{switch(L){case"chasis":return"CHOOSE THE CHASSIS COLOR";case"buttons":return"CUSTOMIZE THE BUTTONS";case"knobs":return"CUSTOMIZE THE KNOBS";default:return"CHOOSE A COLOR"}})()}),e.jsx("div",{className:"grid grid-cols-2 gap-x-0 gap-y-0 p-0 justify-items-end ml-auto animate-scaleIn",children:Object.entries((()=>{switch(L){case"chasis":return oe.chasis;case"buttons":return oe.buttons;case"knobs":return oe.knobs;default:return{}}})()).map(([t,a],o)=>e.jsx("div",{className:"w-10 h-10 rounded-full cursor-pointer border border-[#a259ff] shadow-[0_0_6px_1px_#a259ff55] transition-all duration-200 hover:scale-110 animate-fadeInUp",style:{backgroundColor:a.hex,animationDelay:50*o+"ms"},title:t,onClick:()=>be(t,a)},t))})]})]})]}),"normal"===L&&e.jsx("button",{onClick:ye,className:"fixed bottom-10 left-1/2 transform -translate-x-1/2 z-50 px-6 py-3 text-lg font-bold uppercase tracking-wide text-black bg-purple-400 border-none rounded cursor-pointer transition-all duration-200 shadow-lg hover:bg-yellow-200 hover:scale-105 hover:shadow-xl shadow-[0_0_8px_2px_#a259ff80,0_0_16px_4px_#0ff5]",children:"ADD TO CART"}),q&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:e.jsxs("div",{className:"relative bg-[#3a4060] rounded-2xl shadow-2xl border-2 border-[#a259ff] p-4 md:py-4 md:px-8 w-full max-w-4xl mx-4 animate-fade-in",children:[e.jsx("button",{onClick:()=>G(!1),className:"absolute top-3 right-3 text-gray-400 hover:text-pink-400 text-2xl font-bold",children:"×"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-purple-400 mb-4 text-center tracking-widest",children:"PAGO SEGURO - KNOBO"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center mb-4",children:[e.jsx("div",{className:"w-full max-w-[320px] md:max-w-[380px] aspect-[4/3] flex items-center justify-center ml-16 md:ml-24",children:K&&e.jsx("img",{src:K,alt:"Custom controller",className:"w-full h-full object-contain",style:{background:"none",boxShadow:"none",border:"none"}})}),e.jsxs("div",{className:"flex-1 mt-8 md:mt-0",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2 text-cyan-400",children:"Tu configuración:"}),e.jsxs("ul",{className:"text-base space-y-1",children:[e.jsxs("li",{children:[e.jsx("b",{children:"Chassis:"})," ",U.chasis]}),e.jsxs("li",{children:[e.jsx("b",{children:"Buttons:"})," ",Object.values(U.buttons).join(", ")||"Default"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Knobs:"})," ",Object.values(U.knobs).join(", ")||"Default"]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-cyan-400",children:"Select your currency:"}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx("button",{onClick:()=>we("USD"),className:"px-6 py-3 rounded-lg font-bold text-lg transition-all "+("USD"===ve?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-[0_0_12px_2px_#3b82f6]":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:"USD $100.00"}),e.jsx("button",{onClick:()=>we("COP"),className:"px-6 py-3 rounded-lg font-bold text-lg transition-all "+("COP"===ve?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-[0_0_12px_2px_#3b82f6]":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:"COP $400,000"})]}),e.jsxs("p",{className:"text-center text-sm text-gray-400 mt-2",children:["Selected price: ",ve," ",Ur(ve).symbol,Ur(ve).amount]})]}),e.jsxs("div",{className:"flex flex-col gap-4 mt-4",children:[e.jsx("div",{className:"w-full py-3 rounded-lg bg-gray-600 text-gray-400 font-bold text-lg text-center",children:"PayPal temporarily unavailable"}),e.jsxs("button",{onClick:()=>{const e="payu_checkout";if(!window.open("",e))return void alert("Please allow popups to continue with payment");const t=Ur(ve),a=`${Ar.API_KEY}~${Ar.MERCHANT_ID}~${Ce.referenceCode}~${t.amount}~${ve}`,o=M(a).toString(),n=document.createElement("form");n.method="POST",n.action=t.url,n.target=e;const i={merchantId:Ar.MERCHANT_ID,accountId:t.accountId,description:`Knobo Configurator - ${ve} ${t.symbol}${t.amount}`,referenceCode:Ce.referenceCode,amount:t.amount,currency:ve,buyerEmail:Ce.buyerEmail,signature:o,test:"1",confirmationUrl:Ar.CONFIRMATION_URL,responseUrl:Ar.RESPONSE_URL,lng:t.language,extra1:"Knobo",extra2:U.chasis||"Custom",extra3:`Applied colors - Buttons: ${Object.keys(U.buttons||{}).length}, Knobs: ${Object.keys(U.knobs||{}).length}`,extra4:`Knobo Configurator - ${ve} ${t.symbol}${t.amount}`,payerCountry:"CO",payerCity:"Bogota",payerPhone:"+57-300-1234567",country:"CO",ipAddress:"8.8.4.4"};Object.entries(i).forEach(([e,t])=>{const a=document.createElement("input");a.type="hidden",a.name=e,a.value=t,n.appendChild(a)}),document.body.appendChild(n),n.submit(),document.body.removeChild(n)},className:"w-full py-3 rounded-lg bg-gradient-to-r from-green-400 to-cyan-400 text-white font-bold text-lg shadow-[0_0_12px_2px_#0ff580] hover:scale-105 transition-all mt-2",children:["Pay with PayU (",ve," ",Ur(ve).symbol,Ur(ve).amount,")"]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-6 text-center",children:"Your purchase is 100% safe and protected."})]})}),J&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:e.jsxs("div",{className:"relative bg-[#232846] rounded-2xl shadow-2xl border-2 border-[#a259ff] p-6 w-full max-w-2xl mx-4 animate-fade-in flex flex-col items-center",children:[e.jsx("button",{onClick:()=>X(!1),className:"absolute top-3 right-3 text-gray-400 hover:text-pink-400 text-2xl font-bold",children:"×"}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-purple-400 mb-4 text-center tracking-widest",children:"Cart"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center w-full",children:[e.jsx("div",{className:"w-full max-w-[220px] aspect-[4/3] flex items-center justify-center",children:K&&e.jsx("img",{src:K,alt:"Custom controller",className:"w-full h-full object-contain",style:{background:"none",boxShadow:"none",border:"none"}})}),e.jsxs("div",{className:"flex-1 mt-4 md:mt-0 w-full",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-cyan-400",children:"Your Product:"}),e.jsxs("ul",{className:"text-base space-y-1 mb-2",children:[e.jsxs("li",{children:[e.jsx("b",{children:"Chassis:"})," ",U.chasis]}),e.jsxs("li",{children:[e.jsx("b",{children:"Buttons:"})," ",Object.values(U.buttons).join(", ")||"Default"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Knobs:"})," ",Object.values(U.knobs).join(", ")||"Default"]})]}),e.jsxs("div",{className:"text-xl font-bold text-green-300 mb-2",children:["$",Ce.amount," USD"]})]})]}),e.jsxs("div",{className:"flex flex-col gap-4 mt-6 w-full",children:[e.jsx(P,{style:{layout:"horizontal",color:"blue",shape:"rect",label:"paypal",height:48},createOrder:(e,t)=>t.order?t.order.create({intent:"CAPTURE",purchase_units:[{amount:{value:Ce.amount||"185.00",currency_code:"USD"},description:"Custom MIDI controller"}]}):Promise.reject("PayPal actions.order no disponible"),onApprove:async(e,t)=>{var a;if(t&&t.order){const n=await t.order.capture(),i=(null==(a=null==n?void 0:n.payer)?void 0:a.email_address)||"";try{await fetch("http://localhost:4000/api/paypal-config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({colors:U,screenshot:K,paypalOrderId:e.orderID,buyerEmail:i})})}catch(o){alert("Error guardando configuración personalizada en backend: "+o)}alert("¡Pago realizado con PayPal!"),G(!1),X(!0)}},onError:e=>{alert("Error en el pago con PayPal: "+e)}}),e.jsxs("form",{action:"https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/",method:"post",target:"_blank",className:"w-full flex flex-col items-center",children:[e.jsx("input",{type:"hidden",name:"merchantId",value:"508029"}),e.jsx("input",{type:"hidden",name:"accountId",value:"512321"}),e.jsx("input",{type:"hidden",name:"description",value:"Custom MIDI controller"}),e.jsx("input",{type:"hidden",name:"referenceCode",value:Ce.referenceCode}),e.jsx("input",{type:"hidden",name:"amount",value:Ce.amount}),e.jsx("input",{type:"hidden",name:"currency",value:Ce.currency}),e.jsx("input",{type:"hidden",name:"signature",value:Ce.signature}),e.jsx("input",{type:"hidden",name:"test",value:"1"}),e.jsx("button",{type:"submit",className:"w-full py-3 rounded-lg bg-gradient-to-r from-green-400 to-cyan-400 text-white font-bold text-lg shadow-[0_0_12px_2px_#0ff580] hover:scale-105 transition-all mt-2",children:"Pagar con PayU"})]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-6 text-center",children:"Tu compra es 100% segura y protegida."})]})})]})]})},ol=Object.freeze(Object.defineProperty({__proto__:null,default:al},Symbol.toStringTag,{value:"Module"})),nl=({className:t="",style:a={}})=>{const[o,n]=E.useState(!1),[i]=E.useState(Date.now());return E.useEffect(()=>{const e=setTimeout(()=>{n(!0)},3e3);return()=>clearTimeout(e)},[]),e.jsxs("div",{className:t,style:a,children:[e.jsx(tl,{isVisible:!o}),e.jsx("div",{style:{width:"100%",height:"100%",opacity:o?1:0},children:e.jsx(al,{})})]})},il=Object.freeze(Object.defineProperty({__proto__:null,default:nl},Symbol.toStringTag,{value:"Module"})),sl=({isVisible:t})=>{const[a,o]=E.useState(0),[n]=E.useState(Date.now());return E.useEffect(()=>{if(t){const e=setInterval(()=>{const e=Date.now()-n,t=Math.min(e/3e3*100,100);o(t)},50);return()=>clearInterval(e)}o(0)},[t,n]),e.jsx(_,{children:t&&e.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundImage:"url(/textures/carga.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:9999,color:"white",fontFamily:"Arial, sans-serif"},children:[e.jsx(F.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},style:{fontSize:"32px",fontWeight:"bold",marginBottom:"20px",color:"#E67E22",textShadow:"0 0 20px #E67E22, 0 0 40px #D35400"},children:"MIXO"}),e.jsx(F.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8,ease:"easeOut"},style:{fontSize:"18px",fontWeight:"bold",marginBottom:"40px",color:"#ffffff",textShadow:"0 0 10px #ffffff"},children:"Características: Cuerpo metálico, 4 botones ARCADE LED, 4 knobs asignables y 4 faders"}),e.jsx(F.div,{animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"},style:{width:"100px",height:"100px",border:"6px solid rgba(230, 126, 34, 0.1)",borderTop:"6px solid #E67E22",borderRadius:"50%",marginBottom:"40px",boxShadow:"0 0 30px rgba(230, 126, 34, 0.4)"}}),e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},style:{fontSize:"20px",fontWeight:"bold",textAlign:"center",marginBottom:"20px",color:"#E67E22"},children:["Cargando MIXO... ",Math.round(a),"%"]}),a>=100&&e.jsx(F.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.8},style:{fontSize:"18px",color:"#F39C12",fontWeight:"bold",marginBottom:"30px",textShadow:"0 0 10px #F39C12"},children:"¡MIXO listo para configurar!"}),e.jsx(F.div,{style:{width:"400px",height:"8px",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"4px",overflow:"hidden",boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.3)",marginBottom:"40px"},children:e.jsx(F.div,{initial:{width:0},animate:{width:`${a}%`},transition:{duration:.1,ease:"linear"},style:{width:"100%",height:"100%",background:"linear-gradient(90deg, #E67E22, #D35400, #E67E22)",borderRadius:"4px",boxShadow:"0 0 15px rgba(230, 126, 34, 0.6)",backgroundSize:"200% 100%",animation:"shimmer 2s infinite"}})}),e.jsx(F.div,{style:{display:"flex",gap:"12px",marginTop:"20px"},children:[0,1,2].map(t=>e.jsx(F.div,{animate:{scale:[1,1.3,1],opacity:[.4,1,.4]},transition:{duration:2,repeat:1/0,delay:.3*t,ease:"easeInOut"},style:{width:"12px",height:"12px",backgroundColor:"#E67E22",borderRadius:"50%",boxShadow:"0 0 10px rgba(230, 126, 34, 0.6)"}},t))}),e.jsx("style",{children:"\n            @keyframes shimmer {\n              0% { background-position: -200% 0; }\n              100% { background-position: 200% 0; }\n            }\n          "})]})})},rl=({onProductChange:t})=>{const[x,w]=E.useState(""),[C,k]=E.useState(""),j=E.useRef(null),S=E.useRef(null),_=E.useRef(null),F=E.useRef(null),N=E.useRef(null),P=E.useRef(null),T=E.useRef(null),[D,L]=E.useState("normal"),[A,B]=E.useState(null),[$,U]=E.useState(()=>{const e=localStorage.getItem("mixo_chosenColors");if(e)try{return JSON.parse(e)}catch(Cl){}return{type:"configUpdate",chasis:"Gris",buttons:{},knobs:{},faders:{}}}),[H,V]=E.useState({chasis:[],buttons:[],knobs:[],faders:[]}),[W,q]=E.useState(!1),[G,K]=E.useState(null),Y=E.useRef(D),[J,X]=E.useState([]),[Z,Q]=E.useState([]),[ee,te]=E.useState([]),[ae,oe]=E.useState(!1),[ne,ie]=E.useState(!1),[se,re]=E.useState(!1),[le,ce]=E.useState({x:0,y:0}),de={chasis:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},buttons:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},knobs:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},faders:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}}},ue={normal:{pos:new h(2,1,-.1),target:new h(0,-.5,-.1)},top:{pos:new h(1,1.95,-.4),target:new h(-.35,-1.4,-.4)}},he=E.useCallback(()=>{var e,t,a;const o=null==(e=F.current)?void 0:e.position.clone(),n=null==(t=N.current)?void 0:t.target.clone(),i=null==(a=F.current)?void 0:a.fov,s=ue.normal.pos.clone(),r=ue.normal.target.clone();F.current.position.copy(s),F.current.fov=35,F.current.updateProjectionMatrix(),N.current&&(N.current.target.copy(r),N.current.update()),setTimeout(()=>{_.current.render(S.current,F.current);const e=_.current.domElement.toDataURL("image/png");K(e),F.current.position.copy(o),F.current.fov=i,F.current.updateProjectionMatrix(),N.current&&n&&(N.current.target.copy(n),N.current.update()),q(!0)},50)},[_,S,F,N,ue,K,q]),pe=E.useRef(null),me=E.useRef(null);E.useEffect(()=>{localStorage.setItem("mixo_currentView",D)},[D]),E.useEffect(()=>{localStorage.setItem("mixo_chosenColors",JSON.stringify($))},[$]),E.useEffect(()=>{q(!1)},[]),E.useEffect(()=>{},[W]);const[fe,xe]=E.useState(null);E.useEffect(()=>{(new o).load("public/textures/blackhole.jpg.avif",e=>{e.mapping=n,xe(e)})},[]);const ge=E.useCallback((e,t)=>{const a=new i(16777215,.9);e.add(a);const o=new s(16777215,1.2);o.position.set(5,4,-1),o.castShadow=!0,e.add(o);const n=new s(10079487,1);n.position.set(-8,3,-9),e.add(n);const l=new s(10079487,1);l.position.set(-8,3,15),e.add(l);const c=new r(16777215,.7,.5);c.position.set(0,5,5),e.add(c);const d=new s(16777215,1.2);d.position.set(-5,30,0),d.castShadow=!0,e.add(d)},[]),be=E.useCallback(e=>{const t=(new u).setFromObject(e),a=t.getSize(new h),o=t.getCenter(new h),n=1.8/Math.max(a.x,a.y,a.z);e.scale.set(n,n,n),e.position.copy(o).multiplyScalar(-n),e.position.y-=a.y/2*n},[]),ye=E.useCallback(e=>{const t={chasis:[],buttons:[],knobs:[],faders:[]},a={type:"configUpdate",chasis:"Gris",buttons:{},knobs:{},faders:{}};e.traverse(e=>{var o;if(!(e instanceof l))return;e.castShadow=!0,e.receiveShadow=!0;const n="string"==typeof e.name?e.name.toLowerCase():"";if((n.includes("logo")||n.includes("mixo")||n.includes("knobo02")||n.includes("knobo-02")||n.includes("crearttech")||n.includes("custom midi"))&&e.material&&"map"in e.material&&e.material.map&&(e.material.transparent=!0,e.material.alphaTest=.9),n.includes("cubechasis"))e.material=new c({color:de.chasis.Gris.hex,metalness:.8,roughness:.35,clearcoat:.85,clearcoatRoughness:.1}),t.chasis.push(e),a.chasis="Gris";else if(n.includes("boton")){const o="Amarillo";e.material=new c({color:de.buttons[o].hex,metalness:0,roughness:0,clearcoat:1,clearcoatRoughness:0,reflectivity:1,transmission:0,thickness:.3,ior:1.5,attenuationDistance:.5,attenuationColor:16776960,transparent:!1,opacity:1,emissive:16776960,emissiveIntensity:3}),t.buttons.push(e),a.buttons[e.name]=o}else if(n.includes("aro"))e.material=new c({color:0,metalness:0,roughness:.2,clearcoat:.8,clearcoatRoughness:.1,reflectivity:.5,transmission:.3,thickness:.5,ior:1.4,attenuationDistance:1,attenuationColor:16777215,transparent:!0,opacity:.7}),t.buttons.push(e),a.buttons[e.name]="Negro";else if(n.startsWith("knob1_")||n.startsWith("knob2_")||n.startsWith("knob3_")||n.startsWith("knob4_")){if(null==(o=e.material)?void 0:o.color){const o=e.material;if((o.color.r+o.color.g+o.color.b)/3<.5){const o="Negro";e.material=new d({color:de.knobs[o].hex,metalness:0,roughness:1}),t.knobs.push(e),a.knobs[e.name]=o}else e.material=new d({color:16777215})}}else if(n.includes("fader"))if("fader1_1"===n||"fader2_1"===n||"fader3_1"===n||"fader4_1"===n){const o="Negro";e.material=new d({color:de.knobs[o].hex,metalness:0,roughness:1}),t.faders.push(e),a.faders[e.name]=o}else if(e.material){const o=e.material;if(o.color){if((o.color.r+o.color.g+o.color.b)/3<.8){const n="Negro";o.color.setHex(parseInt(de.knobs[n].hex.replace("#",""),16)),t.faders.push(e),a.faders[e.name]=n}}}}),V(t),U(a)},[fe]),ve=E.useCallback(e=>{if(e.material instanceof c){const t=e.material,a=$.buttons[e.name];if(a&&de.buttons[a]){const e=de.buttons[a].hex;t.emissive.setHex(parseInt(e.replace("#",""),16)),t.emissiveIntensity=3}}},[$,de]),we=E.useCallback(async()=>{try{const{GLTFLoader:e}=await a(async()=>{const{GLTFLoader:e}=await import("./GLTFLoader-L0pBLRUW.js");return{GLTFLoader:e}},__vite__mapDeps([7,1,2]));(new e).load("./models/mixo.glb",e=>{var t;const a=e.scene;P.current=a,ye(a),be(a),null==(t=S.current)||t.add(a),T.current||(T.current=a.position.clone());a.traverse(e=>{e.isMesh&&"string"==typeof e.name&&e.name.toLowerCase().includes("aro")&&e.material&&"color"in e.material&&e.material.color.setHex(1842204),e.isMesh&&"string"==typeof e.name&&e.name.toLowerCase().includes("aro")&&(e.material=e.material.clone())})},void 0,e=>{})}catch(e){}},[ye,be]),Ce=E.useCallback((e,t=0)=>{var a;if(e&&(null==(a=e.material)?void 0:a.emissive)){const a=e.material;if(e.name.toLowerCase().includes("boton")&&0===t)return void ve(e);a.emissive.setHex(t),e.name.toLowerCase().includes("boton")?a.emissiveIntensity=3:e.name.toLowerCase().includes("aro")&&(a.emissiveIntensity=.3,a.opacity=.8)}},[ve]),ke=E.useCallback(e=>{var t;if(!S.current||!F.current)return;if("chasis"===D)return B(null),X([]),Q([]),void te([]);const a=null==(t=j.current)?void 0:t.getBoundingClientRect();if(!a)return;const o=new y;o.x=(e.clientX-a.left)/a.width*2-1,o.y=-(e.clientY-a.top)/a.height*2+1;const n=new b;n.setFromCamera(o,F.current);let i=[];if("buttons"===D?i=H.buttons:"knobs"===D?i=H.knobs:"faders"===D?i=H.faders:"normal"===D&&(i=H.buttons),0===i.length)return;const s=n.intersectObjects(i,!1);if("buttons"===D&&H.buttons.forEach(e=>Ce(e,0)),A&&"normal"!==D&&Ce(A,0),s.length>0){const t=s[0].object,a=t.name.toLowerCase();if("normal"===D)return;a.includes("boton")||a.includes("aro")?(Q([]),te([]),e.shiftKey?0===J.length&&A&&A!==t?(X([A,t]),B(null),Ce(A,4473924),Ce(t,4473924)):(B(null),X(e=>{if(0===e.length)return Ce(t,4473924),[t];let a;return e.includes(t)?(a=e.filter(e=>e!==t),Ce(t,0)):(a=[...e,t],Ce(t,4473924)),a.forEach(e=>Ce(e,4473924)),a})):(X([t]),B(t),Ce(t,4473924))):a.startsWith("knob1_")||a.startsWith("knob2_")||a.startsWith("knob3_")||a.startsWith("knob4_")?(X([]),te([]),e.shiftKey?0===Z.length&&A&&A!==t?(Q([A,t]),B(null),Ce(A,4473924),Ce(t,4473924)):(B(null),Q(e=>{if(0===e.length)return Ce(t,4473924),[t];let a;return e.includes(t)?(a=e.filter(e=>e!==t),Ce(t,0)):(a=[...e,t],Ce(t,4473924)),a.forEach(e=>Ce(e,4473924)),a})):(Q([t]),B(t),Ce(t,4473924))):a.startsWith("fader1")||a.startsWith("fader2")||a.startsWith("fader3")||a.startsWith("fader4")?(X([]),Q([]),e.shiftKey?0===ee.length&&A&&A!==t?(te([A,t]),B(null),Ce(A,4473924),Ce(t,4473924)):(B(null),te(e=>{if(0===e.length)return Ce(t,4473924),[t];let a;return e.includes(t)?(a=e.filter(e=>e!==t),Ce(t,0)):(a=[...e,t],Ce(t,4473924)),a.forEach(e=>Ce(e,4473924)),a})):(te([t]),B(t),Ce(t,4473924))):a.includes("cubechasis")&&(X([]),Q([]),te([]),B(t))}},[D,H,A,Ce,J,Z,ee]),je=E.useCallback((e,t)=>{if("chasis"===D)return H.chasis.forEach(e=>{e.material.color.set(t.hex)}),void U(t=>({...t,chasis:e}));if("buttons"===D&&J.length>0){const a={...$,buttons:{...$.buttons}};return J.forEach(o=>{const n=o.material;n.color.set(t.hex),n.emissive.setHex(parseInt(t.hex.replace("#",""),16)),a.buttons[o.name]=e;const i=o.name.replace("boton","aro"),s=H.buttons.find(e=>e.name===i);if(s&&s.material instanceof c){const o=s.material;o.color.setHex(parseInt(t.hex.replace("#",""),16)),o.attenuationColor.setHex(parseInt(t.hex.replace("#",""),16)),a.buttons[i]=e}}),U(a),void X([])}if("knobs"===D&&Z.length>0){const a={...$,knobs:{...$.knobs}};return Z.forEach(o=>{o.material.color.set(t.hex),a.knobs[o.name]=e}),U(a),void Q([])}if("faders"===D&&ee.length>0){const a={...$,faders:{...$.faders}};return ee.forEach(o=>{o.material=new d({color:t.hex,metalness:0,roughness:1}),a.faders[o.name]=e}),U(a),void te([])}if(!A)return void z.fire({title:"Selecciona una parte",text:"Haz clic en una pieza del controlador para aplicar el color.",imageUrl:"models/logo.png",imageWidth:120,imageHeight:120,background:"#232846",color:"#fff",confirmButtonColor:"#a259ff",confirmButtonText:"Entendido"});const a=A.name.toLowerCase(),o=new v(t.hex);if(a.includes("cubechasis"))U(t=>({...t,chasis:e})),A.material instanceof d&&(A.material.color=o);else if(a.includes("boton")){if(U(t=>({...t,buttons:{...t.buttons,[A.name]:e}})),A.material instanceof c){const a=A.material;a.color=o,a.emissive.setHex(parseInt(t.hex.replace("#",""),16));const n=A.name.replace("boton","aro"),i=H.buttons.find(e=>e.name===n);if(i&&i.material instanceof c){const a=i.material;a.color.setHex(parseInt(t.hex.replace("#",""),16)),a.attenuationColor.setHex(parseInt(t.hex.replace("#",""),16)),U(t=>({...t,buttons:{...t.buttons,[n]:e}}))}}}else a.startsWith("knob1_")||a.startsWith("knob2_")||a.startsWith("knob3_")||a.startsWith("knob4_")?(U(t=>({...t,knobs:{...t.knobs,[A.name]:e}})),A.material&&"color"in A.material&&(A.material.color=o,A.material.metalness=0,A.material.roughness=1)):(a.startsWith("fader1")||a.startsWith("fader2")||a.startsWith("fader3")||a.startsWith("fader4"))&&(U(t=>({...t,faders:{...t.faders,[A.name]:e}})),A.material=new d({color:t.hex,metalness:0,roughness:1}))},[A,J,Z,ee,$,H,D,Ce]),Ee=E.useCallback(e=>{if(L(e),A&&Ce(A,0),J.forEach(e=>Ce(e,0)),Z.forEach(e=>Ce(e,0)),ee.forEach(e=>Ce(e,0)),"chasis"===e&&H.chasis.length>0?B(H.chasis[0]):B(null),!F.current||!N.current)return;let t,a;"normal"===e?(t=ue.normal,a=!0):(t=ue.top,a=!1),N.current.enabled=a,O.to(F.current.position,{duration:1.2,ease:"power3.inOut",...t.pos}),O.to(N.current.target,{duration:1.2,ease:"power3.inOut",...t.target,onUpdate:()=>N.current.update()})},[H,A,Ce,J,Z,ee]);E.useEffect(()=>{Y.current=D},[D]),E.useEffect(()=>{setTimeout(()=>{F.current&&N.current&&(pe.current=F.current.position.clone(),me.current=N.current.target.clone())},100)},[]);E.useEffect(()=>{if(!j.current)return;const e=new p;e.background=null,S.current=e;const t=new m({antialias:!0,alpha:!0,preserveDrawingBuffer:!0});t.setSize(j.current.clientWidth,j.current.clientHeight),t.setPixelRatio(Math.min(window.devicePixelRatio,2)),t.outputColorSpace=f,t.shadowMap.enabled=!0,_.current=t,j.current.appendChild(t.domElement);const o=new g(45,j.current.clientWidth/j.current.clientHeight,.1,200);let n;o.position.copy(ue.normal.pos),F.current=o,a(async()=>{const{OrbitControls:e}=await import("./OrbitControls-DFclDx1A.js");return{OrbitControls:e}},__vite__mapDeps([8,1,2])).then(({OrbitControls:e})=>{const a=new e(o,t.domElement);a.target.copy(ue.normal.target),a.enableDamping=!0,N.current=a}),ge(e,t),we();const i=()=>{n=requestAnimationFrame(i),N.current&&N.current.update(),t.render(e,o)};return i(),()=>{cancelAnimationFrame(n),j.current&&t.domElement&&j.current.removeChild(t.domElement),t.dispose()}},[ge,we]),E.useEffect(()=>{if(P.current&&H.chasis.length>0){const e=de.chasis[$.chasis];e&&H.chasis.forEach(t=>{t.material instanceof d&&(t.material.color=new v(e.hex))}),Object.entries($.buttons).forEach(([e,t])=>{const a=H.buttons.find(t=>t.name===e);if(a&&de.buttons[t]&&a.material instanceof c){const e=a.material;e.color=new v(de.buttons[t].hex),a.name.toLowerCase().includes("boton")?(e.emissive.setHex(parseInt(de.buttons[t].hex.replace("#",""),16)),e.attenuationColor.setHex(parseInt(de.buttons[t].hex.replace("#",""),16))):a.name.toLowerCase().includes("aro")&&e.attenuationColor.setHex(parseInt(de.buttons[t].hex.replace("#",""),16))}}),Object.entries($.faders).forEach(([e,t])=>{const a=H.faders.find(t=>t.name===e);a&&de.faders[t]&&a.material instanceof d&&(a.material.color=new v(de.faders[t].hex))})}},[$,de,H]);const[Se,_e]=E.useState("USD"),[Fe,Oe]=E.useState({referenceCode:`mixo_${Date.now()}`,amount:"200.00",currency:"USD",signature:"",description:"Mixo Configurator",buyerEmail:"customer@email.com"});E.useEffect(()=>{const e=Hr(Se);Oe(t=>({...t,amount:e.amount,currency:Se,description:`Mixo Configurator - ${Se} ${e.symbol}${e.amount}`}))},[Se]),E.useEffect(()=>{if(W){const e=`mixo-${Date.now()}`;Oe(t=>({...t,referenceCode:e}))}},[W]);const[ze,Re]=E.useState([]);return e.jsxs(I,{options:{clientId:"test",currency:"USD"},children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:-1,backgroundImage:"url(/textures/fondo.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"}}),e.jsxs("div",{className:"w-full h-screen text-gray-200 overflow-hidden relative",style:{background:"transparent"},children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:0,pointerEvents:"none",background:"transparent"}}),e.jsx(R,{id:"tsparticles",init:async e=>{await Lr(e)},options:{fullScreen:{enable:!1},background:{color:{value:"transparent"}},fpsLimit:60,particles:{color:{value:"#a259ff"},links:{enable:!0,color:"#a259ff",distance:120},move:{enable:!0,speed:1},number:{value:50},opacity:{value:.5},shape:{type:"circle"},size:{value:3}},interactivity:{events:{onhover:{enable:!0,mode:"repulse"}},modes:{repulse:{distance:100,duration:.4}}}},style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:0,pointerEvents:"none"}}),e.jsx("div",{style:{position:"fixed",top:16,left:6,zIndex:51,display:"flex",alignItems:"center",gap:"12px"},children:e.jsx("button",{onClick:()=>window.location.href="https://www.crearttech.com/",className:"relative px-5 py-2 rounded-full font-bold text-sm uppercase tracking-wider text-white transition-all duration-300 hover:-translate-y-0.5",style:{background:"linear-gradient(90deg, rgba(0,255,255,0.18) 0%, rgba(122,0,255,0.18) 50%, rgba(255,0,255,0.18) 100%)",border:"1px solid rgba(0, 255, 255, 0.55)"},children:e.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:[e.jsx("path",{d:"M3 10.5L12 3l9 7.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M5 9.5V21h14V9.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("span",{children:"Home"})]})})}),e.jsx("div",{className:"absolute top-6 left-1/2 transform -translate-x-1/2 z-10 flex items-center gap-3",children:e.jsx("h1",{className:"text-2xl font-bold leading-none m-0",style:{fontFamily:"Gotham Black, Arial, sans-serif",color:"#fff",letterSpacing:"0.04em"},children:"MIXO"})}),e.jsx("main",{className:"flex w-full h-full",style:{minHeight:"100vh",height:"100vh",position:"relative",zIndex:1,overflow:"hidden",background:"transparent"},children:e.jsxs("div",{className:"flex-grow h-full",style:{position:"relative",zIndex:1,background:"transparent"},children:[e.jsx("div",{ref:j,className:"w-full h-full transition-all duration-300",onClick:ke,style:{position:"relative",zIndex:1}}),"normal"===D&&e.jsx("button",{onClick:he,className:"fixed bottom-10 left-1/2 transform -translate-x-1/2 z-50 px-6 py-3 text-lg font-bold uppercase tracking-wide text-black bg-purple-400 border-none rounded cursor-pointer transition-all duration-200 shadow-lg hover:bg-yellow-200 hover:scale-105 hover:shadow-xl",children:"ADD TO CART"})]})}),e.jsxs("div",{className:"fixed top-0 right-0 h-screen border-l border-gray-700 shadow-2xl transition-all duration-400 flex overflow-hidden z-10 "+("normal"===D?"w-28":"w-[320px]"),style:{backgroundColor:"rgba(255, 255, 0, 0.8)",background:"transparent",boxShadow:"0 0 16px 2px rgba(0, 255, 255, 0.4), -6px 0 16px 0 rgba(0, 255, 255, 0.3), inset 0 0 10px rgba(0,0,0,0.8)",borderLeft:"2px solid rgba(0, 255, 255, 0.8)",backdropFilter:"blur(10px)",zIndex:10},children:[e.jsx("div",{className:"w-28 p-4 flex-shrink-0",style:{paddingTop:"100px"},children:e.jsxs("div",{className:"flex flex-col gap-1.5",children:[[{id:"normal",icon:"M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5M12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17M12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z",title:"Vista General"},{id:"chasis",icon:"mixo.png",title:"Chasis",isImage:!0},{id:"buttons",icon:"M12 1.999c5.524 0 10.002 4.478 10.002 10.002c0 5.523-4.478 10.001-10.002 10.001S1.998 17.524 1.998 12.001C1.998 6.477 6.476 1.999 12 1.999m0 1.5a8.502 8.502 0 1 0 0 17.003A8.502 8.502 0 0 0 12 3.5M11.996 6a5.998 5.998 0 1 1 0 11.996a5.998 5.998 0 0 1 0-11.996",title:"Botones"},{id:"knobs",icon:"M9.42 4.074a.56.56 0 0 0-.56.56v.93c0 .308.252.56.56.56s.56-.252.56-.56v-.93a.56.56 0 0 0-.56-.56M11.554 8.8a.5.5 0 0 1 0 .707l-1.78 1.78a.5.5 0 1 1-.708-.707l1.78-1.78a.5.5 0 0 1 .708 0 M9.42 15.444c-1.16 0-2.32-.44-3.2-1.32a4.527 4.527 0 0 1 0-6.39a4.527 4.527 0 0 1 6.39 0a4.527 4.527 0 0 1 0 6.39c-.88.88-2.03 1.32-3.19 1.32m0-1.1a3.41 3.41 0 1 0 0-6.82a3.41 3.41 0 0 0 0 6.82M6.757 5.2a.56.56 0 1 0-.965.567l.465.809l.005.006a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.075a.566.566 0 0 0 .205-.753zm5.315.012a.55.55 0 0 1 .761-.206c.277.152.36.5.203.764l-.458.797a.56.56 0 0 1-.478.277a.564.564 0 0 1-.487-.834zm7.598 5.722a.5.5 0 0 1 .5-.5h2.52a.5.5 0 1 1 0 1h-2.52a.5.5 0 0 1-.5-.5 M22.69 15.454c2.49 0 4.52-2.03 4.52-4.52s-2.03-4.52-4.52-4.52s-4.52 2.03-4.52 4.52s2.03 4.52 4.52 4.52m0-1.11a3.41 3.41 0 1 1 0-6.82a3.41 3.41 0 0 1 0 6.82m-.56-9.7c0-.308.252-.56.56-.56s.56.252.56.56v.945a.566.566 0 0 1-.56.535a.56.56 0 0 1-.56-.56zm-2.103.566a.557.557 0 0 0-.763-.202a.566.566 0 0 0-.204.753l.468.815l.004.006a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.075a.566.566 0 0 0 .205-.753zm6.086-.204a.55.55 0 0 0-.761.206l-.458.795a.55.55 0 0 0 .194.759a.5.5 0 0 0 .282.077a.6.6 0 0 0 .478-.261l.005-.007l.463-.805a.55.55 0 0 0-.203-.764 M11.93 22.636H9.42a.5.5 0 0 0 0 1h2.51a.5.5 0 1 0 0-1 M4.9 23.136c0 2.49 2.03 4.52 4.52 4.52s4.52-2.03 4.52-4.52s-2.03-4.52-4.52-4.52s-4.52 2.03-4.52 4.52m7.93 0a3.41 3.41 0 1 1-6.82 0a3.41 3.41 0 0 1 6.82 0m-3.41-6.86a.56.56 0 0 0-.56.56v.93c0 .308.252.56.56.56s.56-.252.56-.56v-.93a.56.56 0 0 0-.56-.56m-3.418.93a.566.566 0 0 1 .755.206l.464.807c.137.258.06.6-.205.753a.53.53 0 0 1-.276.074a.58.58 0 0 1-.478-.261l-.005-.007l-.468-.814a.566.566 0 0 1 .207-.755zm6.08.209a.55.55 0 0 1 .761-.206c.277.151.36.499.203.764l-.462.802a.567.567 0 0 1-.766.194a.55.55 0 0 1-.194-.76zm8.475 3.588a.5.5 0 0 1 .707 0l1.78 1.78a.5.5 0 0 1-.707.707l-1.78-1.78a.5.5 0 0 1 0-.707 M22.69 27.656c-1.16 0-2.32-.44-3.2-1.32a4.527 4.527 0 0 1 0-6.39a4.527 4.527 0 0 1 6.39 0a4.527 4.527 0 0 1 0 6.39c-.88.88-2.04 1.32-3.19 1.32m0-1.11a3.41 3.41 0 1 0 0-6.82a3.41 3.41 0 0 0 0 6.82 M22.13 16.836c0-.308.252-.56.56-.56s.56.252.56.56v.945a.57.57 0 0 1-.56.545a.56.56 0 0 1-.56-.56zm-2.103.576a.566.566 0 0 0-.755-.206l-.006.003a.565.565 0 0 0-.206.755l.468.814l.004.007a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.074a.566.566 0 0 0 .205-.753z",title:"Knobs"},{id:"faders",icon:"M3 6h18v2H3V6zm0 5h18v2H3v-2zm0 5h18v2H3v-2z",title:"Faders"}].map(({id:t,icon:a,title:o,isImage:n})=>e.jsx("button",{onClick:()=>Ee(t),onMouseEnter:e=>{ce({x:e.clientX,y:e.clientY}),"chasis"===t?oe(!0):"knobs"===t?ie(!0):"faders"===t&&re(!0)},onMouseLeave:()=>{"chasis"===t?oe(!1):"knobs"===t?ie(!1):"faders"===t&&re(!1)},onMouseMove:e=>{ce({x:e.clientX,y:e.clientY})},className:"w-full aspect-square border-2 rounded-lg flex items-center justify-center p-2 transition-all duration-300 text-white relative "+(D===t?"bg-gradient-to-br from-[#00FFFF] to-[#0080FF] border-[#00FFFF] shadow-lg":"border-[#00FFFF] bg-gradient-to-br from-[#000000] to-[#1a1a1a] hover:from-[#00FFFF] hover:to-[#0080FF] hover:border-[#00FFFF] hover:shadow-lg"),title:o,children:n?e.jsx("img",{src:`textures/${a}`,alt:o,className:"w-full h-full mx-auto my-auto object-contain",style:{},onError:e=>{}}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"chasis"===t||"knobs"===t?"0 0 32 32":"0 0 24 24",className:"w-4/5 h-4/5 mx-auto my-auto fill-white text-white",fill:"#fff",children:e.jsx("path",{d:a})})},t)),e.jsx("input",{id:"sidebar-upload",type:"file",accept:"image/*,application/pdf",multiple:!0,style:{display:"none"},onChange:e=>{e.target.files&&Re(Array.from(e.target.files))}}),e.jsx("button",{type:"button",onClick:()=>{var e;return null==(e=document.getElementById("sidebar-upload"))?void 0:e.click()},className:"w-full aspect-square border-2 rounded-lg flex items-center justify-center p-2 transition-all duration-300 text-white bg-gradient-to-br from-[#000000] to-[#1a1a1a] border-[#00FFFF] hover:from-[#00FFFF] hover:to-[#0080FF] hover:border-[#00FFFF] hover:shadow-lg",title:"Subir archivos de personalización",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"w-4/5 h-4/5 fill-white",children:e.jsx("path",{d:"M12 2C13.1 2 14 2.9 14 4V6H16C17.1 6 18 6.9 18 8V19C18 20.1 17.1 21 16 21H8C6.9 21 6 20.1 6 19V8C6 6.9 6.9 6 8 6H10V4C10 2.9 10.9 2 12 2M12 4V6H12.5V4H12M8 8V19H16V8H8M10 10H14V12H10V10M10 14H14V16H10V14Z"})})})]})}),e.jsxs("div",{className:"flex-1 p-4 flex flex-col",children:[e.jsx("div",{className:"flex items-center pb-5 border-b border-gray-600 pl-0 "+("normal"===D?"justify-center items-center gap-0":"justify-center gap-2"),style:"normal"===D?{minHeight:"48px"}:{},children:"normal"===D?e.jsx("img",{src:"models/logo.png",alt:"Logo",className:"h-6 w-auto",style:{filter:"drop-shadow(0 0 8px #a259ff) drop-shadow(0 0 16px #0ff)"}}):e.jsx("img",{src:"models/logo.png",alt:"Logo",className:"h-8 w-auto",style:{filter:"drop-shadow(0 0 8px #a259ff) drop-shadow(0 0 16px #0ff)"}})}),e.jsxs("div",{className:"mt-6 animate-fadeIn",children:[e.jsx("p",{className:"font-black text-sm tracking-wide uppercase m-0 mb-8 text-gray-200 text-left animate-fadeIn",children:(()=>{switch(D){case"chasis":return"CHOOSE THE CHASSIS COLOR";case"buttons":return"CUSTOMIZE THE BUTTONS";case"knobs":return"CUSTOMIZE THE KNOBS";case"faders":return"CUSTOMIZE THE FADERS";default:return"CHOOSE A COLOR"}})()}),e.jsx("div",{className:"grid grid-cols-2 gap-1 p-1 rounded overflow-x-auto animate-scaleIn",children:Object.entries((()=>{switch(D){case"chasis":return de.chasis;case"buttons":return de.buttons;case"knobs":return de.knobs;case"faders":return de.faders;default:return{}}})()).map(([t,a],o)=>e.jsx("div",{className:"w-10 h-10 rounded-full cursor-pointer border-2 border-[#a259ff] shadow-[0_0_6px_1px_#a259ff55] transition-all duration-200 shadow-inner hover:scale-110 animate-fadeInUp",style:{backgroundColor:a.hex,animationDelay:50*o+"ms"},title:t,onClick:()=>je(t,a)},t))})]}),(J.length>0||Z.length>0||ee.length>0)&&e.jsxs("div",{className:"mb-6 p-4 bg-gray-800 rounded-lg",children:[e.jsxs("h4",{className:"text-lg font-semibold text-white mb-2",children:["Selección múltiple (",J.length+Z.length+ee.length," elementos)"]}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Haz clic en un color para aplicarlo a todos los elementos seleccionados"})]})]})]}),ae&&e.jsxs("div",{className:"fixed bg-black bg-opacity-90 text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap z-[9999] border border-[#00FFFF] shadow-lg pointer-events-none",style:{left:le.x-10,top:le.y-50,transform:"translateX(-100%)"},children:["Cambia el color de tu chasis",e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-black border-t-opacity-90"})]}),ne&&e.jsxs("div",{className:"fixed bg-black bg-opacity-90 text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap z-[9999] border border-[#00FFFF] shadow-lg pointer-events-none",style:{left:le.x-10,top:le.y-50,transform:"translateX(-100%)"},children:["Cambia el color de tus knobs",e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-black border-t-opacity-90"})]}),se&&e.jsxs("div",{className:"fixed bg-black bg-opacity-90 text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap z-[9999] border border-[#00FFFF] shadow-lg pointer-events-none",style:{left:le.x-10,top:le.y-50,transform:"translateX(-100%)"},children:["Cambia el color de tus faders",e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-black border-t-opacity-90"})]}),W&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:e.jsxs("div",{className:"relative bg-[#3a4060] rounded-2xl shadow-2xl border-2 border-[#a259ff] p-4 md:py-4 md:px-8 w-full max-w-4xl mx-4 animate-fade-in",children:[e.jsx("button",{onClick:()=>q(!1),className:"absolute top-3 right-3 text-gray-400 hover:text-pink-400 text-2xl font-bold",children:"×"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-purple-400 mb-4 text-center tracking-widest",children:"PAGO SEGURO - MIXO"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center mb-4",children:[e.jsx("div",{className:"w-full max-w-[320px] md:max-w-[380px] aspect-[4/3] flex items-center justify-center ml-16 md:ml-24",children:G&&e.jsx("img",{src:G,alt:"Custom controller",className:"w-full h-full object-contain",style:{background:"none",boxShadow:"none",border:"none"}})}),e.jsxs("div",{className:"flex-1 mt-8 md:mt-0",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2 text-cyan-400",children:"Tu configuración:"}),e.jsxs("ul",{className:"text-base space-y-1",children:[e.jsxs("li",{children:[e.jsx("b",{children:"Chasis:"})," ",$.chasis]}),e.jsxs("li",{children:[e.jsx("b",{children:"Buttons:"})," ",Object.values($.buttons).join(", ")||"Default"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Knobs:"})," ",Object.values($.knobs).join(", ")||"Default"]}),e.jsxs("li",{children:[e.jsx("b",{children:"Faders:"})," ",Object.values($.faders).join(", ")||"Default"]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-cyan-400",children:"Select your currency:"}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx("button",{onClick:()=>_e("USD"),className:"px-6 py-3 rounded-lg font-bold text-lg transition-all "+("USD"===Se?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-[0_0_12px_2px_#3b82f6]":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:"USD $200.00"}),e.jsx("button",{onClick:()=>_e("COP"),className:"px-6 py-3 rounded-lg font-bold text-lg transition-all "+("COP"===Se?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-[0_0_12px_2px_#3b82f6]":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:"COP $800,000"})]}),e.jsxs("p",{className:"text-center text-sm text-gray-400 mt-2",children:["Selected price: ",Se," ",Hr(Se).symbol,Hr(Se).amount]})]}),e.jsxs("div",{className:"flex flex-col gap-4 mt-4",children:[e.jsx("div",{className:"w-full py-3 rounded-lg bg-gray-600 text-gray-400 font-bold text-lg text-center",children:"PayPal temporarily unavailable"}),e.jsxs("button",{onClick:()=>{const e="payu_checkout";if(!window.open("",e))return void alert("Please allow popups to continue with payment");const t=Hr(Se),a=`${Ar.API_KEY}~${Ar.MERCHANT_ID}~${Fe.referenceCode}~${t.amount}~${Se}`,o=M(a).toString(),n=document.createElement("form");n.method="POST",n.action=t.url,n.target=e;const i={merchantId:Ar.MERCHANT_ID,accountId:t.accountId,description:`Mixo Configurator - ${Se} ${t.symbol}${t.amount}`,referenceCode:Fe.referenceCode,amount:t.amount,currency:Se,buyerEmail:Fe.buyerEmail,signature:o,test:"1",confirmationUrl:Ar.CONFIRMATION_URL,responseUrl:Ar.RESPONSE_URL,lng:t.language,extra1:"Mixo",extra2:$.chasis||"Custom",extra3:`Applied colors - Faders: ${Object.keys($.faders||{}).length}`,extra4:`Mixo Configurator - ${Se} ${t.symbol}${t.amount}`,payerCountry:"CO",payerCity:"Bogota",payerPhone:"+57-300-1234567",country:"CO",ipAddress:"8.8.4.4"};Object.entries(i).forEach(([e,t])=>{const a=document.createElement("input");a.type="hidden",a.name=e,a.value=t,n.appendChild(a)}),document.body.appendChild(n),n.submit(),document.body.removeChild(n)},className:"w-full py-3 rounded-lg bg-gradient-to-r from-green-400 to-cyan-400 text-white font-bold text-lg shadow-[0_0_12px_2px_#0ff580] hover:scale-105 transition-all mt-2",children:["Pay with PayU (",Se," ",Hr(Se).symbol,Hr(Se).amount,")"]})]})]})})]})]})},ll=Object.freeze(Object.defineProperty({__proto__:null,default:rl},Symbol.toStringTag,{value:"Module"})),cl=({className:t="",style:a={}})=>{const[o,n]=E.useState(!1),[i]=E.useState(Date.now());return E.useEffect(()=>{const e=setTimeout(()=>{n(!0)},3e3);return()=>clearTimeout(e)},[]),e.jsxs("div",{className:t,style:a,children:[e.jsx(sl,{isVisible:!o}),e.jsx("div",{style:{width:"100%",height:"100%",opacity:o?1:0},children:e.jsx(rl,{})})]})},dl=Object.freeze(Object.defineProperty({__proto__:null,default:cl},Symbol.toStringTag,{value:"Module"})),ul=({isVisible:t})=>{const[a,o]=E.useState(0),[n]=E.useState(Date.now());return E.useEffect(()=>{if(t){const e=setInterval(()=>{const e=Date.now()-n,t=Math.min(e/3e3*100,100);o(t)},50);return()=>clearInterval(e)}o(0)},[t,n]),e.jsx(_,{children:t&&e.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundImage:"url(/textures/carga.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:9999,color:"white",fontFamily:"Arial, sans-serif"},children:[e.jsx(F.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},style:{fontSize:"32px",fontWeight:"bold",marginBottom:"20px",color:"#2ECC71",textShadow:"0 0 20px #2ECC71, 0 0 40px #27AE60"},children:"LOOPO"}),e.jsx(F.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8,ease:"easeOut"},style:{fontSize:"18px",fontWeight:"bold",marginBottom:"40px",color:"#ffffff",textShadow:"0 0 10px #ffffff"},children:"Features: Metal body, 4 footswitches, and 4 assignable knobs."}),e.jsx(F.div,{animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"},style:{width:"100px",height:"100px",border:"6px solid rgba(46, 204, 113, 0.1)",borderTop:"6px solid #2ECC71",borderRadius:"50%",marginBottom:"40px",boxShadow:"0 0 30px rgba(46, 204, 113, 0.4)"}}),e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},style:{fontSize:"20px",fontWeight:"bold",textAlign:"center",marginBottom:"20px",color:"#2ECC71"},children:["Cargando LOOPO... ",Math.round(a),"%"]}),a>=100&&e.jsx(F.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.8},style:{fontSize:"18px",color:"#1ABC9C",fontWeight:"bold",marginBottom:"30px",textShadow:"0 0 10px #1ABC9C"},children:"¡LOOPO listo para configurar!"}),e.jsx(F.div,{style:{width:"400px",height:"8px",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"4px",overflow:"hidden",boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.3)",marginBottom:"40px"},children:e.jsx(F.div,{initial:{width:0},animate:{width:`${a}%`},transition:{duration:.1,ease:"linear"},style:{width:"100%",height:"100%",background:"linear-gradient(90deg, #2ECC71, #27AE60, #2ECC71)",borderRadius:"4px",boxShadow:"0 0 15px rgba(46, 204, 113, 0.6)",backgroundSize:"200% 100%",animation:"shimmer 2s infinite"}})}),e.jsx(F.div,{style:{display:"flex",gap:"12px",marginTop:"20px"},children:[0,1,2].map(t=>e.jsx(F.div,{animate:{scale:[1,1.3,1],opacity:[.4,1,.4]},transition:{duration:2,repeat:1/0,delay:.3*t,ease:"easeInOut"},style:{width:"12px",height:"12px",backgroundColor:"#2ECC71",borderRadius:"50%",boxShadow:"0 0 10px rgba(46, 204, 113, 0.6)"}},t))}),e.jsx("style",{children:"\n            @keyframes shimmer {\n              0% { background-position: -200% 0; }\n              100% { background-position: 200% 0; }\n            }\n          "})]})})},hl=({onProductChange:t})=>{const o=E.useRef(null),n=E.useRef(null),v=E.useRef(null),j=E.useRef(null),S=E.useRef(null),_=E.useRef(null),[F,z]=E.useState("normal"),[N,P]=E.useState(null),[T,D]=E.useState(()=>{const e=localStorage.getItem("loopo_chosenColors");if(e)try{return JSON.parse(e)}catch(Cl){}return{type:"configUpdate",chasis:"Gris",knobs:{}}}),[L,A]=E.useState({chasis:[],knobs:[]}),[B,$]=E.useState(!1),[U,H]=E.useState(null),[V,W]=E.useState("USD"),[q,G]=E.useState({referenceCode:`loopo_${Date.now()}`,amount:"110.00",currency:"USD",signature:"",description:"Loopo Configurator",buyerEmail:"customer@email.com"});E.useEffect(()=>{const e=Vr(V);G(t=>({...t,amount:e.amount,currency:V,description:`Loopo Configurator - ${V} ${e.symbol}${e.amount}`}))},[V]),E.useEffect(()=>{if(B){const e=`loopo-${Date.now()}`;G(t=>({...t,referenceCode:e}))}},[B]);const K={chasis:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}},knobs:{Verde:{hex:"#7CBA40"},Amarillo:{hex:"#F3E600"},Azul:{hex:"#325EB7"},Blanco:{hex:"#F5F5F5"},Naranja:{hex:"#F47119"},Morado:{hex:"#7B217E"},Rojo:{hex:"#E52421"},Negro:{hex:"#1C1C1C"},Rosa:{hex:"#FF007F"},Gris:{hex:"#808080"}}},Y={normal:{pos:new h(2,1,0),target:new h(0,-.3,0)},top:{pos:new h(1,1.95,-.3),target:new h(-.35,-1,-.3)}},J=E.useCallback((e,t)=>{const a=new i(16777215,.6);e.add(a);const o=new s(16777215,1.5);o.position.set(5,4,-1),o.castShadow=!0,o.shadow.mapSize.width=4096,o.shadow.mapSize.height=4096,o.shadow.camera.near=.5,o.shadow.camera.far=50,o.shadow.normalBias=.02,o.shadow.bias=-.001,e.add(o);const n=new s(10079487,.8);n.position.set(-8,3,-9),e.add(n);const l=new s(10079487,.8);l.position.set(-8,3,15),e.add(l);const c=new r(16777215,.5,.5);c.position.set(0,5,5),e.add(c);const d=new s(16777215,1);d.position.set(-5,30,0),d.castShadow=!0,d.shadow.mapSize.width=2048,d.shadow.mapSize.height=2048,d.shadow.camera.near=.5,d.shadow.camera.far=50,d.shadow.normalBias=.02,d.shadow.bias=-.001,e.add(d);const u=new w(16777215,.3,10,Math.PI/6,.5);u.position.set(0,8,2),u.target.position.set(0,0,0),e.add(u),e.add(u.target)},[]),X=E.useCallback(e=>{const t=(new u).setFromObject(e),a=t.getSize(new h),o=t.getCenter(new h),n=1.8/Math.max(a.x,a.y,a.z);e.scale.set(n,n,n),e.position.copy(o).multiplyScalar(-n),e.position.y-=a.y/2*n},[]),Z=E.useCallback(e=>{const t={chasis:[],knobs:[]},a={type:"configUpdate",chasis:"Gris",knobs:{}};e.traverse(e=>{var o;if(!(e instanceof l))return;e.castShadow=!0,e.receiveShadow=!0;const n="string"==typeof e.name?e.name.toLowerCase():"";if(n.includes("cubechasis"))e.material=new c({color:K.chasis.Gris.hex,metalness:.8,roughness:.35,clearcoat:.85,clearcoatRoughness:.1}),t.chasis.push(e),a.chasis="Gris";else if(n.includes("aro"))e.material=new c({color:0,metalness:0,roughness:.2,clearcoat:.8,clearcoatRoughness:.1,reflectivity:.5,transmission:.3,thickness:.5,ior:1.4,attenuationDistance:1,attenuationColor:16777215,transparent:!0,opacity:.7}),t.buttons.push(e),a.buttons[e.name]="Negro";else if(n.includes("knob")&&(null==(o=e.material)?void 0:o.color)){const o=e.material;if((o.color.r+o.color.g+o.color.b)/3<.5){const o="Negro";e.material=new d({color:K.knobs[o].hex,metalness:0,roughness:1}),t.knobs.push(e),a.knobs[e.name]=o}else e.material=new d({color:16777215})}}),A(t),D(a)},[]),Q=E.useCallback(async()=>{try{const{GLTFLoader:e}=await a(async()=>{const{GLTFLoader:e}=await import("./GLTFLoader-L0pBLRUW.js");return{GLTFLoader:e}},__vite__mapDeps([7,1,2]));(new e).load("./models/loopo.glb",e=>{var t;const a=e.scene;_.current=a,Z(a),X(a),null==(t=n.current)||t.add(a),modelOriginalPositionRef.current||(modelOriginalPositionRef.current=a.position.clone());a.traverse(e=>{e.isMesh&&"string"==typeof e.name&&e.name.toLowerCase().includes("aro")&&e.material&&"color"in e.material&&e.material.color.setHex(1842204),e.isMesh&&"string"==typeof e.name&&e.name.toLowerCase().includes("aro")&&(e.material=e.material.clone())})},void 0,e=>{})}catch(e){}},[Z,X]);E.useEffect(()=>{if(!o.current)return;const e=new p;e.background=null,e.fog=new C(0,10,50),n.current=e;const t=new m({antialias:!0,alpha:!0,preserveDrawingBuffer:!0,powerPreference:"high-performance"});t.setSize(o.current.clientWidth,o.current.clientHeight),t.setPixelRatio(Math.min(window.devicePixelRatio,3)),t.outputColorSpace=f,t.shadowMap.enabled=!0,t.shadowMap.type=x,t.toneMapping=k,t.toneMappingExposure=1.2,v.current=t,o.current.appendChild(t.domElement);const i=new g(35,o.current.clientWidth/o.current.clientHeight,.1,200);let s;i.position.copy(Y.normal.pos),j.current=i,a(async()=>{const{OrbitControls:e}=await import("./OrbitControls-DFclDx1A.js");return{OrbitControls:e}},__vite__mapDeps([8,1,2])).then(({OrbitControls:e})=>{const a=new e(i,t.domElement);a.target.copy(Y.normal.target),a.enableDamping=!0,a.dampingFactor=.05,a.minDistance=2,a.maxDistance=5,a.enablePan=!1,S.current=a}),J(e,t),Q();const r=()=>{s=requestAnimationFrame(r),S.current&&S.current.update(),t.render(e,i)};return r(),()=>{s&&cancelAnimationFrame(s),o.current&&t.domElement&&o.current.removeChild(t.domElement),t.dispose()}},[J,Q]),E.useEffect(()=>{const e=()=>{if(o.current&&j.current&&v.current){const e=o.current.clientWidth,t=o.current.clientHeight;j.current.aspect=e/t,j.current.updateProjectionMatrix(),v.current.setSize(e,t)}};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),E.useEffect(()=>{localStorage.setItem("loopo_currentView",F)},[F]),E.useEffect(()=>{localStorage.setItem("loopo_chosenColors",JSON.stringify(T))},[T]),E.useEffect(()=>{if(L.chasis.length>0||L.knobs.length>0){if(T.chasis&&K.chasis[T.chasis]){const e=K.chasis[T.chasis].hex;L.chasis.forEach(t=>{t.material&&"color"in t.material&&t.material.color.setHex(parseInt(e.replace("#",""),16))})}Object.entries(T.knobs).forEach(([e,t])=>{if(K.knobs[t]){const a=K.knobs[t].hex,o=L.knobs.find(t=>t.name===e);o&&o.material&&"color"in o.material&&o.material.color.setHex(parseInt(a.replace("#",""),16))}})}},[L,T]);const ee=E.useCallback(e=>{if(z(e),"chasis"===e&&L.chasis.length>0?P(L.chasis[0]):P(null),!j.current||!S.current)return;let t,a;"normal"===e?(t=Y.normal,a=!0):(t=Y.top,a=!1),S.current.enabled=a,O.to(j.current.position,{duration:1.2,ease:"power3.inOut",...t.pos}),O.to(S.current.target,{duration:1.2,ease:"power3.inOut",...t.target,onUpdate:()=>S.current.update()})},[L]);E.useCallback(e=>{if(!N)return;const t=N.name.toLowerCase();let a=null,o=null;if(t.includes("cubechasis")?(a=K.chasis,o="chasis"):t.includes("knob")&&(a=K.knobs,o=N.name),a&&o&&a[e]){const t=a[e].hex;N.material&&"color"in N.material&&N.material.color.setHex(parseInt(t.replace("#",""),16)),D(t=>({...t,["chasis"===o?"chasis":"knobs"]:"chasis"===o?e:{...t.knobs,[o]:e}}))}},[N]);const te=E.useCallback(e=>{if(!j.current||!v.current)return;if("chasis"===F)return void P(null);const t=new b,a=new y,o=v.current.domElement.getBoundingClientRect();a.x=(e.clientX-o.left)/o.width*2-1,a.y=-(e.clientY-o.top)/o.height*2+1,t.setFromCamera(a,j.current);let n=[];if(("knobs"===F||"normal"===F)&&(n=L.knobs),0===n.length)return;const i=t.intersectObjects(n,!1);if(i.length>0){const e=i[0].object;P(e)}else P(null)},[F,L]),ae=E.useCallback((e,t)=>{"chasis"===F?(D(t=>({...t,chasis:e})),L.chasis.forEach(e=>{e.material&&"color"in e.material&&e.material.color.setHex(parseInt(t.hex.replace("#",""),16))})):"knobs"===F&&N&&(D(t=>({...t,knobs:{...t.knobs,[N.name]:e}})),N.material&&"color"in N.material&&N.material.color.setHex(parseInt(t.hex.replace("#",""),16)))},[F,L,N]),oe=E.useCallback(()=>{if(v.current&&n.current&&j.current){v.current.render(n.current,j.current);const e=v.current.domElement.toDataURL("image/png");H(e)}$(!0)},[]);return e.jsxs(I,{options:{clientId:"test",currency:"USD"},children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:-1,backgroundImage:"url(/textures/fondo.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"}}),e.jsxs("div",{className:"w-full h-screen text-gray-200 overflow-hidden relative",style:{background:"transparent"},children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:0,pointerEvents:"none",background:"transparent"}}),e.jsx(R,{id:"tsparticles",init:async e=>{await Lr(e)},options:{fullScreen:{enable:!1},background:{color:{value:"transparent"}},fpsLimit:60,particles:{color:{value:"#a259ff"},links:{enable:!0,color:"#a259ff",distance:120},move:{enable:!0,speed:1},number:{value:50},opacity:{value:.5},shape:{type:"circle"},size:{value:3}},interactivity:{events:{onhover:{enable:!0,mode:"repulse"}},modes:{repulse:{distance:100,duration:.4}}}},style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:0,pointerEvents:"none"}}),e.jsx("div",{style:{position:"fixed",top:16,left:6,zIndex:51,display:"flex",alignItems:"center",gap:"12px"},children:e.jsx("button",{onClick:()=>window.location.href="https://www.crearttech.com/",className:"relative px-5 py-2 rounded-full font-bold text-sm uppercase tracking-wider text-white transition-all duration-300 hover:-translate-y-0.5",style:{background:"linear-gradient(90deg, rgba(0,255,255,0.18) 0%, rgba(122,0,255,0.18) 50%, rgba(255,0,255,0.18) 100%)",border:"1px solid rgba(0, 255, 255, 0.55)"},children:e.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:[e.jsx("path",{d:"M3 10.5L12 3l9 7.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M5 9.5V21h14V9.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("span",{children:"Home"})]})})}),e.jsx("div",{className:"absolute top-6 left-1/2 transform -translate-x-1/2 z-10 flex items-center gap-3",children:e.jsx("h1",{className:"text-2xl font-bold leading-none m-0",style:{fontFamily:"Gotham Black, Arial, sans-serif",color:"#fff",textShadow:"0 0 12px #a259ff, 0 0 24px #0ff, 0 0 2px #fff",letterSpacing:"0.04em"},children:"LOOPO"})}),e.jsx("main",{className:"flex w-full h-full",style:{minHeight:"100vh",height:"100vh",position:"relative",zIndex:1,overflow:"hidden",background:"transparent"},children:e.jsx("div",{className:"flex-grow h-full",style:{position:"relative",zIndex:1,background:"transparent"},children:e.jsx("div",{ref:o,className:"w-full h-full transition-all duration-300",onClick:te,style:{position:"relative",zIndex:1}})})}),e.jsxs("div",{className:"fixed top-0 right-0 h-screen border-l border-gray-700 shadow-2xl transition-all duration-400 flex overflow-hidden z-10 "+("normal"===F?"w-28":"w-[320px]"),style:{backgroundColor:"rgba(255, 255, 0, 0.8)",background:"transparent",boxShadow:"0 0 16px 2px rgba(0, 255, 255, 0.4), -6px 0 16px 0 rgba(0, 255, 255, 0.3), inset 0 0 10px rgba(0,0,0,0.8)",borderLeft:"2px solid rgba(0, 255, 255, 0.8)",backdropFilter:"blur(10px)",zIndex:10},children:[e.jsx("div",{className:"w-28 p-4 flex-shrink-0",style:{paddingTop:"200px"},children:e.jsx("div",{className:"flex flex-col gap-1.5",children:[{id:"normal",icon:"M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5M12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17M12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z",title:"Vista General"},{id:"chasis",icon:"loopo.png",title:"Chasis",isImage:!0},{id:"knobs",icon:"M9.42 4.074a.56.56 0 0 0-.56.56v.93c0 .308.252.56.56.56s.56-.252.56-.56v-.93a.56.56 0 0 0-.56-.56M11.554 8.8a.5.5 0 0 1 0 .707l-1.78 1.78a.5.5 0 1 1-.708-.707l1.78-1.78a.5.5 0 0 1 .708 0 M9.42 15.444c-1.16 0-2.32-.44-3.2-1.32a4.527 4.527 0 0 1 0-6.39a4.527 4.527 0 0 1 6.39 0a4.527 4.527 0 0 1 0 6.39c-.88.88-2.03 1.32-3.19 1.32m0-1.1a3.41 3.41 0 1 0 0-6.82a3.41 3.41 0 0 0 0 6.82M6.757 5.2a.56.56 0 1 0-.965.567l.465.809l.005.006a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.075a.566.566 0 0 0 .205-.753zm5.315.012a.55.55 0 0 1 .761-.206c.277.152.36.5.203.764l-.458.797a.56.56 0 0 1-.478.277a.564.564 0 0 1-.487-.834zm7.598 5.722a.5.5 0 0 1 .5-.5h2.52a.5.5 0 1 1 0 1h-2.52a.5.5 0 0 1-.5-.5 M22.69 15.454c2.49 0 4.52-2.03 4.52-4.52s-2.03-4.52-4.52-4.52s-4.52 2.03-4.52 4.52s2.03 4.52 4.52 4.52m0-1.11a3.41 3.41 0 1 1 0-6.82a3.41 3.41 0 0 1 0 6.82m-.56-9.7c0-.308.252-.56.56-.56s.56.252.56.56v.945a.566.566 0 0 1-.56.535a.56.56 0 0 1-.56-.56zm-2.103.566a.557.557 0 0 0-.763-.202a.566.566 0 0 0-.204.753l.468.815l.004.006a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.075a.566.566 0 0 0 .205-.753zm6.086-.204a.55.55 0 0 0-.761.206l-.458.795a.55.55 0 0 0 .194.759a.5.5 0 0 0 .282.077a.6.6 0 0 0 .478-.261l.005-.007l.463-.805a.55.55 0 0 0-.203-.764 M11.93 22.636H9.42a.5.5 0 0 0 0 1h2.51a.5.5 0 1 0 0-1 M4.9 23.136c0 2.49 2.03 4.52 4.52 4.52s4.52-2.03 4.52-4.52s-2.03-4.52-4.52-4.52s-4.52 2.03-4.52 4.52m7.93 0a3.41 3.41 0 1 1-6.82 0a3.41 3.41 0 0 1 6.82 0m-3.41-6.86a.56.56 0 0 0-.56.56v.93c0 .308.252.56.56.56s.56-.252.56-.56v-.93a.56.56 0 0 0-.56-.56m-3.418.93a.566.566 0 0 1 .755.206l.464.807c.137.258.06.6-.205.753a.53.53 0 0 1-.276.074a.58.58 0 0 1-.478-.261l-.005-.007l-.468-.814a.566.566 0 0 1 .207-.755zm6.08.209a.55.55 0 0 1 .761-.206c.277.151.36.499.203.764l-.462.802a.567.567 0 0 1-.766.194a.55.55 0 0 1-.194-.76zm8.475 3.588a.5.5 0 0 1 .707 0l1.78 1.78a.5.5 0 0 1-.707.707l-1.78-1.78a.5.5 0 0 1 0-.707 M22.69 27.656c-1.16 0-2.32-.44-3.2-1.32a4.527 4.527 0 0 1 0-6.39a4.527 4.527 0 0 1 6.39 0a4.527 4.527 0 0 1 0 6.39c-.88.88-2.04 1.32-3.19 1.32m0-1.11a3.41 3.41 0 1 0 0-6.82a3.41 3.41 0 0 0 0 6.82 M22.13 16.836c0-.308.252-.56.56-.56s.56.252.56.56v.945a.57.57 0 0 1-.56.545a.56.56 0 0 1-.56-.56zm-2.103.576a.566.566 0 0 0-.755-.206l-.006.003a.565.565 0 0 0-.206.755l.468.814l.004.007a.58.58 0 0 0 .478.262a.53.53 0 0 0 .276-.074a.566.566 0 0 0 .205-.753zm6.086-.203a.55.55 0 0 0-.761.206l-.458.795a.55.55 0 0 0 .194.759a.5.5 0 0 0 .282.077a.6.6 0 0 0 .478-.261l.005-.007l.463-.805a.55.55 0 0 0-.203-.764 M1 5.75A4.75 4.75 0 0 1 5.75 1h20.52a4.75 4.75 0 0 1 4.75 4.75v20.48a4.75 4.75 0 0 1-4.75 4.75H5.75A4.75 4.75 0 0 1 1 26.23zM5.75 3A2.75 2.75 0 0 0 3 5.75v20.48a2.75 2.75 0 0 0 2.75 2.75h20.52a2.75 2.75 0 0 0 2.75-2.75V5.75A2.75 2.75 0 0 0 26.27 3z",title:"Knobs"}].map(({id:t,icon:a,title:o,isImage:n})=>e.jsx("button",{onClick:"faders"===t?void 0:()=>ee(t),className:"w-full aspect-square border-2 rounded-lg flex items-center justify-center p-2 transition-all duration-300 text-white relative "+(F===t?"bg-gradient-to-br from-[#00FFFF] to-[#0080FF] border-[#00FFFF] shadow-lg":"border-[#00FFFF] bg-gradient-to-br from-[#000000] to-[#1a1a1a] hover:from-[#00FFFF] hover:to-[#0080FF] hover:border-[#00FFFF] hover:shadow-lg"),title:o,disabled:"faders"===t,style:"faders"===t?{cursor:"not-allowed"}:{},children:n?e.jsx("img",{src:`textures/${a}`,alt:o,className:"w-full h-full mx-auto my-auto object-contain",style:{},onError:e=>{}}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"knobs"===t?"0 0 32 32":"faders"===t?"0 0 256 256":"0 0 24 24",className:"w-4/5 h-4/5 mx-auto my-auto fill-white text-white",fill:"#fff",children:e.jsx("path",{d:a})})},t))})}),e.jsxs("div",{className:"flex-1 p-4 flex flex-col",children:[e.jsx("div",{className:"flex items-center pb-5 border-b border-gray-600 pl-0 "+("normal"===F?"justify-center items-center gap-0":"justify-center gap-2"),style:"normal"===F?{minHeight:"48px"}:{},children:"normal"===F?e.jsx("img",{src:"models/logo.png",alt:"Logo",className:"h-6 w-auto",style:{filter:"drop-shadow(0 0 8px #a259ff) drop-shadow(0 0 16px #0ff)"}}):e.jsx(e.Fragment,{children:e.jsx("img",{src:"models/logo.png",alt:"Logo",className:"h-8 w-auto",style:{filter:"drop-shadow(0 0 8px #a259ff) drop-shadow(0 0 16px #0ff)"}})})}),e.jsxs("div",{className:"mt-6 animate-fadeIn",children:[e.jsx("p",{className:"font-black text-sm tracking-wide uppercase m-0 mb-3 text-gray-200 text-left animate-fadeIn",children:"chasis"===F?"CHASIS":"knobs"===F?"KNOBS":"LOOPO"}),e.jsx("div",{className:"grid grid-cols-2 gap-x-0 gap-y-0 p-0 justify-items-end ml-auto animate-scaleIn",children:Object.entries("chasis"===F?K.chasis:"knobs"===F?K.knobs:K.chasis).map(([t,a],o)=>e.jsx("div",{className:"w-10 h-10 rounded-full cursor-pointer border border-[#a259ff] shadow-[0_0_6px_1px_#a259ff55] transition-all duration-200 hover:scale-110 animate-fadeInUp",style:{backgroundColor:a.hex,animationDelay:50*o+"ms"},title:t,onClick:()=>ae(t,a)},t))})]}),"knobs"===F&&N&&e.jsxs("div",{className:"mb-6 p-4 bg-gray-800 rounded-lg animate-scaleIn",children:[e.jsxs("h4",{className:"text-lg font-semibold text-white mb-2 animate-fadeIn",children:["Seleccionado: ",N.name]}),e.jsx("p",{className:"text-gray-300 text-sm animate-fadeIn",children:"Haz clic en un color para aplicarlo al knob seleccionado"})]})]})]}),"normal"===F&&e.jsx("button",{onClick:oe,className:"fixed bottom-10 left-1/2 transform -translate-x-1/2 z-50 px-6 py-3 text-lg font-bold uppercase tracking-wide text-black bg-purple-400 border-none rounded cursor-pointer transition-all duration-200 shadow-lg hover:bg-yellow-200 hover:scale-105 hover:shadow-xl shadow-[0_0_8px_2px_#a259ff80,0_0_16px_4px_#0ff5]",children:"ADD TO CART"}),B&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:e.jsxs("div",{className:"relative bg-[#3a4060] rounded-2xl shadow-2xl border-2 border-[#a259ff] p-4 md:py-4 md:px-8 w-full max-w-4xl mx-4 animate-fade-in",children:[e.jsx("button",{onClick:()=>$(!1),className:"absolute top-3 right-3 text-gray-400 hover:text-pink-400 text-2xl font-bold",children:"×"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-purple-400 mb-4 text-center tracking-widest",children:"PAGO SEGURO - LOOPO"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center mb-4",children:[e.jsx("div",{className:"w-full max-w-[320px] md:max-w-[380px] aspect-[4/3] flex items-center justify-center ml-16 md:ml-24",children:U&&e.jsx("img",{src:U,alt:"Custom controller",className:"w-full h-full object-contain",style:{background:"none",boxShadow:"none",border:"none"}})}),e.jsxs("div",{className:"flex-1 mt-8 md:mt-0",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2 text-cyan-400",children:"Tu configuración:"}),e.jsxs("ul",{className:"text-base space-y-1",children:[e.jsxs("li",{children:[e.jsx("b",{children:"Chasis:"})," ",T.chasis]}),e.jsxs("li",{children:[e.jsx("b",{children:"Knobs:"})," ",Object.values(T.knobs).join(", ")||"Default"]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-cyan-400",children:"Select your currency:"}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx("button",{onClick:()=>W("USD"),className:"px-6 py-3 rounded-lg font-bold text-lg transition-all "+("USD"===V?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-[0_0_12px_2px_#3b82f6]":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:"USD $110.00"}),e.jsx("button",{onClick:()=>W("COP"),className:"px-6 py-3 rounded-lg font-bold text-lg transition-all "+("COP"===V?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-[0_0_12px_2px_#3b82f6]":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:"COP $440,000"})]}),e.jsxs("p",{className:"text-center text-sm text-gray-400 mt-2",children:["Selected price: ",V," ",Vr(V).symbol,Vr(V).amount]})]}),e.jsxs("div",{className:"flex flex-col gap-4 mt-4",children:[e.jsx("div",{className:"w-full py-3 rounded-lg bg-gray-600 text-gray-400 font-bold text-lg text-center",children:"PayPal temporarily unavailable"}),e.jsxs("button",{onClick:()=>{const e="payu_checkout";if(!window.open("",e))return void alert("Please allow popups to continue with payment");const t=Vr(V),a=`${Ar.API_KEY}~${Ar.MERCHANT_ID}~${q.referenceCode}~${t.amount}~${V}`,o=M(a).toString(),n=document.createElement("form");n.method="POST",n.action=t.url,n.target=e;const i={merchantId:Ar.MERCHANT_ID,accountId:t.accountId,description:`Loopo Configurator - ${V} ${t.symbol}${t.amount}`,referenceCode:q.referenceCode,amount:t.amount,currency:V,buyerEmail:q.buyerEmail,signature:o,test:"1",confirmationUrl:Ar.CONFIRMATION_URL,responseUrl:Ar.RESPONSE_URL,lng:t.language,extra1:"Loopo",extra2:T.chasis||"Custom",extra3:`Applied colors - Knobs: ${Object.keys(T.knobs||{}).length}`,extra4:`Loopo Configurator - ${V} ${t.symbol}${t.amount}`,payerCountry:"CO",payerCity:"Bogota",payerPhone:"+57-300-1234567",country:"CO",ipAddress:"8.8.4.4"};Object.entries(i).forEach(([e,t])=>{const a=document.createElement("input");a.type="hidden",a.name=e,a.value=t,n.appendChild(a)}),document.body.appendChild(n),n.submit(),document.body.removeChild(n)},className:"w-full py-3 rounded-lg bg-gradient-to-r from-green-400 to-cyan-400 text-white font-bold text-lg shadow-[0_0_12px_2px_#0ff580] hover:scale-105 transition-all mt-2",children:["Pay with PayU (",V," ",Vr(V).symbol,Vr(V).amount,")"]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-6 text-center",children:"Your purchase is 100% safe and protected."})]})})]})]})},pl=Object.freeze(Object.defineProperty({__proto__:null,default:hl},Symbol.toStringTag,{value:"Module"})),ml=({className:t="",style:a={}})=>{const[o,n]=E.useState(!1),[i]=E.useState(Date.now());return E.useEffect(()=>{const e=setTimeout(()=>{n(!0)},3e3);return()=>clearTimeout(e)},[]),e.jsxs("div",{className:t,style:a,children:[e.jsx(ul,{isVisible:!o}),e.jsx("div",{style:{width:"100%",height:"100%",opacity:o?1:0},children:e.jsx(hl,{})})]})},fl=Object.freeze(Object.defineProperty({__proto__:null,default:ml},Symbol.toStringTag,{value:"Module"})),xl=({isVisible:t})=>{const[a,o]=E.useState(0),[n]=E.useState(Date.now());return E.useEffect(()=>{if(t){const e=setInterval(()=>{const e=Date.now()-n,t=Math.min(e/3e3*100,100);o(t)},50);return()=>clearInterval(e)}o(0)},[t,n]),e.jsx(_,{children:t&&e.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundImage:"url(/textures/carga.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:9999,color:"white",fontFamily:"Arial, sans-serif"},children:[e.jsx(F.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},style:{fontSize:"32px",fontWeight:"bold",marginBottom:"20px",color:"#E91E63",textShadow:"0 0 20px #E91E63, 0 0 40px #C2185B"},children:"FADO"}),e.jsx(F.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8,ease:"easeOut"},style:{fontSize:"18px",fontWeight:"bold",marginBottom:"40px",color:"#ffffff",textShadow:"0 0 10px #ffffff"},children:"Features: Metal body, 8 faders."}),e.jsx(F.div,{animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"},style:{width:"100px",height:"100px",border:"6px solid rgba(233, 30, 99, 0.1)",borderTop:"6px solid #E91E63",borderRadius:"50%",marginBottom:"40px",boxShadow:"0 0 30px rgba(233, 30, 99, 0.4)"}}),e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},style:{fontSize:"20px",fontWeight:"bold",textAlign:"center",marginBottom:"20px",color:"#E91E63"},children:["Cargando FADO... ",Math.round(a),"%"]}),a>=100&&e.jsx(F.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.8},style:{fontSize:"18px",color:"#FF4081",fontWeight:"bold",marginBottom:"30px",textShadow:"0 0 10px #FF4081"},children:"¡FADO listo para configurar!"}),e.jsx(F.div,{style:{width:"400px",height:"8px",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"4px",overflow:"hidden",boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.3)",marginBottom:"40px"},children:e.jsx(F.div,{initial:{width:0},animate:{width:`${a}%`},transition:{duration:.1,ease:"linear"},style:{width:"100%",height:"100%",background:"linear-gradient(90deg, #E91E63, #C2185B, #E91E63)",borderRadius:"4px",boxShadow:"0 0 15px rgba(233, 30, 99, 0.6)",backgroundSize:"200% 100%",animation:"shimmer 2s infinite"}})}),e.jsx(F.div,{style:{display:"flex",gap:"12px",marginTop:"20px"},children:[0,1,2].map(t=>e.jsx(F.div,{animate:{scale:[1,1.3,1],opacity:[.4,1,.4]},transition:{duration:2,repeat:1/0,delay:.3*t,ease:"easeInOut"},style:{width:"12px",height:"12px",backgroundColor:"#E91E63",borderRadius:"50%",boxShadow:"0 0 10px rgba(233, 30, 99, 0.6)"}},t))}),e.jsx("style",{children:"\n            @keyframes shimmer {\n              0% { background-position: -200% 0; }\n              100% { background-position: 200% 0; }\n            }\n          "})]})})},gl=({onProductChange:t})=>{const o=E.useRef(null),n=E.useRef(null),v=E.useRef(null),j=E.useRef(null),S=E.useRef(null),_=E.useRef(null),F=E.useRef(null),[z,N]=E.useState("normal"),[P,T]=E.useState(null),[D,L]=E.useState(()=>{const e=localStorage.getItem("fado_chosenColors");if(e)try{return JSON.parse(e)}catch(Cl){}return{type:"configUpdate",chasis:"Gray",faders:{}}}),[A,B]=E.useState({chasis:[],faders:[]}),[$,U]=E.useState([]),[H,V]=E.useState(!1),[W,q]=E.useState(null),[G,K]=E.useState("USD"),[Y,J]=E.useState({referenceCode:`fado_${Date.now()}`,amount:"150.00",currency:"USD",signature:"",description:"Fado Configurator",buyerEmail:"customer@email.com"});E.useEffect(()=>{const e=Wr(G);J(t=>({...t,amount:e.amount,currency:G,description:`Fado Configurator - ${G} ${e.symbol}${e.amount}`}))},[G]),E.useEffect(()=>{if(H){const e=`fado-${Date.now()}`;J(t=>({...t,referenceCode:e}))}},[H]);const X={chasis:{Green:{hex:"#7CBA40"},Yellow:{hex:"#F3E600"},Blue:{hex:"#325EB7"},White:{hex:"#F5F5F5"},Orange:{hex:"#F47119"},Purple:{hex:"#7B217E"},Red:{hex:"#E52421"},Black:{hex:"#1C1C1C"},Pink:{hex:"#FF007F"},Gray:{hex:"#808080"}},faders:{Green:{hex:"#7CBA40"},Yellow:{hex:"#F3E600"},Blue:{hex:"#325EB7"},White:{hex:"#F5F5F5"},Orange:{hex:"#F47119"},Purple:{hex:"#7B217E"},Red:{hex:"#E52421"},Black:{hex:"#1C1C1C"},Pink:{hex:"#FF007F"},Gray:{hex:"#808080"}},knobs:{Green:{hex:"#7CBA40"},Yellow:{hex:"#F3E600"},Blue:{hex:"#325EB7"},White:{hex:"#F5F5F5"},Orange:{hex:"#F47119"},Purple:{hex:"#7B217E"},Red:{hex:"#E52421"},Black:{hex:"#1C1C1C"},Pink:{hex:"#FF007F"},Gray:{hex:"#808080"}}},Z={normal:{pos:new h(2,1,-.1),target:new h(0,-.3,-.1)},top:{pos:new h(1,1.65,-.3),target:new h(-.35,-.9,-.3)}},Q=E.useCallback((e,t)=>{e.material&&"emissive"in e.material&&e.material.emissive.setHex(t)},[]),ee=E.useCallback((e,t)=>{const a=new i(16777215,.6);e.add(a);const o=new s(16777215,1.5);o.position.set(5,4,-1),o.castShadow=!0,o.shadow.mapSize.width=4096,o.shadow.mapSize.height=4096,o.shadow.camera.near=.5,o.shadow.camera.far=50,o.shadow.normalBias=.02,o.shadow.bias=-.001,e.add(o);const n=new s(10079487,.8);n.position.set(-8,3,-9),e.add(n);const l=new s(10079487,.8);l.position.set(-8,3,15),e.add(l);const c=new r(16777215,.5,.5);c.position.set(0,5,5),e.add(c);const d=new s(16777215,1);d.position.set(-5,30,0),d.castShadow=!0,d.shadow.mapSize.width=2048,d.shadow.mapSize.height=2048,d.shadow.camera.near=.5,d.shadow.camera.far=50,d.shadow.normalBias=.02,d.shadow.bias=-.001,e.add(d);const u=new w(16777215,.3,10,Math.PI/6,.5);u.position.set(0,8,2),u.target.position.set(0,0,0),e.add(u),e.add(u.target)},[]),te=E.useCallback(e=>{const t=(new u).setFromObject(e),a=t.getSize(new h),o=t.getCenter(new h),n=1.8/Math.max(a.x,a.y,a.z);e.scale.set(n,n,n),e.position.copy(o).multiplyScalar(-n),e.position.y-=a.y/2*n},[]),ae=E.useCallback(e=>{const t={chasis:[],faders:[]},a={type:"configUpdate",chasis:"Gray",faders:{}},o=[],n=(e,t=0)=>{"  ".repeat(t),e.type,e.name;e.children.forEach(e=>n(e,t+1))};n(e);const i=e=>{if("faders"===e.name.toLowerCase())return e;for(const t of e.children){const e=i(t);if(e)return e}return null},s=i(e);s&&s.children.forEach((e,t)=>{}),e.traverse(e=>{if(!(e instanceof l))return;e.castShadow=!0,e.receiveShadow=!0;const n="string"==typeof e.name?e.name.toLowerCase():"";if(o.push(e.name),n.includes("fader"),n.includes("cubechasis"))e.material=new c({color:X.chasis.Gray.hex,metalness:.8,roughness:.35,clearcoat:.85,clearcoatRoughness:.1}),t.chasis.push(e),a.chasis="Gris";else if(n.includes("aro"))e.material=new c({color:0,metalness:0,roughness:.2,clearcoat:.8,clearcoatRoughness:.1,reflectivity:.5,transmission:.3,thickness:.5,ior:1.4,attenuationDistance:1,attenuationColor:16777215,transparent:!0,opacity:.7});else if(n.includes("fader"))if("fader1_1"===n||"fader2_1"===n||"fader3_1"===n||"fader4_1"===n||"fader5_1"===n||"fader6_1"===n||"fader7_1"===n||"fader8_1"===n){const o="Black";e.material=new d({color:X.faders[o].hex,metalness:0,roughness:1}),t.faders.push(e),a.faders[e.name]=o}else if(e.material){const o=e.material;if(o.color){if((o.color.r+o.color.g+o.color.b)/3<.8){const n="Black";o.color.setHex(parseInt(X.faders[n].hex.replace("#",""),16)),t.faders.push(e),a.faders[e.name]=n}}}}),B(t),L(a)},[]),oe=E.useCallback(async()=>{try{const{GLTFLoader:e}=await a(async()=>{const{GLTFLoader:e}=await import("./GLTFLoader-L0pBLRUW.js");return{GLTFLoader:e}},__vite__mapDeps([7,1,2]));(new e).load("./models/fado.glb",e=>{var t;const a=e.scene;_.current=a,ae(a),te(a),null==(t=n.current)||t.add(a),F.current||(F.current=a.position.clone());a.traverse(e=>{e.isMesh&&"string"==typeof e.name&&e.name.toLowerCase().includes("aro")&&e.material&&"color"in e.material&&e.material.color.setHex(1842204),e.isMesh&&"string"==typeof e.name&&e.name.toLowerCase().includes("aro")&&(e.material=e.material.clone())})},void 0,e=>{})}catch(e){}},[ae,te]);E.useEffect(()=>{if(!o.current)return;const e=new p;e.background=null,e.fog=new C(0,10,50),n.current=e;const t=new m({antialias:!0,alpha:!0,preserveDrawingBuffer:!0,powerPreference:"high-performance"});t.setSize(o.current.clientWidth,o.current.clientHeight),t.setPixelRatio(Math.min(window.devicePixelRatio,3)),t.outputColorSpace=f,t.shadowMap.enabled=!0,t.shadowMap.type=x,t.toneMapping=k,t.toneMappingExposure=1.2,v.current=t,o.current.appendChild(t.domElement);const i=new g(35,o.current.clientWidth/o.current.clientHeight,.1,200);let s;i.position.copy(Z.normal.pos),j.current=i,a(async()=>{const{OrbitControls:e}=await import("./OrbitControls-DFclDx1A.js");return{OrbitControls:e}},__vite__mapDeps([8,1,2])).then(({OrbitControls:e})=>{const a=new e(i,t.domElement);a.target.copy(Z.normal.target),a.enableDamping=!0,a.dampingFactor=.05,a.minDistance=2,a.maxDistance=5,a.enablePan=!1,S.current=a}),ee(e,t),oe();const r=()=>{s=requestAnimationFrame(r),S.current&&S.current.update(),t.render(e,i)};return r(),()=>{s&&cancelAnimationFrame(s),o.current&&t.domElement&&o.current.removeChild(t.domElement),t.dispose()}},[ee,oe]),E.useEffect(()=>{const e=()=>{if(o.current&&j.current&&v.current){const e=o.current.clientWidth,t=o.current.clientHeight;j.current.aspect=e/t,j.current.updateProjectionMatrix(),v.current.setSize(e,t)}};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),E.useEffect(()=>{localStorage.setItem("fado_currentView",z)},[z]),E.useEffect(()=>{localStorage.setItem("fado_chosenColors",JSON.stringify(D))},[D]),E.useEffect(()=>{if(A.chasis.length>0||A.faders.length>0){if(D.chasis&&X.chasis[D.chasis]){const e=X.chasis[D.chasis].hex;A.chasis.forEach(t=>{t.material&&"color"in t.material&&t.material.color.setHex(parseInt(e.replace("#",""),16))})}Object.entries(D.faders).forEach(([e,t])=>{if(X.faders[t]){const a=X.faders[t].hex,o=A.faders.find(t=>t.name===e);o&&(o.material=new d({color:a,metalness:0,roughness:1}))}})}},[A,D]),E.useEffect(()=>{A.faders.length>0&&A.faders.forEach((e,t)=>{const a=X.faders.Black.hex;e.material=new d({color:a,metalness:0,roughness:1})})},[A.faders.length]);const ne=E.useCallback(e=>{if(N(e),P&&Q(P,0),$.forEach(e=>Q(e,0)),"chasis"===e&&A.chasis.length>0?T(A.chasis[0]):T(null),!j.current||!S.current)return;let t,a;"normal"===e?(t=Z.normal,a=!0):(t=Z.top,a=!1),S.current.enabled=a,O.to(j.current.position,{duration:1.2,ease:"power3.inOut",...t.pos}),O.to(S.current.target,{duration:1.2,ease:"power3.inOut",...t.target,onUpdate:()=>S.current.update()})},[A,P,Q,$]);E.useCallback(e=>{if(!P)return;const t=P.name.toLowerCase();let a=null,o=null;if(t.includes("cubechasis")?(a=X.chasis,o="chasis"):t.includes("fader")&&(a=X.knobs,o=P.name),a&&o&&a[e]){const t=a[e].hex;P.material&&"color"in P.material&&P.material.color.setHex(parseInt(t.replace("#",""),16)),L(t=>"chasis"===o?{...t,chasis:e}:{...t,faders:{...t.faders,[o]:e}})}},[P]);const ie=E.useCallback(e=>{if(!j.current||!v.current)return;if("chasis"===z)return void T(null);const t=new b,a=new y,o=v.current.domElement.getBoundingClientRect();a.x=(e.clientX-o.left)/o.width*2-1,a.y=-(e.clientY-o.top)/o.height*2+1,t.setFromCamera(a,j.current);let n=[];if(("faders"===z||"normal"===z)&&(n=A.faders),0===n.length)return;const i=t.intersectObjects(n,!1);if(i.length>0){const t=i[0].object,a=t.name.toLowerCase();a.includes("fader")?e.shiftKey?0===$.length&&P&&P!==t?(U([P,t]),T(null),Q(P,4473924),Q(t,4473924)):(T(null),U(e=>{if(0===e.length)return Q(t,4473924),[t];let a;return e.includes(t)?(a=e.filter(e=>e!==t),Q(t,0)):(a=[...e,t],Q(t,4473924)),a.forEach(e=>Q(e,4473924)),a})):(U([]),T(t),Q(t,4473924)):a.includes("cubechasis")&&(U([]),T(t))}else T(null),U([])},[z,A,P,Q,$]),se=E.useCallback((e,t)=>{if("chasis"===z)L(t=>({...t,chasis:e})),A.chasis.forEach(e=>{e.material&&"color"in e.material&&e.material.color.setHex(parseInt(t.hex.replace("#",""),16))});else{if("faders"===z&&$.length>0){const a={...D,faders:{...D.faders}};return $.forEach(o=>{o.material=new d({color:t.hex,metalness:0,roughness:1}),a.faders[o.name]=e}),L(a),void U([])}"faders"===z&&P&&(L(t=>({...t,faders:{...t.faders,[P.name]:e}})),P.material=new d({color:t.hex,metalness:0,roughness:1}))}},[z,A,P,$,D]),re=E.useCallback(()=>{if(v.current&&n.current&&j.current){v.current.render(n.current,j.current);const e=v.current.domElement.toDataURL("image/png");q(e)}V(!0)},[]);return e.jsxs(I,{options:{clientId:"test",currency:"USD"},children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:-1,backgroundImage:"url(/textures/fondo.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"}}),e.jsxs("div",{className:"w-full h-screen text-gray-200 overflow-hidden relative",style:{background:"transparent"},children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:0,pointerEvents:"none",background:"transparent"}}),e.jsx(R,{id:"tsparticles",init:async e=>{await Lr(e)},options:{fullScreen:{enable:!1},background:{color:{value:"transparent"}},fpsLimit:60,particles:{color:{value:"#a259ff"},links:{enable:!0,color:"#a259ff",distance:120},move:{enable:!0,speed:1},number:{value:50},opacity:{value:.5},shape:{type:"circle"},size:{value:3}},interactivity:{events:{onhover:{enable:!0,mode:"repulse"}},modes:{repulse:{distance:100,duration:.4}}}},style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:0,pointerEvents:"none"}}),e.jsx("div",{style:{position:"fixed",top:16,left:6,zIndex:51,display:"flex",alignItems:"center",gap:"12px"},children:e.jsx("button",{onClick:()=>window.location.href="https://www.crearttech.com/",className:"relative px-5 py-2 rounded-full font-bold text-sm uppercase tracking-wider text-white transition-all duration-300 hover:-translate-y-0.5",style:{background:"linear-gradient(90deg, rgba(0,255,255,0.18) 0%, rgba(122,0,255,0.18) 50%, rgba(255,0,255,0.18) 100%)",border:"1px solid rgba(0, 255, 255, 0.55)"},children:e.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:[e.jsx("path",{d:"M3 10.5L12 3l9 7.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M5 9.5V21h14V9.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("span",{children:"Home"})]})})}),e.jsx("div",{className:"absolute top-6 left-1/2 transform -translate-x-1/2 z-10 flex items-center gap-3",children:e.jsx("h1",{className:"text-2xl font-bold leading-none m-0",style:{fontFamily:"Gotham Black, Arial, sans-serif",color:"#fff",textShadow:"0 0 12px #a259ff, 0 0 24px #0ff, 0 0 2px #fff",letterSpacing:"0.04em"},children:"FADO"})}),e.jsx("main",{className:"flex w-full h-full",style:{minHeight:"100vh",height:"100vh",position:"relative",zIndex:1,overflow:"hidden",background:"transparent"},children:e.jsx("div",{className:"flex-grow h-full",style:{position:"relative",zIndex:1,background:"transparent"},children:e.jsx("div",{ref:o,className:"w-full h-full transition-all duration-300",onClick:ie,style:{position:"relative",zIndex:1}})})}),e.jsxs("div",{className:"fixed top-0 right-0 h-screen border-l border-gray-700 shadow-2xl transition-all duration-400 flex overflow-hidden z-10 "+("normal"===z?"w-28":"w-[320px]"),style:{backgroundColor:"rgba(255, 255, 0, 0.8)",background:"transparent",boxShadow:"0 0 16px 2px rgba(0, 255, 255, 0.4), -6px 0 16px 0 rgba(0, 255, 255, 0.3), inset 0 0 10px rgba(0,0,0,0.8)",borderLeft:"2px solid rgba(0, 255, 255, 0.8)",backdropFilter:"blur(10px)",zIndex:10},children:[e.jsx("div",{className:"w-28 p-4 flex-shrink-0",style:{paddingTop:"200px"},children:e.jsx("div",{className:"flex flex-col gap-1.5",children:[{id:"normal",icon:"M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5M12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17M12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z"},{id:"chasis",icon:"fado.png",isImage:!0},{id:"faders",icon:"M3 6h18v2H3V6zm0 5h18v2H3v-2zm0 5h18v2H3v-2z"}].map(({id:t,icon:a,isImage:o})=>e.jsx("button",{onClick:()=>ne(t),className:"w-full aspect-square border-2 rounded-lg flex items-center justify-center p-2 transition-all duration-300 text-white relative "+(z===t?"bg-gradient-to-br from-[#00FFFF] to-[#0080FF] border-[#00FFFF] shadow-lg":"border-[#00FFFF] bg-gradient-to-br from-[#000000] to-[#1a1a1a] hover:from-[#00FFFF] hover:to-[#0080FF] hover:border-[#00FFFF] hover:shadow-lg"),children:o?e.jsx("img",{src:`textures/${a}`,alt:"Menu icon",className:"w-full h-full mx-auto my-auto object-contain",style:{},onError:e=>{}}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"w-4/5 h-4/5 mx-auto my-auto fill-white text-white",fill:"#fff",children:e.jsx("path",{d:a})})},t))})}),e.jsxs("div",{className:"flex-1 p-2 flex flex-col",children:[e.jsx("div",{className:"flex items-center pb-5 border-b border-gray-600 pl-0 "+("normal"===z?"justify-center items-center gap-0":"justify-center gap-2"),style:"normal"===z?{minHeight:"48px"}:{},children:"normal"===z?e.jsx("img",{src:"models/logo.png",alt:"Logo",className:"h-6 w-auto",style:{filter:"drop-shadow(0 0 8px #a259ff) drop-shadow(0 0 16px #0ff)"}}):e.jsx(e.Fragment,{children:e.jsx("img",{src:"models/logo.png",alt:"Logo",className:"h-8 w-auto",style:{filter:"drop-shadow(0 0 8px #a259ff) drop-shadow(0 0 16px #0ff)"}})})}),e.jsxs("div",{className:"mt-6 animate-fadeIn",children:[e.jsx("p",{className:"font-black text-sm tracking-wide uppercase m-0 mb-3 text-gray-200 text-left animate-fadeIn",children:"chasis"===z?"CHOOSE THE CHASSIS COLOR":"faders"===z?"CUSTOMIZE THE FADERS":"🎵 FADO"}),e.jsx("div",{className:"grid grid-cols-2 gap-x-0 gap-y-0 p-0 justify-items-start ml-8 animate-scaleIn",children:Object.entries("chasis"===z?X.chasis:"faders"===z?X.faders:X.chasis).map(([t,a],o)=>e.jsx("div",{className:"w-10 h-10 rounded-full cursor-pointer border border-[#a259ff] shadow-[0_0_6px_1px_#a259ff55] transition-all duration-200 hover:scale-110 animate-fadeInUp",style:{backgroundColor:a.hex,animationDelay:50*o+"ms"},title:t,onClick:()=>se(t,a)},t))})]}),"faders"===z&&P||"faders"===z&&$.length>0&&e.jsxs("div",{className:"mb-4 p-3 bg-gray-800 rounded-lg animate-scaleIn",children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-2 animate-fadeIn",children:$.length>0?`Selección múltiple (${$.length} elementos)`:`Seleccionado: ${P?P.name:""}`}),e.jsx("p",{className:"text-gray-300 text-sm animate-fadeIn",children:$.length>0?"Haz clic en un color para aplicarlo a todos los faders seleccionados":"Haz clic en un color para aplicarlo al fader seleccionado"})]})]})]}),"normal"===z&&e.jsx("button",{onClick:re,className:"fixed bottom-10 left-1/2 transform -translate-x-1/2 z-50 px-6 py-3 text-lg font-bold uppercase tracking-wide text-black bg-purple-400 border-none rounded cursor-pointer transition-all duration-200 shadow-lg hover:bg-yellow-200 hover:scale-105 hover:shadow-xl shadow-[0_0_8px_2px_#a259ff80,0_0_16px_4px_#0ff5]",children:"ADD TO CART"}),H&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:e.jsxs("div",{className:"relative bg-[#3a4060] rounded-2xl shadow-2xl border-2 border-[#a259ff] p-4 md:py-4 md:px-8 w-full max-w-4xl mx-4 animate-fade-in",children:[e.jsx("button",{onClick:()=>V(!1),className:"absolute top-3 right-3 text-gray-400 hover:text-pink-400 text-2xl font-bold",children:"×"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-purple-400 mb-4 text-center tracking-widest",children:"PAGO SEGURO - FADO"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center mb-4",children:[e.jsx("div",{className:"w-full max-w-[320px] md:max-w-[380px] aspect-[4/3] flex items-center justify-center ml-16 md:ml-24",children:W&&e.jsx("img",{src:W,alt:"Custom controller",className:"w-full h-full object-contain",style:{background:"none",boxShadow:"none",border:"none"}})}),e.jsxs("div",{className:"flex-1 mt-8 md:mt-0",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2 text-cyan-400",children:"Tu configuración:"}),e.jsxs("ul",{className:"text-base space-y-1",children:[e.jsxs("li",{children:[e.jsx("b",{children:"Chasis:"})," ",D.chasis]}),e.jsxs("li",{children:[e.jsx("b",{children:"Faders:"})," ",Object.values(D.faders).join(", ")||"Default"]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-cyan-400",children:"Select your currency:"}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx("button",{onClick:()=>K("USD"),className:"px-6 py-3 rounded-lg font-bold text-lg transition-all "+("USD"===G?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-[0_0_12px_2px_#3b82f6]":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:"USD $150.00"}),e.jsx("button",{onClick:()=>K("COP"),className:"px-6 py-3 rounded-lg font-bold text-lg transition-all "+("COP"===G?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-[0_0_12px_2px_#3b82f6]":"bg-gray-600 text-gray-300 hover:bg-gray-500"),children:"COP $600,000"})]}),e.jsxs("p",{className:"text-center text-sm text-gray-400 mt-2",children:["Selected price: ",G," ",Wr(G).symbol,Wr(G).amount]})]}),e.jsxs("div",{className:"flex flex-col gap-4 mt-4",children:[e.jsx("div",{className:"w-full py-3 rounded-lg bg-gray-600 text-gray-400 font-bold text-lg text-center",children:"PayPal temporarily unavailable"}),e.jsxs("button",{onClick:()=>{const e="payu_checkout";if(!window.open("",e))return void alert("Please allow popups to continue with payment");const t=Wr(G),a=`${Ar.API_KEY}~${Ar.MERCHANT_ID}~${Y.referenceCode}~${t.amount}~${G}`,o=M(a).toString(),n=document.createElement("form");n.method="POST",n.action=t.url,n.target=e;const i={merchantId:Ar.MERCHANT_ID,accountId:t.accountId,description:`Fado Configurator - ${G} ${t.symbol}${t.amount}`,referenceCode:Y.referenceCode,amount:t.amount,currency:G,buyerEmail:Y.buyerEmail,signature:o,test:"1",confirmationUrl:Ar.CONFIRMATION_URL,responseUrl:Ar.RESPONSE_URL,lng:t.language,extra1:"Fado",extra2:D.chasis||"Custom",extra3:`Applied colors - Faders: ${Object.keys(D.faders||{}).length}`,extra4:`Fado Configurator - ${G} ${t.symbol}${t.amount}`,payerCountry:"CO",payerCity:"Bogota",payerPhone:"+57-300-1234567",country:"CO",ipAddress:"8.8.4.4"};Object.entries(i).forEach(([e,t])=>{const a=document.createElement("input");a.type="hidden",a.name=e,a.value=t,n.appendChild(a)}),document.body.appendChild(n),n.submit(),document.body.removeChild(n)},className:"w-full py-3 rounded-lg bg-gradient-to-r from-green-400 to-cyan-400 text-white font-bold text-lg shadow-[0_0_12px_2px_#0ff580] hover:scale-105 transition-all mt-2",children:["Pay with PayU (",G," ",Wr(G).symbol,Wr(G).amount,")"]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-6 text-center",children:"Your purchase is 100% safe and protected."})]})})]})]})},bl=Object.freeze(Object.defineProperty({__proto__:null,default:gl},Symbol.toStringTag,{value:"Module"})),yl=({className:t="",style:a={}})=>{const[o,n]=E.useState(!1),[i]=E.useState(Date.now());return E.useEffect(()=>{const e=setTimeout(()=>{n(!0)},3e3);return()=>clearTimeout(e)},[]),e.jsxs("div",{className:t,style:a,children:[e.jsx(xl,{isVisible:!o}),e.jsx("div",{style:{width:"100%",height:"100%",opacity:o?1:0},children:e.jsx(gl,{})})]})},vl=Object.freeze(Object.defineProperty({__proto__:null,default:yl},Symbol.toStringTag,{value:"Module"}));function wl(){const[o,n]=E.useState("beato8"),[i,s]=E.useState(!1),[r,l]=E.useState(null),{isLoading:c}=(()=>{const{progress:e,total:a,loaded:o}=t(),[n,i]=E.useState(!0),[s,r]=E.useState(!1),[l]=E.useState(Date.now());return E.useEffect(()=>{0!==a?e>=100&&o>=a&&r(!0):i(!1)},[e,a,o]),E.useEffect(()=>{if(s){const e=Date.now()-l,t=5e3,a=Math.max(0,t-e),o=setTimeout(()=>{i(!1)},a);return()=>clearTimeout(o)}},[s,l]),{isLoading:n,progress:e,total:a,loaded:o}})(),{prefetchOnHover:d,prefetchOnIntersection:u}=(()=>{const e=E.useCallback(e=>{e().catch(e=>{})},[]),t=E.useCallback((t,a)=>{e(t)},[e]),a=E.useCallback((t,a)=>{if(!a)return;const o=new IntersectionObserver(a=>{a.forEach(a=>{a.isIntersecting&&(e(t),o.disconnect())})},{threshold:.1});return o.observe(a),()=>o.disconnect()},[e]);return{prefetchComponent:e,prefetchOnHover:t,prefetchOnIntersection:a}})(),h=E.useRef(null);E.useEffect(()=>{const e=new URLSearchParams(window.location.search);(e.has("referenceCode")||e.has("reference_sale")||e.has("status")||e.has("state_pol"))&&(s(!0),l({referenceCode:e.get("referenceCode")||e.get("reference_sale"),status:e.get("status")||e.get("state_pol"),amount:e.get("amount")||e.get("value"),currency:e.get("currency"),description:e.get("description"),transactionId:e.get("transaction_id")||e.get("transactionId")}))},[]),E.useEffect(()=>{h.current&&u(()=>a(()=>Promise.resolve().then(()=>Yr),void 0),h.current)},[u]);return i?e.jsx(pt,{children:e.jsx(E.Suspense,{fallback:e.jsx(ht,{type:"payment"}),children:e.jsx(mt,{})})}):e.jsxs("div",{className:"App",children:[e.jsx(ut,{isVisible:c}),e.jsx("div",{className:"product-menu",children:[{id:"beato8",name:"BEATO8",icon:"textures/beato.png",isImage:!0},{id:"beato16",name:"BEATO16",icon:"textures/beato16.png",isImage:!0},{id:"knobo",name:"KNOBO",icon:"textures/knobo.png",isImage:!0},{id:"mixo",name:"MIXO",icon:"textures/mixo.png",isImage:!0},{id:"loopo",name:"LOOPO",icon:"textures/loopo.png",isImage:!0},{id:"fado",name:"FADO",icon:"textures/fado.png",isImage:!0}].map(t=>e.jsxs("button",{className:"product-menu-item",onClick:()=>{return e=t.id,void n(e);var e},ref:"beato8"===t.id?h:void 0,style:{backgroundColor:o===t.id?"rgba(4, 19, 19, 0.3)":"transparent",background:o===t.id?"linear-gradient(135deg, rgba(0, 255, 255, 0.3) 0%, rgba(0, 128, 255, 0.2) 100%)":"transparent",border:o===t.id?"1px solid #00FFFF":"1px solid rgba(0, 255, 255, 0.3)",color:o===t.id?"#00FFFF":"#ffffff",boxShadow:o===t.id?"0 0 8px 2px rgba(0, 255, 255, 0.4)":"none"},onMouseEnter:e=>{var n;n=t.id,d({beato8:()=>a(()=>Promise.resolve().then(()=>Yr),void 0),beato16:()=>a(()=>Promise.resolve().then(()=>el),void 0),knobo:()=>a(()=>Promise.resolve().then(()=>il),void 0),mixo:()=>a(()=>Promise.resolve().then(()=>dl),void 0),loopo:()=>a(()=>Promise.resolve().then(()=>fl),void 0),fado:()=>a(()=>Promise.resolve().then(()=>vl),void 0)}[n],{}),o!==t.id&&(e.currentTarget.style.backgroundColor="rgba(0, 255, 255, 0.2)",e.currentTarget.style.transform="translateX(3px) scale(1.02)",e.currentTarget.style.boxShadow="0 8px 25px rgba(0, 255, 255, 0.4)")},onMouseLeave:e=>{o!==t.id&&(e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.transform="translateX(0) scale(1)",e.currentTarget.style.boxShadow="none")},children:[t.isImage?e.jsx("img",{src:t.icon,alt:t.name,style:{width:"30px",height:"30px",objectFit:"contain",filter:o===t.id?"drop-shadow(0 1px 2px rgba(0,0,0,0.3))":"none"},onError:e=>{e.currentTarget.style.display="none"}}):e.jsx("span",{style:{fontSize:"14px",filter:o===t.id?"drop-shadow(0 1px 2px rgba(0,0,0,0.3))":"none"},children:t.icon}),e.jsx("div",{style:{textAlign:"center"},children:e.jsx("div",{style:{fontSize:"8px",fontWeight:"bold",marginBottom:"1px"},children:t.name})}),o===t.id&&e.jsx("div",{style:{position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",width:"2px",height:"50%",backgroundColor:"#00FFFF",borderRadius:"1px",boxShadow:"0 0 4px 1px rgba(6, 27, 27, 0.6)"}})]},t.id))}),e.jsx("main",{className:"canvas-wrap",children:e.jsx(pt,{children:e.jsx(E.Suspense,{fallback:e.jsx(ht,{type:"configurator"}),children:e.jsxs(ft,{children:["beato8"===o&&e.jsx(Kr,{}),"knobo"===o&&e.jsx(nl,{}),"mixo"===o&&e.jsx(cl,{}),"beato16"===o&&e.jsx(Qr,{}),"loopo"===o&&e.jsx(ml,{}),"fado"===o&&e.jsx(yl,{})]})})})})]})}j(document.getElementById("root")).render(e.jsx(E.StrictMode,{children:e.jsx(nt,{children:e.jsx(wl,{})})}));export{lt as u};
